import{A as ua,B as h0,C as f0,D as B,E as Rt,F as et,G as Yf,H as p0,I as da,J as Dt,K as ii,L as Cc,M as Kf,N as g0,O as Ss,P as ha,Q as m0,R as y0,S as Oi,T as Et,a as P,b as le,c as Qt,d as t0,e as yc,f as n0,g as i0,h as S,i as Is,j as vc,k as r0,l as s0,m as it,n as o0,o as qf,p as a0,q as Pn,r as l0,s as c0,t as _c,u as Ke,v as u0,w as d0,x as Zt,y as ki,z as bc}from"./chunk-TIG7Q4RW.js";var v0=null;var Qf=1,Zf=Symbol("SIGNAL");function he(t){let e=v0;return v0=t,e}var _0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function QA(t){if(!(ep(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qf)){if(!t.producerMustRecompute(t)&&!Xf(t)){t.dirty=!1,t.lastCleanEpoch=Qf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qf}}function b0(t){return t&&(t.nextProducerIndex=0),he(t)}function C0(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ep(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Jf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xf(t){wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(QA(n),i!==n.version))return!0}return!1}function w0(t){if(wc(t),ep(t))for(let e=0;e<t.producerNode.length;e++)Jf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Jf(t,e){if(ZA(t),wc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Jf(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];wc(r),r.producerIndexOfThis[i]=e}}function ep(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ZA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function XA(){throw new Error}var JA=XA;function D0(t){JA=t}function $(t){return typeof t=="function"}function Ms(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=Ms(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if($(i))try{i()}catch(s){e=s instanceof Dc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{E0(s)}catch(o){e=e??[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var tp=ze.EMPTY;function Ec(t){return t instanceof ze||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function E0(t){$(t)?t():t.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ts={setTimeout(t,e,...n){let{delegate:i}=Ts;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ts;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xc(t){Ts.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(t);else throw t})}function Ar(){}var x0=np("C",void 0,void 0);function I0(t){return np("E",void 0,t)}function S0(t){return np("N",t,void 0)}function np(t,e,n){return{kind:t,value:e,error:n}}var Pr=null;function As(t){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Pr;if(e&&(Pr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Pr;if(Pr=null,n)throw i}}else t()}function M0(t){gn.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=t)}var Nr=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ec(e)&&e.add(this)):this.destination=nP}static create(e,n,i){return new ri(e,n,i)}next(e){this.isStopped?rp(S0(e),this):this._next(e)}error(e){this.isStopped?rp(I0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rp(x0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eP=Function.prototype.bind;function ip(t,e){return eP.call(t,e)}var sp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Ic(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Ic(i)}else Ic(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}},ri=class extends Nr{constructor(e,n,i){super();let r;if($(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ip(e.next,s),error:e.error&&ip(e.error,s),complete:e.complete&&ip(e.complete,s)}):r=e}this.destination=new sp(r)}};function Ic(t){gn.useDeprecatedSynchronousErrorHandling?M0(t):xc(t)}function tP(t){throw t}function rp(t,e){let{onStoppedNotification:n}=gn;n&&Ts.setTimeout(()=>n(t,e))}var nP={closed:!0,next:Ar,error:tP,complete:Ar};var Ps=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(t){return t}function op(...t){return ap(t)}function ap(t){return t.length===0?ct:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=rP(n)?n:new ri(n,i,r);return As(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=T0(i),new i((r,s)=>{let o=new ri({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ps](){return this}pipe(...n){return ap(n)(this)}toPromise(n){return n=T0(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function T0(t){var e;return(e=t??gn.Promise)!==null&&e!==void 0?e:Promise}function iP(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function rP(t){return t&&t instanceof Nr||iP(t)&&Ec(t)}function lp(t){return $(t?.lift)}function q(t){return e=>{if(lp(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,i,r){return new cp(t,e,n,i,r)}var cp=class extends Nr{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ns(){return q((t,e)=>{let n=null;t._refCount++;let i=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Rs=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Ns()(this)}};var A0=Ms(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Sc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new A0}next(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?tp:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,Tr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Sc(e,n),t})(),Sc=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:tp}};var ut=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var fa={now(){return(fa.delegate||Date).now()},delegate:void 0};var Mc=class extends tt{constructor(e=1/0,n=1/0,i=fa){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Tc=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var pa={setInterval(t,e,...n){let{delegate:i}=pa;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=pa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ks=class extends Tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return pa.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&pa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Os.now=fa.now;var Fs=class extends Os{constructor(e,n=Os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var ga=new Fs(ks);var Ac=class extends ks{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Pc=class extends Fs{};var up=new Pc(Ac);var kt=new Z(t=>t.complete());function P0(t){return t&&$(t.schedule)}function dp(t){return t[t.length-1]}function Ls(t){return $(dp(t))?t.pop():void 0}function Nn(t){return P0(dp(t))?t.pop():void 0}function N0(t,e){return typeof dp(t)=="number"?t.pop():e}var Nc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Rc(t){return $(t?.then)}function kc(t){return $(t[Ps])}function Oc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Fc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lc=sP();function Vc(t){return $(t?.[Lc])}function jc(t){return n0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield yc(n.read());if(r)return yield yc(void 0);yield yield yc(i)}}finally{n.releaseLock()}})}function Bc(t){return $(t?.getReader)}function be(t){if(t instanceof Z)return t;if(t!=null){if(kc(t))return oP(t);if(Nc(t))return aP(t);if(Rc(t))return lP(t);if(Oc(t))return R0(t);if(Vc(t))return cP(t);if(Bc(t))return uP(t)}throw Fc(t)}function oP(t){return new Z(e=>{let n=t[Ps]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aP(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lP(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xc)})}function cP(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function R0(t){return new Z(e=>{dP(t,e).catch(n=>e.error(n))})}function uP(t){return R0(jc(t))}function dP(t,e){var n,i,r,s;return t0(this,void 0,void 0,function*(){try{for(n=i0(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Ot(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Xt(t,e=0){return q((n,i)=>{n.subscribe(H(i,r=>Ot(i,t,()=>i.next(r),e),()=>Ot(i,t,()=>i.complete(),e),r=>Ot(i,t,()=>i.error(r),e)))})}function mn(t,e=0){return q((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function k0(t,e){return be(t).pipe(mn(e),Xt(e))}function O0(t,e){return be(t).pipe(mn(e),Xt(e))}function F0(t,e){return new Z(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function L0(t,e){return new Z(n=>{let i;return Ot(n,e,()=>{i=t[Lc](),Ot(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>$(i?.return)&&i.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Ot(n,e,()=>{let i=t[Symbol.asyncIterator]();Ot(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function V0(t,e){return Uc(jc(t),e)}function j0(t,e){if(t!=null){if(kc(t))return k0(t,e);if(Nc(t))return F0(t,e);if(Rc(t))return O0(t,e);if(Oc(t))return Uc(t,e);if(Vc(t))return L0(t,e);if(Bc(t))return V0(t,e)}throw Fc(t)}function ce(t,e){return e?j0(t,e):be(t)}function V(...t){let e=Nn(t);return ce(t,e)}function Vs(t,e){let n=$(t)?t:()=>t,i=r=>r.error(n());return new Z(e?r=>e.schedule(i,0,r):i)}function hp(t){return!!t&&(t instanceof Z||$(t.lift)&&$(t.subscribe))}var si=Ms(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function j(t,e){return q((n,i)=>{let r=0;n.subscribe(H(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:hP}=Array;function fP(t,e){return hP(e)?t(...e):t(e)}function $c(t){return j(e=>fP(t,e))}var{isArray:pP}=Array,{getPrototypeOf:gP,prototype:mP,keys:yP}=Object;function Hc(t){if(t.length===1){let e=t[0];if(pP(e))return{args:e,keys:null};if(vP(e)){let n=yP(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function vP(t){return t&&typeof t=="object"&&gP(t)===mP}function zc(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function ma(...t){let e=Nn(t),n=Ls(t),{args:i,keys:r}=Hc(t);if(i.length===0)return ce([],e);let s=new Z(_P(i,e,r?o=>zc(r,o):ct));return n?s.pipe($c(n)):s}function _P(t,e,n=ct){return i=>{B0(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)B0(e,()=>{let c=ce(t[l],e),u=!1;c.subscribe(H(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function B0(t,e,n){t?Ot(n,t,e):e()}function U0(t,e,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;be(n(g,u++)).subscribe(H(e,y=>{r?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){let y=l.shift();o?Ot(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(H(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Qe(t,e,n=1/0){return $(e)?Qe((i,r)=>j((s,o)=>e(i,s,r,o))(be(t(i,r))),n):(typeof e=="number"&&(n=e),q((i,r)=>U0(i,r,t,n)))}function Fi(t=1/0){return Qe(ct,t)}function $0(){return Fi(1)}function js(...t){return $0()(ce(t,Nn(t)))}function Wc(t){return new Z(e=>{be(t()).subscribe(e)})}function fp(...t){let e=Ls(t),{args:n,keys:i}=Hc(t),r=new Z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;be(n[u]).subscribe(H(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?zc(i,a):a),s.complete())}))}});return e?r.pipe($c(e)):r}function Bs(...t){let e=Nn(t),n=N0(t,1/0),i=t;return i.length?i.length===1?be(i[0]):Fi(n)(ce(i,e)):kt}function gt(t,e){return q((n,i)=>{let r=0;n.subscribe(H(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Li(t){return q((e,n)=>{let i=null,r=!1,s;i=e.subscribe(H(n,void 0,void 0,o=>{s=be(t(o,Li(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function H0(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(H(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function oi(t,e){return $(e)?Qe(t,e,1):Qe(t,1)}function Vi(t){return q((e,n)=>{let i=!1;e.subscribe(H(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function ai(t){return t<=0?()=>kt:q((e,n)=>{let i=0;e.subscribe(H(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function pp(t){return j(()=>t)}function gp(t,e=ct){return t=t??bP,q((n,i)=>{let r,s=!0;n.subscribe(H(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function bP(t,e){return t===e}function Gc(t=CP){return q((e,n)=>{let i=!1;e.subscribe(H(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function CP(){return new si}function ji(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return i=>i.pipe(t?gt((r,s)=>t(r,s,i)):ct,ai(1),n?Vi(e):Gc(()=>new si))}function Us(t){return t<=0?()=>kt:q((e,n)=>{let i=[];e.subscribe(H(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function mp(t,e){let n=arguments.length>=2;return i=>i.pipe(t?gt((r,s)=>t(r,s,i)):ct,Us(1),n?Vi(e):Gc(()=>new si))}function $s(t,e){return q(H0(t,e,arguments.length>=2,!0))}function ya(t={}){let{connector:e=()=>new tt,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{let g=o;f(),g?.unsubscribe()};return q((g,m)=>{c++,!d&&!u&&h();let y=l=l??e();m.add(()=>{c--,c===0&&!d&&!u&&(a=yp(p,r))}),y.subscribe(m),!o&&c>0&&(o=new ri({next:v=>y.next(v),error:v=>{d=!0,h(),a=yp(f,n,v),y.error(v)},complete:()=>{u=!0,h(),a=yp(f,i),y.complete()}}),be(g).subscribe(o))})(s)}}function yp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new ri({next:()=>{i.unsubscribe(),t()}});return be(e(...n)).subscribe(i)}function qc(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,ya({connector:()=>new Mc(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function vp(t){return q((e,n)=>{let i=!1,r=0;e.subscribe(H(n,s=>(i||(i=!t(s,r++)))&&n.next(s)))})}function _p(...t){let e=Nn(t);return q((n,i)=>{(e?js(t,n,e):js(t,n)).subscribe(i)})}function Ie(t,e){return q((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(H(i,l=>{r?.unsubscribe();let c=0,u=s++;be(t(l,u)).subscribe(r=H(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Yc(t,e){return $(e)?Ie(()=>t,e):Ie(()=>t)}function bp(t){return q((e,n)=>{be(t).subscribe(H(n,()=>n.complete(),Ar)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let i=$(t)||e||n?{next:t,error:e,complete:n}:t;return i?q((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(H(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):ct}function Cp(...t){let e=Ls(t);return q((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)be(t[l]).subscribe(H(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(ct))&&(o=null))},Ar));n.subscribe(H(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var wP="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(Iu(e,n)),this.code=e}};function Iu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Vp=class extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=wp(s),r&&(r=wp(r)),o&&(o=wp(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof ze&&e.add(a),a}};function wp(t){return e=>{setTimeout(t,void 0,e)}}var Ge=Vp;var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{});function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function z0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(MC||{}),On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{});function Aa(t){return{toString:t}.toString()}var dt=globalThis;var Ks={},en=[];function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function DP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var EP=Ce({\u0275cmp:Ce}),xP=Ce({\u0275dir:Ce}),IP=Ce({\u0275pipe:Ce}),SP=Ce({\u0275mod:Ce}),ru=Ce({\u0275fac:Ce}),va=Ce({__NG_ELEMENT_ID__:Ce}),W0=Ce({__NG_ENV_ID__:Ce}),mt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mt||{});function TC(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function jp(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];TP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function MP(t){return t===3||t===4||t===6}function TP(t){return t.charCodeAt(0)===64}function ba(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?G0(t,n,r,null,e[++i]):G0(t,n,r,null,null))}}return t}function G0(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var AC="ng-template";function AP(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&TC(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function PC(t){return t.type===4&&t.value!==AC}function PP(t,e,n){let i=t.type===4&&!n?AC:t.value;return e===i}function NP(t,e,n){let i=4,r=t.attrs||[],s=OP(r),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!yn(i)&&!yn(l))return!1;if(o&&yn(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!PP(t,l,n)||l===""&&e.length===1){if(yn(i))return!1;o=!0}}else{let c=i&8?l:e[++a];if(i&8&&t.attrs!==null){if(!AP(t.attrs,c,n)){if(yn(i))return!1;o=!0}continue}let u=i&8?"class":l,d=RP(u,r,PC(t),n);if(d===-1){if(yn(i))return!1;o=!0;continue}if(c!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&TC(f,c,0)!==-1||i&2&&c!==h){if(yn(i))return!1;o=!0}}}}return yn(i)||o}function yn(t){return(t&1)===0}function RP(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return FP(e,t)}function kP(t,e,n=!1){for(let i=0;i<e.length;i++)if(NP(t,e[i],n))return!0;return!1}function OP(t){for(let e=0;e<t.length;e++){let n=t[e];if(MP(n))return e}return t.length}function FP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function q0(t,e){return t?":not("+e.trim()+")":e}function LP(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!yn(o)&&(e+=q0(s,r),r=""),i=o,s=s||!yn(i);n++}return r!==""&&(e+=q0(s,r)),e}function VP(t){return t.map(LP).join(",")}function jP(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!yn(r))break;r=s}i++}return{attrs:e,classes:n}}function rt(t){return Aa(()=>{let e=LC(t),n=le(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===MC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});VC(n);let i=t.dependencies;return n.directiveDefs=K0(i,!1),n.pipeDefs=K0(i,!0),n.id=$P(n),n})}function BP(t){return $i(t)||RC(t)}function UP(t){return t!==null}function Fe(t){return Aa(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y0(t,e){if(t==null)return Ks;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=mt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==mt.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Ue(t){return Aa(()=>{let e=LC(t);return VC(e),e})}function NC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $i(t){return t[EP]||null}function RC(t){return t[xP]||null}function kC(t){return t[IP]||null}function OC(t){let e=$i(t)||RC(t)||kC(t);return e!==null?e.standalone:!1}function FC(t,e){let n=t[SP]||null;if(!n&&e===!0)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function LC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y0(t.inputs,e),outputs:Y0(t.outputs),debugInfo:null}}function VC(t){t.features?.forEach(e=>e(t))}function K0(t,e){if(!t)return null;let n=e?kC:BP;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(UP)}function $P(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ui=0,se=1,U=2,yt=3,vn=4,Cn=5,su=6,Ca=7,_n=8,Qs=9,Hi=10,Ze=11,wa=12,Q0=13,ro=14,Fn=15,Su=16,Hs=17,Zs=18,Mu=19,jC=20,Ui=21,Dp=22,Fr=23,bn=25,BC=1;var Lr=7,ou=8,au=9,tn=10,xg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xg||{});function kr(t){return Array.isArray(t)&&typeof t[BC]=="object"}function di(t){return Array.isArray(t)&&t[BC]===!0}function Ig(t){return(t.flags&4)!==0}function Tu(t){return t.componentOffset>-1}function Au(t){return(t.flags&1)===1}function zi(t){return!!t.template}function HP(t){return(t[U]&512)!==0}var zP="svg",WP="math",GP=!1;function qP(){return GP}function Ln(t){for(;Array.isArray(t);)t=t[ui];return t}function UC(t,e){return Ln(e[t])}function nn(t,e){return Ln(e[t.index])}function $C(t,e){return t.data[e]}function YP(t,e){return t[e]}function qi(t,e){let n=e[t];return kr(n)?n:n[ui]}function Sg(t){return(t[U]&128)===128}function KP(t){return di(t[yt])}function Xs(t,e){return e==null?null:t[e]}function HC(t){t[Hs]=0}function QP(t){t[U]&1024||(t[U]|=1024,Sg(t)&&Da(t))}function ZP(t,e){for(;t>0;)e=e[ro],t--;return e}function Mg(t){return!!(t[U]&9216||t[Fr]?.dirty)}function Bp(t){Mg(t)?Da(t):t[U]&64&&(qP()?(t[U]|=1024,Da(t)):t[Hi].changeDetectionScheduler?.notify())}function Da(t){t[Hi].changeDetectionScheduler?.notify();let e=Ea(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!Sg(e)));)e=Ea(e)}function zC(t,e){if((t[U]&256)===256)throw new O(911,!1);t[Ui]===null&&(t[Ui]=[]),t[Ui].push(e)}function XP(t,e){if(t[Ui]===null)return;let n=t[Ui].indexOf(e);n!==-1&&t[Ui].splice(n,1)}function Ea(t){let e=t[yt];return di(e)?e[yt]:e}var ne={lFrame:ZC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JP(){return ne.lFrame.elementDepthCount}function eN(){ne.lFrame.elementDepthCount++}function tN(){ne.lFrame.elementDepthCount--}function WC(){return ne.bindingsEnabled}function nN(){return ne.skipHydrationRootTNode!==null}function iN(t){return ne.skipHydrationRootTNode===t}function rN(){ne.skipHydrationRootTNode=null}function we(){return ne.lFrame.lView}function vt(){return ne.lFrame.tView}function so(t){return ne.lFrame.contextLView=t,t[_n]}function oo(t){return ne.lFrame.contextLView=null,t}function Lt(){let t=GC();for(;t!==null&&t.type===64;)t=t.parent;return t}function GC(){return ne.lFrame.currentTNode}function sN(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hr(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Tg(){return ne.lFrame.isParent}function qC(){ne.lFrame.isParent=!1}function oN(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function aN(t){return ne.lFrame.bindingIndex=t}function Pu(){return ne.lFrame.bindingIndex++}function lN(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cN(){return ne.lFrame.inI18n}function uN(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Up(e)}function dN(){return ne.lFrame.currentDirectiveIndex}function Up(t){ne.lFrame.currentDirectiveIndex=t}function hN(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YC(t){ne.lFrame.currentQueryIndex=t}function fN(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Cn]:null}function KC(t,e,n){if(n&ee.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&ee.Host);)if(r=fN(s),r===null||(s=s[ro],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ne.lFrame=QC();return i.currentTNode=e,i.lView=t,!0}function Ag(t){let e=QC(),n=t[se];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QC(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?ZC(t):e}function ZC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function XC(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JC=XC;function Pg(){let t=XC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pN(t){return(ne.lFrame.contextLView=ZP(t,ne.lFrame.contextLView))[_n]}function ao(){return ne.lFrame.selectedIndex}function Vr(t){ne.lFrame.selectedIndex=t}function Ng(){let t=ne.lFrame;return $C(t.tView,t.selectedIndex)}function gN(){return ne.lFrame.currentNamespace}var ew=!0;function Nu(){return ew}function Ru(t){ew=t}function mN(){return ku(Lt(),we())}function ku(t,e){return new hi(nn(t,e))}var hi=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=mN;let t=e;return t})();function Rg(t,e){t.forEach(n=>Array.isArray(n)?Rg(n,e):e(n))}function tw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yN(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function vN(t,e,n){let i=Pa(t,e);return i>=0?t[i|1]=n:(i=~i,yN(t,i,e,n)),i}function Ep(t,e){let n=Pa(t,e);if(n>=0)return t[n|1]}function Pa(t,e){return _N(t,e,1)}function _N(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}function nw(t){return(t.flags&128)===128}var $p;function iw(t){$p=t}function bN(){if($p!==void 0)return $p;if(typeof document<"u")return document;throw new O(210,!1)}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Le(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ou(t){return Z0(t,sw)||Z0(t,ow)}function rw(t){return Ou(t)!==null}function Z0(t,e){return t.hasOwnProperty(e)?t[e]:null}function CN(t){let e=t&&(t[sw]||t[ow]);return e||null}function X0(t){return t&&(t.hasOwnProperty(J0)||t.hasOwnProperty(wN))?t[J0]:null}var sw=Ce({\u0275prov:Ce}),J0=Ce({\u0275inj:Ce}),ow=Ce({ngInjectableDef:Ce}),wN=Ce({ngInjectorDef:Ce}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Fu=new N("",{providedIn:"root",factory:()=>DN}),DN="ng",kg=new N(""),_t=new N("",{providedIn:"platform",factory:()=>"unknown"});var Og=new N("",{providedIn:"root",factory:()=>bN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EN=Ce({__forward_ref__:Ce});function wn(t){return t.__forward_ref__=wn,t.toString=function(){return It(this())},t}function xt(t){return aw(t)?t():t}function aw(t){return typeof t=="function"&&t.hasOwnProperty(EN)&&t.__forward_ref__===wn}function lw(t){return t&&!!t.\u0275providers}function Fg(t){return typeof t=="string"?t:t==null?"":String(t)}function xN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fg(t)}function IN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,t)}function Lg(t,e){throw new O(-201,!1)}var Hp;function cw(){return Hp}function Ft(t){let e=Hp;return Hp=t,e}function uw(t,e,n){let i=Ou(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ee.Optional)return null;if(e!==void 0)return e;Lg(t,"Injector")}var SN={},xa=SN,zp="__NG_DI_FLAG__",cu="ngTempTokenPath",MN="ngTokenPath",TN=/\n/gm,AN="\u0275",eC="__source",qs;function PN(){return qs}function Bi(t){let e=qs;return qs=t,e}function NN(t,e=ee.Default){if(qs===void 0)throw new O(-203,!1);return qs===null?uw(t,void 0,e):qs.get(t,e&ee.Optional?null:void 0,e)}function x(t,e=ee.Default){return(cw()||NN)(xt(t),e)}function A(t,e=ee.Default){return x(t,Lu(e))}function Lu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wp(t){let e=[];for(let n=0;n<t.length;n++){let i=xt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,s=ee.Default;for(let o=0;o<i.length;o++){let a=i[o],l=RN(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(x(r,s))}else e.push(x(i))}return e}function dw(t,e){return t[zp]=e,t.prototype[zp]=e,t}function RN(t){return t[zp]}function kN(t,e,n,i){let r=t[cu];throw e[eC]&&r.unshift(e[eC]),t.message=ON(`
`+t.message,r,n,i),t[MN]=r,t[cu]=null,t}function ON(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AN?t.slice(2):t;let r=It(e);if(Array.isArray(e))r=e.map(It).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):It(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(TN,`
  `)}`}var FN="h",LN="b";var VN=()=>null;function Vg(t,e,n=!1){return VN(t,e,n)}var Kc="__parameters__";function jN(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function hw(t,e,n){return Aa(()=>{let i=jN(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Kc)?l[Kc]:Object.defineProperty(l,Kc,{value:[]})[Kc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var lo=dw(hw("Optional"),8);var jg=dw(hw("SkipSelf"),4);function jr(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}var Js=new N(""),fw=new N("",-1),pw=new N(""),uu=class{get(e,n=xa){if(n===xa){let i=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw i.name="NullInjectorError",i}return n}};function Vu(t){return{\u0275providers:t}}function BN(...t){return{\u0275providers:gw(!0,t),\u0275fromNgModule:!0}}function gw(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Rg(e,o=>{let a=o;Gp(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&mw(r,s),n}function mw(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Bg(r,s=>{e(s,i)})}}function Gp(t,e,n,i){if(t=xt(t),!t)return!1;let r=null,s=X0(t),o=!s&&$i(t);if(!s&&!o){let l=t.ngModule;if(s=X0(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Gp(c,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{Rg(s.imports,u=>{Gp(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&mw(c,e)}if(!a){let c=jr(r)||(()=>new r);e({provide:r,useFactory:c,deps:en},r),e({provide:pw,useValue:r,multi:!0},r),e({provide:Js,useValue:()=>x(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;Bg(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Bg(t,e){for(let n of t)lw(n)&&(n=n.\u0275providers),Array.isArray(n)?Bg(n,e):e(n)}var UN=Ce({provide:String,useValue:Ce});function yw(t){return t!==null&&typeof t=="object"&&UN in t}function $N(t){return!!(t&&t.useExisting)}function HN(t){return!!(t&&t.useFactory)}function eo(t){return typeof t=="function"}function zN(t){return!!t.useClass}var ju=new N(""),Jc={},WN={},xp;function Ug(){return xp===void 0&&(xp=new uu),xp}var St=class{},Ia=class extends St{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yp(e,o=>this.processProvider(o)),this.records.set(fw,zs(void 0,this)),r.has("environment")&&this.records.set(St,zs(void 0,this));let s=this.records.get(ju);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(pw,en,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bi(this),i=Ft(void 0),r;try{return e()}finally{Bi(n),Ft(i)}}get(e,n=xa,i=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(W0))return e[W0](this);i=Lu(i);let r,s=Bi(this),o=Ft(void 0);try{if(!(i&ee.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=QN(e)&&Ou(e);c&&this.injectableDefInScope(c)?l=zs(qp(e),Jc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ee.Self?Ug():this.parent;return n=i&ee.Optional&&n===xa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cu]=a[cu]||[]).unshift(It(e)),s)throw a;return kN(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(o),Bi(s)}}resolveInjectorInitializers(){let e=he(null),n=Bi(this),i=Ft(void 0),r;try{let s=this.get(Js,en,ee.Self);for(let o of s)o()}finally{Bi(n),Ft(i),he(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(It(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=xt(e);let n=eo(e)?e:xt(e&&e.provide),i=qN(e);if(!eo(e)&&e.multi===!0){let r=this.records.get(n);r||(r=zs(void 0,Jc,!0),r.factory=()=>Wp(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=he(null);try{return n.value===Jc&&(n.value=WN,n.value=n.factory()),typeof n.value=="object"&&n.value&&KN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=xt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qp(t){let e=Ou(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof N)throw new O(204,!1);if(t instanceof Function)return GN(t);throw new O(204,!1)}function GN(t){if(t.length>0)throw new O(204,!1);let n=CN(t);return n!==null?()=>n.factory(t):()=>new t}function qN(t){if(yw(t))return zs(void 0,t.useValue);{let e=vw(t);return zs(e,Jc)}}function vw(t,e,n){let i;if(eo(t)){let r=xt(t);return jr(r)||qp(r)}else if(yw(t))i=()=>xt(t.useValue);else if(HN(t))i=()=>t.useFactory(...Wp(t.deps||[]));else if($N(t))i=()=>x(xt(t.useExisting));else{let r=xt(t&&(t.useClass||t.provide));if(YN(t))i=()=>new r(...Wp(t.deps));else return jr(r)||qp(r)}return i}function zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YN(t){return!!t.deps}function KN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QN(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Yp(t,e){for(let n of t)Array.isArray(n)?Yp(n,e):n&&lw(n)?Yp(n.\u0275providers,e):e(n)}function jn(t,e){t instanceof Ia&&t.assertNotDestroyed();let n,i=Bi(t),r=Ft(void 0);try{return e()}finally{Bi(i),Ft(r)}}function ZN(t){if(!cw()&&!PN())throw new O(-203,!1)}function XN(t){let e=dt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function JN(t){return typeof t=="function"}var Kp=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function _w(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function fi(){return bw}function bw(t){return t.type.prototype.ngOnChanges&&(t.setInput=tR),eR}fi.ngInherit=!0;function eR(){let t=ww(this),e=t?.current;if(e){let n=t.previous;if(n===Ks)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function tR(t,e,n,i,r){let s=this.declaredInputs[i],o=ww(t)||nR(t,{previous:Ks,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Kp(c&&c.currentValue,n,l===Ks),_w(t,e,r,n)}var Cw="__ngSimpleChanges__";function ww(t){return t[Cw]||null}function nR(t,e){return t[Cw]=e}var tC=null;var Rn=function(t,e,n){tC?.(t,e,n)};function iR(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=bw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Bu(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function eu(t,e,n){Dw(t,e,3,n)}function tu(t,e,n,i){(t[U]&3)===n&&Dw(t,e,n,i)}function Ip(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function Dw(t,e,n,i){let r=i!==void 0?t[Hs]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[Hs]+=65536),(a<s||s==-1)&&(rR(t,n,e,l),t[Hs]=(t[Hs]&4294901760)+l+2),l++}function nC(t,e){Rn(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),Rn(5,t,e)}}function rR(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[U]>>14<t[Hs]>>16&&(t[U]&3)===e&&(t[U]+=16384,nC(a,s)):nC(a,s)}var Ys=-1,Br=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function sR(t){return t instanceof Br}function oR(t){return(t.flags&8)!==0}function aR(t){return(t.flags&16)!==0}function Ew(t){return t!==Ys}function du(t){return t&32767}function lR(t){return t>>16}function hu(t,e){let n=lR(t),i=e;for(;n>0;)i=i[ro],n--;return i}var Qp=!0;function fu(t){let e=Qp;return Qp=t,e}var cR=256,xw=cR-1,Iw=5,uR=0,kn={};function dR(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(va)&&(i=n[va]),i==null&&(i=n[va]=uR++);let r=i&xw,s=1<<r;e.data[t+(r>>Iw)]|=s}function pu(t,e){let n=Sw(t,e);if(n!==-1)return n;let i=e[se];i.firstCreatePass&&(t.injectorIndex=e.length,Sp(i.data,t),Sp(e,null),Sp(i.blueprint,null));let r=$g(t,e),s=t.injectorIndex;if(Ew(r)){let o=du(r),a=hu(r,e),l=a[se].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Sp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Nw(r),i===null)return Ys;if(n++,r=r[ro],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ys}function Zp(t,e,n){dR(t,e,n)}function Mw(t,e,n){if(n&ee.Optional||t!==void 0)return t;Lg(e,"NodeInjector")}function Tw(t,e,n,i){if(n&ee.Optional&&i===void 0&&(i=null),!(n&(ee.Self|ee.Host))){let r=t[Qs],s=Ft(void 0);try{return r?r.get(e,i,n&ee.Optional):uw(e,i,n&ee.Optional)}finally{Ft(s)}}return Mw(i,e,n)}function Aw(t,e,n,i=ee.Default,r){if(t!==null){if(e[U]&2048&&!(i&ee.Self)){let o=mR(t,e,n,i,kn);if(o!==kn)return o}let s=Pw(t,e,n,i,kn);if(s!==kn)return s}return Tw(e,n,i,r)}function Pw(t,e,n,i,r){let s=pR(n);if(typeof s=="function"){if(!KC(e,t,i))return i&ee.Host?Mw(r,n,i):Tw(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&ee.Optional))Lg(n);else return o}finally{JC()}}else if(typeof s=="number"){let o=null,a=Sw(t,e),l=Ys,c=i&ee.Host?e[Fn][Cn]:null;for((a===-1||i&ee.SkipSelf)&&(l=a===-1?$g(t,e):e[a+8],l===Ys||!rC(i,!1)?a=-1:(o=e[se],a=du(l),e=hu(l,e)));a!==-1;){let u=e[se];if(iC(s,a,u.data)){let d=hR(a,e,n,o,i,c);if(d!==kn)return d}l=e[a+8],l!==Ys&&rC(i,e[se].data[a+8]===c)&&iC(s,a,e)?(o=u,a=du(l),e=hu(l,e)):a=-1}}return r}function hR(t,e,n,i,r,s){let o=e[se],a=o.data[t+8],l=i==null?Tu(a)&&Qp:i!=o&&(a.type&3)!==0,c=r&ee.Host&&s===a,u=fR(a,o,n,l,c);return u!==null?to(e,o,u,a):kn}function fR(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=o[l];if(f&&zi(f)&&f.type===n)return l}return null}function to(t,e,n,i){let r=t[n],s=e.data;if(sR(r)){let o=r;o.resolving&&IN(xN(s[n]));let a=fu(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ft(o.injectImpl):null,u=KC(t,i,ee.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&iR(n,s[n],e)}finally{c!==null&&Ft(c),fu(a),o.resolving=!1,JC()}}return r}function pR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(va)?t[va]:void 0;return typeof e=="number"?e>=0?e&xw:gR:e}function iC(t,e,n){let i=1<<t;return!!(n[e+(t>>Iw)]&i)}function rC(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Or=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Aw(this._tNode,this._lView,e,Lu(i),n)}};function gR(){return new Or(Lt(),we())}function pi(t){return Aa(()=>{let e=t.prototype.constructor,n=e[ru]||Xp(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[ru]||Xp(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Xp(t){return aw(t)?()=>{let e=Xp(xt(t));return e&&e()}:jr(t)}function mR(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[U]&2048&&!(o[U]&512);){let a=Pw(s,o,n,i|ee.Self,kn);if(a!==kn)return a;let l=s.parent;if(!l){let c=o[jC];if(c){let u=c.get(n,kn,i);if(u!==kn)return u}l=Nw(o),o=o[ro]}s=l}return r}function Nw(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Cn]:null}function sC(t,e=null,n=null,i){let r=Rw(t,e,n,i);return r.resolveInjectorInitializers(),r}function Rw(t,e=null,n=null,i,r=new Set){let s=[n||en,BN(t)];return i=i||(typeof t=="object"?void 0:It(t)),new Ia(s,e||Ug(),i||null,r)}var Dn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return sC({name:""},r,i,"");{let s=i.name??"";return sC({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=xa,e.NULL=new uu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>x(fw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),yR="ngOriginalError";function Mp(t){return t[yR]}var Vn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mp(e);for(;n&&Mp(n);)n=Mp(n);return n||null}},kw=new N("",{providedIn:"root",factory:()=>A(Vn).handleError.bind(void 0)});var Ow=!1,vR=new N("",{providedIn:"root",factory:()=>Ow});var Jp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wP})`}};function Hg(t){return t instanceof Jp?t.changingThisBreaksApplicationSecurity:t}var _R=/^>|^->|<!--|-->|--!>|<!-$/g,bR=/(<|>)/g,CR="\u200B$1\u200B";function wR(t){return t.replace(_R,e=>e.replace(bR,CR))}var Fw=new Map,DR=0;function ER(){return DR++}function xR(t){Fw.set(t[Mu],t)}function IR(t){Fw.delete(t[Mu])}var oC="__ngContext__";function Wi(t,e){kr(e)?(t[oC]=e[Mu],xR(e)):t[oC]=e}function Lw(t){return t instanceof Function?t():t}function SR(t){return(t??A(Dn)).get(_t)==="browser"}var li=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(li||{}),MR;function zg(t,e){return MR(t,e)}function Ws(t,e,n,i,r){if(i!=null){let s,o=!1;di(i)?s=i:kr(i)&&(o=!0,i=i[ui]);let a=Ln(i);t===0&&n!==null?r==null?$w(e,n,a):gu(e,n,a,r||null,!0):t===1&&n!==null?gu(e,n,a,r||null,!0):t===2?GR(e,a,o):t===3&&e.destroyNode(a),s!=null&&YR(e,t,s,n,r)}}function TR(t,e){return t.createText(e)}function AR(t,e,n){t.setValue(e,n)}function PR(t,e){return t.createComment(wR(e))}function Vw(t,e,n){return t.createElement(e,n)}function NR(t,e){jw(t,e),e[ui]=null,e[Cn]=null}function RR(t,e,n,i,r,s){i[ui]=r,i[Cn]=e,$u(t,i,n,1,r,s)}function jw(t,e){$u(t,e,e[Ze],2,null,null)}function kR(t){let e=t[wa];if(!e)return Tp(t[se],t);for(;e;){let n=null;if(kr(e))n=e[wa];else{let i=e[tn];i&&(n=i)}if(!n){for(;e&&!e[vn]&&e!==t;)kr(e)&&Tp(e[se],e),e=e[yt];e===null&&(e=t),kr(e)&&Tp(e[se],e),n=e&&e[vn]}e=n}}function OR(t,e,n,i){let r=tn+i,s=n.length;i>0&&(n[r-1][vn]=e),i<s-tn?(e[vn]=n[r],tw(n,tn+i,e)):(n.push(e),e[vn]=null),e[yt]=n;let o=e[Su];o!==null&&n!==o&&FR(o,e);let a=e[Zs];a!==null&&a.insertView(t),Bp(e),e[U]|=128}function FR(t,e){let n=t[au],r=e[yt][yt][Fn];e[Fn]!==r&&(t[U]|=xg.HasTransplantedViews),n===null?t[au]=[e]:n.push(e)}function Bw(t,e){let n=t[au],i=n.indexOf(e);n.splice(i,1)}function eg(t,e){if(t.length<=tn)return;let n=tn+e,i=t[n];if(i){let r=i[Su];r!==null&&r!==t&&Bw(r,i),e>0&&(t[n-1][vn]=i[vn]);let s=lu(t,tn+e);NR(i[se],i);let o=s[Zs];o!==null&&o.detachView(s[se]),i[yt]=null,i[vn]=null,i[U]&=-129}return i}function Uw(t,e){if(!(e[U]&256)){let n=e[Ze];n.destroyNode&&$u(t,e,n,3,null,null),kR(e)}}function Tp(t,e){if(e[U]&256)return;let n=he(null);try{e[U]&=-129,e[U]|=256,e[Fr]&&w0(e[Fr]),VR(t,e),LR(t,e),e[se].type===1&&e[Ze].destroy();let i=e[Su];if(i!==null&&di(e[yt])){i!==e[yt]&&Bw(i,e);let r=e[Zs];r!==null&&r.detachView(t)}IR(e)}finally{he(n)}}function LR(t,e){let n=t.cleanup,i=e[Ca];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Ca]=null);let r=e[Ui];if(r!==null){e[Ui]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function VR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Br)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Rn(4,a,l);try{l.call(a)}finally{Rn(5,a,l)}}else{Rn(4,r,s);try{s.call(r)}finally{Rn(5,r,s)}}}}}function jR(t,e,n){return BR(t,e.parent,n)}function BR(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ui];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===On.None||s===On.Emulated)return null}return nn(i,n)}}function gu(t,e,n,i,r){t.insertBefore(e,n,i,r)}function $w(t,e,n){t.appendChild(e,n)}function aC(t,e,n,i,r){i!==null?gu(t,e,n,i,r):$w(t,e,n)}function UR(t,e,n,i){t.removeChild(e,n,i)}function Wg(t,e){return t.parentNode(e)}function $R(t,e){return t.nextSibling(e)}function HR(t,e,n){return WR(t,e,n)}function zR(t,e,n){return t.type&40?nn(t,n):null}var WR=zR,lC;function Uu(t,e,n,i){let r=jR(t,i,e),s=e[Ze],o=i.parent||e[Cn],a=HR(o,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)aC(s,r,n[l],a,!1);else aC(s,r,n,a,!1);lC!==void 0&&lC(s,i,e,n,r)}function nu(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return tg(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return nu(t,i);{let r=t[e.index];return di(r)?tg(-1,r):Ln(r)}}else{if(n&32)return zg(e,t)()||Ln(t[e.index]);{let i=Hw(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ea(t[Fn]);return nu(r,i)}else return nu(t,e.next)}}}return null}function Hw(t,e){if(e!==null){let i=t[Fn][Cn],r=e.projection;return i.projection[r]}return null}function tg(t,e){let n=tn+t+1;if(n<e.length){let i=e[n],r=i[se].firstChild;if(r!==null)return nu(i,r)}return e[Lr]}function GR(t,e,n){let i=Wg(t,e);i&&UR(t,i,e,n)}function Gg(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&e===0&&(a&&Wi(Ln(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)Gg(t,e,n.child,i,r,s,!1),Ws(e,t,r,a,s);else if(l&32){let c=zg(n,i),u;for(;u=c();)Ws(e,t,r,u,s);Ws(e,t,r,a,s)}else l&16?qR(t,e,i,n,r,s):Ws(e,t,r,a,s);n=o?n.projectionNext:n.next}}function $u(t,e,n,i,r,s){Gg(n,i,t.firstChild,e,r,s,!1)}function qR(t,e,n,i,r,s){let o=n[Fn],l=o[Cn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ws(e,t,r,u,s)}else{let c=l,u=o[yt];nw(i)&&(c.flags|=128),Gg(t,e,c,u,r,s,!0)}}function YR(t,e,n,i,r){let s=n[Lr],o=Ln(n);s!==o&&Ws(e,t,i,s,r);for(let a=tn;a<n.length;a++){let l=n[a];$u(l[se],l,t,e,i,s)}}function KR(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:li.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=li.Important),t.setStyle(n,i,r,s))}}function QR(t,e,n){t.setAttribute(e,"style",n)}function zw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ww(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&jp(t,e,i),r!==null&&zw(t,e,r),s!==null&&QR(t,e,s)}var zr={};function F(t=1){Gw(vt(),we(),ao()+t,!1)}function Gw(t,e,n,i){if(!i)if((e[U]&3)===3){let s=t.preOrderCheckHooks;s!==null&&eu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&tu(e,s,0,n)}Vr(n)}function L(t,e=ee.Default){let n=we();if(n===null)return x(t,e);let i=Lt();return Aw(i,n,xt(t),e)}function qw(){let t="invalid";throw new Error(t)}function Yw(t,e,n,i,r,s){let o=he(null);try{let a=null;r&mt.SignalBased&&(a=e[i][Zf]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&mt.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):_w(e,a,i,s)}finally{he(o)}}function ZR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Vr(~r);else{let s=r,o=n[++i],a=n[++i];uN(o,s);let l=e[s];a(2,l)}}}finally{Vr(-1)}}function Hu(t,e,n,i,r,s,o,a,l,c,u){let d=e.blueprint.slice();return d[ui]=r,d[U]=i|4|128|8|64,(c!==null||t&&t[U]&2048)&&(d[U]|=2048),HC(d),d[yt]=d[ro]=t,d[_n]=n,d[Hi]=o||t&&t[Hi],d[Ze]=a||t&&t[Ze],d[Qs]=l||t&&t[Qs]||null,d[Cn]=s,d[Mu]=ER(),d[su]=u,d[jC]=c,d[Fn]=e.type==2?t[Fn]:d,d}function Na(t,e,n,i,r){let s=t.data[e];if(s===null)s=XR(t,e,n,i,r),cN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=sN();s.injectorIndex=o===null?-1:o.injectorIndex}return Hr(s,!0),s}function XR(t,e,n,i,r){let s=GC(),o=Tg(),a=o?s:s&&s.parent,l=t.data[e]=ik(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Kw(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Qw(t,e,n,i,r){let s=ao(),o=i&2;try{Vr(-1),o&&e.length>bn&&Gw(t,e,bn,!1),Rn(o?2:0,r),n(i,r)}finally{Vr(s),Rn(o?3:1,r)}}function qg(t,e,n){if(Ig(e)){let i=he(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{he(i)}}}function Yg(t,e,n){WC()&&(ck(t,e,n,nn(n,e)),(n.flags&64)===64&&eD(t,e,n))}function Kg(t,e,n=nn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function Zw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qg(t,e,n,i,r,s,o,a,l,c,u){let d=bn+i,h=d+r,f=JR(d,h),p=typeof c=="function"?c():c;return f[se]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function JR(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:zr);return n}function ek(t,e,n,i){let s=i.get(vR,Ow)||n===On.ShadowDom,o=t.selectRootElement(e,s);return tk(o),o}function tk(t){nk(t)}var nk=()=>null;function ik(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return nN()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cC(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=mt.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}t===0?uC(i,n,c,a,l):uC(i,n,c,a)}return i}function uC(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function rk(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=cC(0,d.inputs,u,l,f),c=cC(1,d.outputs,u,c,p);let g=l!==null&&o!==null&&!PC(e)?bk(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function sk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xw(t,e,n,i,r,s,o,a){let l=nn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(Xg(t,n,u,i,r),Tu(e)&&ok(n,e.index)):e.type&3?(i=sk(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function ok(t,e){let n=qi(e,t);n[U]&16||(n[U]|=64)}function Zg(t,e,n,i){if(WC()){let r=i===null?null:{"":-1},s=dk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Jw(t,e,n,o,r,a),r&&hk(n,i,r)}n.mergedAttrs=ba(n.mergedAttrs,n.attrs)}function Jw(t,e,n,i,r,s){for(let c=0;c<i.length;c++)Zp(pu(n,e),t,i[c].type);pk(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Kw(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=ba(n.mergedAttrs,u.hostAttrs),gk(t,n,e,l,u),fk(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}rk(t,n,s)}function ak(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;lk(o)!=a&&o.push(a),o.push(n,i,s)}}function lk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ck(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Tu(n)&&mk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||pu(n,e),Wi(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=to(e,t,a,n);if(Wi(c,e),o!==null&&_k(e,a-r,c,l,n,o),zi(l)){let u=qi(n.index,e);u[_n]=to(e,t,a,n)}}}function eD(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=dN();try{Vr(s);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];Up(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&uk(l,c)}}finally{Vr(-1),Up(o)}}function uk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dk(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(kP(e,o.selectors,!1))if(i||(i=[]),zi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;ng(t,e,l)}else i.unshift(o),ng(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function ng(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hk(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new O(-301,!1);i.push(e[r],s)}}}function fk(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;zi(e)&&(n[""]=t)}}function pk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gk(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=jr(r.type,!0)),o=new Br(s,zi(r),L);t.blueprint[i]=o,n[i]=o,ak(t,e,i,Kw(t,n,r.hostVars,zr),r)}function mk(t,e,n){let i=nn(e,t),r=Zw(n),s=t[Hi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=zu(t,Hu(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function yk(t,e,n,i,r,s){let o=nn(t,e);vk(e[Ze],o,s,t.value,n,i,r)}function vk(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?Fg(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function _k(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Yw(i,n,l,c,u,d)}}function bk(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function tD(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function nD(t,e){let n=t.contentQueries;if(n!==null){let i=he(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];YC(s),a.contentQueries(2,e[o],o)}}}finally{he(i)}}}function zu(t,e){return t[wa]?t[Q0][vn]=e:t[wa]=e,t[Q0]=e,e}function ig(t,e,n){YC(0);let i=he(null);try{e(t,n)}finally{he(i)}}function Ck(t){return t[Ca]||(t[Ca]=[])}function wk(t){return t.cleanup||(t.cleanup=[])}function iD(t,e){let n=t[Qs],i=n?n.get(Vn,null):null;i&&i.handleError(e)}function Xg(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];Yw(u,c,i,a,l,r)}}function Dk(t,e,n){let i=UC(e,t);AR(t[Ze],i,n)}function Ek(t,e){let n=qi(e,t),i=n[se];xk(i,n);let r=n[ui];r!==null&&n[su]===null&&(n[su]=Vg(r,n[Qs])),Jg(i,n,n[_n])}function xk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jg(t,e,n){Ag(e);try{let i=t.viewQuery;i!==null&&ig(1,i,n);let r=t.template;r!==null&&Qw(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zs]?.finishViewCreation(t),t.staticContentQueries&&nD(t,e),t.staticViewQueries&&ig(2,t.viewQuery,n);let s=t.components;s!==null&&Ik(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[U]&=-5,Pg()}}function Ik(t,e){for(let n=0;n<e.length;n++)Ek(t,e[n])}function Sk(t,e,n,i){let r=he(null);try{let s=e.tView,a=t[U]&4096?4096:16,l=Hu(t,s,n,a,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];l[Su]=c;let u=t[Zs];return u!==null&&(l[Zs]=u.createEmbeddedView(s)),Jg(s,l,n),l}finally{he(r)}}function dC(t,e){return!e||e.firstChild===null||nw(t)}function Mk(t,e,n,i=!0){let r=e[se];if(OR(r,e,t,n),i){let o=tg(n,t),a=e[Ze],l=Wg(a,t[Lr]);l!==null&&RR(r,t[Cn],a,e,l,o)}let s=e[su];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function mu(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Ln(s)),di(s)&&Tk(s,i);let o=n.type;if(o&8)mu(t,e,n.child,i);else if(o&32){let a=zg(n,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=Hw(e,n);if(Array.isArray(a))i.push(...a);else{let l=Ea(e[Fn]);mu(l[se],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Tk(t,e){for(let n=tn;n<t.length;n++){let i=t[n],r=i[se].firstChild;r!==null&&mu(i[se],i,r,e)}t[Lr]!==t[ui]&&e.push(t[Lr])}var rD=[];function Ak(t){return t[Fr]??Pk(t)}function Pk(t){let e=rD.pop()??Object.create(Rk);return e.lView=t,e}function Nk(t){t.lView[Fr]!==t&&(t.lView=null,rD.push(t))}var Rk=le(P({},_0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Da(t.lView)},consumerOnSignalRead(){this.lView[Fr]=this}});function sD(t){return aD(t[wa])}function oD(t){return aD(t[vn])}function aD(t){for(;t!==null&&!di(t);)t=t[vn];return t}var lD=100;function cD(t,e=!0,n=0){let i=t[Hi],r=i.rendererFactory,s=!1;s||r.begin?.();try{kk(t,n)}catch(o){throw e&&iD(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function kk(t,e){rg(t,e);let n=0;for(;Mg(t);){if(n===lD)throw new O(103,!1);n++,rg(t,1)}}function Ok(t,e,n,i){let r=e[U];if((r&256)===256)return;let s=!1;!s&&e[Hi].inlineEffectRunner?.flush(),Ag(e);let o=null,a=null;!s&&Fk(t)&&(a=Ak(e),o=b0(a));try{HC(e),aN(t.bindingStartIndex),n!==null&&Qw(t,e,n,2,i);let l=(r&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&eu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&tu(e,d,0,null),Ip(e,0)}if(Lk(e),uD(e,0),t.contentQueries!==null&&nD(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&eu(e,d)}else{let d=t.contentHooks;d!==null&&tu(e,d,1),Ip(e,1)}ZR(t,e);let c=t.components;c!==null&&hD(e,c,0);let u=t.viewQuery;if(u!==null&&ig(2,u,i),!s)if(l){let d=t.viewCheckHooks;d!==null&&eu(e,d)}else{let d=t.viewHooks;d!==null&&tu(e,d,2),Ip(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dp]){for(let d of e[Dp])d();e[Dp]=null}s||(e[U]&=-73)}catch(l){throw Da(e),l}finally{a!==null&&(C0(a,o),Nk(a)),Pg()}}function Fk(t){return t.type!==2}function uD(t,e){for(let n=sD(t);n!==null;n=oD(n))for(let i=tn;i<n.length;i++){let r=n[i];dD(r,e)}}function Lk(t){for(let e=sD(t);e!==null;e=oD(e)){if(!(e[U]&xg.HasTransplantedViews))continue;let n=e[au];for(let i=0;i<n.length;i++){let r=n[i],s=r[yt];QP(r)}}}function Vk(t,e,n){let i=qi(e,t);dD(i,n)}function dD(t,e){Sg(t)&&rg(t,e)}function rg(t,e){let i=t[se],r=t[U],s=t[Fr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Xf(s)),s&&(s.dirty=!1),t[U]&=-9217,o)Ok(i,t,i.template,t[_n]);else if(r&8192){uD(t,1);let a=i.components;a!==null&&hD(t,a,1)}}function hD(t,e,n){for(let i=0;i<e.length;i++)Vk(t,e[i],n)}function em(t){for(t[Hi].changeDetectionScheduler?.notify();t;){t[U]|=64;let e=Ea(t);if(HP(t)&&!e)return t;t=e}return null}var Ur=class{get rootNodes(){let e=this._lView,n=e[se];return mu(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(di(e)){let n=e[ou],i=n?n.indexOf(this):-1;i>-1&&(eg(e,i),lu(n,i))}this._attachedToViewContainer=!1}Uw(this._lView[se],this._lView)}onDestroy(e){zC(this._lView,e)}markForCheck(){em(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){Bp(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,cD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,jw(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,Bp(this._lView)}},Wu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uk;let t=e;return t})(),jk=Wu,Bk=class extends jk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Sk(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Ur(r)}};function Uk(){return $k(Lt(),we())}function $k(t,e){return t.type&4?new Bk(e,t,ku(t,e)):null}var o7=new RegExp(`^(\\d+)*(${LN}|${FN})*(.*)`);var Hk=()=>null;function hC(t,e){return Hk(t,e)}var sg=class{},og=class{},yu=class{};function zk(t){let e=Error(`No component factory found for ${It(t)}.`);return e[Wk]=t,e}var Wk="ngComponent";var ag=class{resolveComponentFactory(e){throw zk(e)}},Gu=(()=>{let e=class e{};e.NULL=new ag;let t=e;return t})(),Sa=class{},Yi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Gk();let t=e;return t})();function Gk(){let t=we(),e=Lt(),n=qi(e.index,t);return(kr(n)?n:t)[Ze]}var qk=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ap={},fD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Yk,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),lg=class extends fD{constructor(e){super(),this._lView=e}onDestroy(e){return zC(this._lView,e),()=>XP(this._lView,e)}};function Yk(){return new lg(we())}var fC=new Set;function qu(t){fC.has(t)||(fC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function pC(...t){}function Kk(){let t=typeof dt.requestAnimationFrame=="function",e=dt[t?"requestAnimationFrame":"setTimeout"],n=dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Kk().nativeRequestAnimationFrame,Xk(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Qk,pC,pC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Qk={};function tm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cg(t),t.isCheckStableRunning=!0,tm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cg(t))}function Xk(t){let e=()=>{Zk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(Jk(a))return n.invokeTask(r,s,o,a);try{return gC(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),mC(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return gC(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),mC(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cg(t),tm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function gC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mC(t){t._nesting--,tm(t)}var ug=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function Jk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function eO(t="zone.js",e){return t==="noop"?new ug:t==="zone.js"?new oe(e):t}var Gs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Gs||{}),tO={destroy(){}};function nm(t,e){!e&&ZN(nm);let n=e?.injector??A(Dn);if(!SR(n))return tO;qu("NgAfterNextRender");let i=n.get(im),r=i.handler??=new hg,s=e?.phase??Gs.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(fD).onDestroy(o),l=new dg(n,s,()=>{o(),t()});return r.register(l),{destroy:o}}var dg=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(oe),this.errorHandler=e.get(Vn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},hg=class{constructor(){this.executingCallbacks=!1,this.buckets={[Gs.EarlyRead]:new Set,[Gs.Write]:new Set,[Gs.MixedReadWrite]:new Set,[Gs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},im=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function vu(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=z0(r,a);else if(s==2){let l=a,c=e[++o];i=z0(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var _u=class extends Gu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$i(e);return new no(n,this.ngModule)}};function yC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function nO(t){let e=t.toLowerCase();return e==="svg"?zP:e==="math"?WP:null}var fg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Lu(i);let r=this.injector.get(e,Ap,i);return r!==Ap||n===Ap?r:this.parentInjector.get(e,n,i)}},no=class extends yu{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=yC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return yC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=VP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=he(null);try{r=r||this.ngModule;let o=r instanceof St?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new fg(e,o):e,l=a.get(Sa,null);if(l===null)throw new O(407,!1);let c=a.get(qk,null),u=a.get(im,null),d=a.get(sg,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?ek(f,i,this.componentDef.encapsulation,a):Vw(f,p,nO(p)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=Vg(g,a,!0));let v=Qg(0,null,null,1,0,null,null,null,null,null,null),_=Hu(null,v,null,m,null,null,h,f,a,null,y);Ag(_);let C,b;try{let D=this.componentDef,T,M=null;D.findHostDirectiveDefs?(T=[],M=new Map,D.findHostDirectiveDefs(D,T,M),T.push(D)):T=[D];let k=iO(_,g),G=rO(k,g,D,T,_,h,f);b=$C(v,bn),g&&aO(f,D,g,i),n!==void 0&&lO(b,this.ngContentSelectors,n),C=oO(G,D,T,M,_,[cO]),Jg(v,_,null)}finally{Pg()}return new pg(this.componentType,C,ku(b,_),_,b)}finally{he(s)}}},pg=class extends og{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ur(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Xg(s[se],s,r,e,n),this.previousInputValues.set(e,n);let o=qi(this._tNode.index,s);em(o)}}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iO(t,e){let n=t[se],i=bn;return t[i]=e,Na(n,i,2,"#host",null)}function rO(t,e,n,i,r,s,o){let a=r[se];sO(i,t,e,o);let l=null;e!==null&&(l=Vg(e,r[Qs]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Hu(r,Zw(n),null,u,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&ng(a,t,i.length-1),zu(r,d),r[t.index]=d}function sO(t,e,n,i){for(let r of t)e.mergedAttrs=ba(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(vu(e,e.mergedAttrs,!0),n!==null&&Ww(i,n,e))}function oO(t,e,n,i,r,s){let o=Lt(),a=r[se],l=nn(o,r);Jw(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=to(r,a,d,o);Wi(h,r)}eD(a,r,o),l&&Wi(l,r);let c=to(r,a,o.directiveStart+o.componentOffset,o);if(t[_n]=r[_n]=c,s!==null)for(let u of s)u(c,e);return qg(a,o,r),c}function aO(t,e,n,i){if(i)jp(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:s}=jP(e.selectors[0]);r&&jp(t,n,r),s&&s.length>0&&zw(t,n,s.join(" "))}}function lO(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function cO(){let t=Lt();Bu(we()[se],t)}var co=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uO;let t=e;return t})();function uO(){let t=Lt();return hO(t,we())}var dO=co,pD=class extends dO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){let e=$g(this._hostTNode,this._hostLView);if(Ew(e)){let n=hu(e,this._hostLView),i=du(e),r=n[se].data[i+8];return new Or(r,n)}else return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=hC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,dC(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!JN(e),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new no($i(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(St,null);g&&(s=g)}let u=$i(l.componentType??{}),d=hC(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,dC(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(KP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[yt],c=new pD(l,l[Cn],l[yt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Mk(o,r,s,i),e.attachToViewContainerRef(),tw(Pp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=eg(this._lContainer,n);i&&(lu(Pp(this._lContainer),n),Uw(i[se],i))}detach(e){let n=this._adjustIndex(e,-1),i=eg(this._lContainer,n);return i&&lu(Pp(this._lContainer),n)!=null?new Ur(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function vC(t){return t[ou]}function Pp(t){return t[ou]||(t[ou]=[])}function hO(t,e){let n,i=e[t.index];return di(i)?n=i:(n=tD(i,e,null,t),e[t.index]=n,zu(e,n)),pO(n,e,t,i),new pD(n,t,e)}function fO(t,e){let n=t[Ze],i=n.createComment(""),r=nn(e,t),s=Wg(n,r);return gu(n,s,i,$R(n,r),!1),i}var pO=yO,gO=()=>!1;function mO(t,e,n){return gO(t,e,n)}function yO(t,e,n,i){if(t[Lr])return;let r;n.type&8?r=Ln(i):r=fO(e,n),t[Lr]=r}function vO(t){return typeof t=="function"&&t[Zf]!==void 0}function gD(t){return vO(t)&&typeof t.set=="function"}function _O(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(DO))}return s}return bu.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>EO(s));e.push(l)}),CO(),Promise.all(e).then(()=>{})}var bu=new Map,bO=new Set;function CO(){let t=bu;return bu=new Map,t}function wO(){return bu.size===0}function DO(t){return typeof t=="string"?t:t.text()}function EO(t){bO.delete(t)}function xO(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=xO(t.type),n=!0,i=[t];for(;e;){let r;if(zi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=Qc(t.inputs),o.inputTransforms=Qc(t.inputTransforms),o.declaredInputs=Qc(t.declaredInputs),o.outputs=Qc(t.outputs);let a=r.hostBindings;a&&AO(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&MO(t,l),c&&TO(t,c),IO(t,r),DP(t.outputs,r.outputs),zi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}SO(i)}function IO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function SO(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ba(r.hostAttrs,n=ba(n,r.hostAttrs))}}function Qc(t){return t===Ks?{}:t===en?[]:t}function MO(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function TO(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function AO(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Gi=class{},Ma=class{};var Cu=class extends Gi{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _u(this);let r=FC(e);this._bootstrapComponents=Lw(r.bootstrap),this._r3Injector=Rw(e,n,[{provide:Gi,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver},...i],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wu=class extends Ma{constructor(e){super(),this.moduleType=e}create(e){return new Cu(this.moduleType,e,[])}};function PO(t,e,n){return new Cu(t,e,n)}var gg=class extends Gi{constructor(e){super(),this.componentFactoryResolver=new _u(this),this.instance=null;let n=new Ia([...e.providers,{provide:Gi,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],e.parent||Ug(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yu(t,e,n=null){return new gg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mD(t){return RO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function NO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function RO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kO(t,e,n){return t[e]=n}function uo(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function OO(t,e,n,i,r,s,o,a,l){let c=e.consts,u=Na(e,t,4,o||null,Xs(c,a));Zg(e,n,u,Xs(c,l)),Bu(e,u);let d=u.tView=Qg(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ne(t,e,n,i,r,s,o,a){let l=we(),c=vt(),u=t+bn,d=c.firstCreatePass?OO(u,c,l,e,n,i,r,s,o):c.data[u];Hr(d,!1);let h=FO(c,l,d,t);Nu()&&Uu(c,l,h,d),Wi(h,l);let f=tD(h,l,h,d);return l[u]=f,zu(l,f),mO(f,d,l),Au(d)&&Yg(c,l,d),o!=null&&Kg(l,d,a),Ne}var FO=LO;function LO(t,e,n,i){return Ru(!0),e[Ze].createComment("")}function Ku(t,e,n,i){let r=we(),s=Pu();if(uo(r,s,e)){let o=vt(),a=Ng();yk(a,r,t,e,n,i)}return Ku}function VO(t,e,n,i){return uo(t,Pu(),n)?e+Fg(n)+i:zr}function Zc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function jO(t){return(t&2)==2}function BO(t,e){return t&131071|e<<17}function mg(t){return t|2}function io(t){return(t&131068)>>2}function Np(t,e){return t&-131069|e<<2}function UO(t){return(t&1)===1}function yg(t){return t|1}function $O(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),l=io(o);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Pa(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=$r(t[a+1]);t[i+1]=Zc(h,a),h!==0&&(t[h+1]=Np(t[h+1],i)),t[a+1]=BO(t[a+1],i)}else t[i+1]=Zc(a,0),a!==0&&(t[a+1]=Np(t[a+1],i)),a=i;else t[i+1]=Zc(l,0),a===0?a=i:t[l+1]=Np(t[l+1],i),l=i;c&&(t[i+1]=mg(t[i+1])),_C(t,u,i,!0),_C(t,u,i,!1),HO(e,u,t,i,s),o=Zc(a,l),s?e.classBindings=o:e.styleBindings=o}function HO(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Pa(s,e)>=0&&(n[i+1]=yg(n[i+1]))}function _C(t,e,n,i){let r=t[n+1],s=e===null,o=i?$r(r):io(r),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];zO(l,e)&&(a=!0,t[o+1]=i?yg(c):mg(c)),o=i?$r(c):io(c)}a&&(t[n+1]=i?mg(r):yg(r))}function zO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Pa(t,e)>=0:!1}function Q(t,e,n){let i=we(),r=Pu();if(uo(i,r,e)){let s=vt(),o=Ng();Xw(s,o,i,t,e,i[Ze],n,!1)}return Q}function bC(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Xg(t,n,s[o],o,i)}function En(t,e){return WO(t,e,null,!0),En}function WO(t,e,n,i){let r=we(),s=vt(),o=lN(2);if(s.firstUpdatePass&&qO(s,t,o,i),e!==zr&&uo(r,o,e)){let a=s.data[ao()];XO(s,a,r,r[Ze],t,r[o+1]=JO(e,n),i,o)}}function GO(t,e){return e>=t.expandoStartIndex}function qO(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[ao()],o=GO(t,n);eF(s,i)&&e===null&&!o&&(e=!1),e=YO(r,s,e,i),$O(r,s,e,n,o,i)}}function YO(t,e,n,i){let r=hN(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Rp(null,t,e,n,i),n=Ta(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=Rp(r,t,e,n,i),s===null){let l=KO(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Rp(null,t,e,l[1],i),l=Ta(l,e.attrs,i),QO(t,e,i,l))}else s=ZO(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function KO(t,e,n){let i=n?e.classBindings:e.styleBindings;if(io(i)!==0)return t[$r(i)]}function QO(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[$r(r)]=i}function ZO(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Ta(i,o,n)}return Ta(i,e.attrs,n)}function Rp(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Ta(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ta(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function XO(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=UO(c)?CC(l,e,n,r,io(c),o):void 0;if(!Du(u)){Du(s)||jO(c)&&(s=CC(l,null,n,r,a,o));let d=UC(ao(),n);KR(i,o,d,r,s)}}function CC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===zr&&(h=d?en:void 0);let f=d?Ep(h,i):u===i?h:void 0;if(c&&!Du(f)&&(f=Ep(l,i)),Du(f)&&(a=f,o))return a;let p=t[r+1];r=o?$r(p):io(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Ep(l,i))}return a}function Du(t){return t!==void 0}function JO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Hg(t)))),t}function eF(t,e){return(t.flags&(e?8:16))!==0}function tF(t,e,n,i,r,s){let o=e.consts,a=Xs(o,r),l=Na(e,t,2,i,a);return Zg(e,n,l,Xs(o,s)),l.attrs!==null&&vu(l,l.attrs,!1),l.mergedAttrs!==null&&vu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(t,e,n,i){let r=we(),s=vt(),o=bn+t,a=r[Ze],l=s.firstCreatePass?tF(o,s,r,e,n,i):s.data[o],c=nF(s,r,l,a,e,t);r[o]=c;let u=Au(l);return Hr(l,!0),Ww(a,c,l),(l.flags&32)!==32&&Nu()&&Uu(s,r,c,l),JP()===0&&Wi(c,r),eN(),u&&(Yg(s,r,l),qg(s,l,r)),i!==null&&Kg(r,l),E}function w(){let t=Lt();Tg()?qC():(t=t.parent,Hr(t,!1));let e=t;iN(e)&&rN(),tN();let n=vt();return n.firstCreatePass&&(Bu(n,t),Ig(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oR(e)&&bC(n,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aR(e)&&bC(n,e,we(),e.stylesWithoutHost,!1),w}function _e(t,e,n,i){return E(t,e,n,i),w(),_e}var nF=(t,e,n,i,r,s)=>(Ru(!0),Vw(i,r,gN()));function iF(t,e,n,i,r){let s=e.consts,o=Xs(s,i),a=Na(e,t,8,"ng-container",o);o!==null&&vu(a,o,!0);let l=Xs(s,r);return Zg(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Gr(t,e,n){let i=we(),r=vt(),s=t+bn,o=r.firstCreatePass?iF(s,r,i,e,n):r.data[s];Hr(o,!0);let a=rF(r,i,o,t);return i[s]=a,Nu()&&Uu(r,i,a,o),Wi(a,i),Au(o)&&(Yg(r,i,o),qg(r,o,i)),n!=null&&Kg(i,o),Gr}function qr(){let t=Lt(),e=vt();return Tg()?qC():(t=t.parent,Hr(t,!1)),e.firstCreatePass&&(Bu(e,t),Ig(t)&&e.queries.elementEnd(t)),qr}var rF=(t,e,n,i)=>(Ru(!0),PR(e[Ze],""));function Qu(){return we()}var Rr=void 0;function sF(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var oF=["en",[["a","p"],["AM","PM"],Rr],[["AM","PM"],Rr,Rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rr,"{1} 'at' {0}",Rr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sF],kp={};function rn(t){let e=aF(t),n=wC(e);if(n)return n;let i=e.split("-")[0];if(n=wC(i),n)return n;if(i==="en")return oF;throw new O(701,!1)}function wC(t){return t in kp||(kp[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),kp[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function aF(t){return t.toLowerCase().replace(/_/g,"-")}var Eu="en-US";var lF=Eu;function cF(t){typeof t=="string"&&(lF=t.toLowerCase().replace(/_/g,"-"))}function ge(t,e,n,i){let r=we(),s=vt(),o=Lt();return yD(s,r,r[Ze],o,t,e,i),ge}function uF(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Ca],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function yD(t,e,n,i,r,s,o){let a=Au(i),c=t.firstCreatePass&&wk(t),u=e[_n],d=Ck(e),h=!0;if(i.type&3||o){let g=nn(i,e),m=o?o(g):g,y=d.length,v=o?C=>o(Ln(C[i.index])):i.index,_=null;if(!o&&a&&(_=uF(t,e,r,i.index)),_!==null){let C=_.__ngLastListenerFn__||_;C.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1}else{s=EC(i,e,u,s,!1);let C=n.listen(m,r,s);d.push(s,C),c&&c.push(r,v,y,y+1)}}else s=EC(i,e,u,s,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let y=p[m],v=p[m+1],b=e[y][v].subscribe(s),D=d.length;if(d.push(s,b),c){let T=typeof b=="function"?D+1:-(D+1);c.push(r,i.index,D,T)}}}}function DC(t,e,n,i){let r=he(null);try{return Rn(6,e,n),n(i)!==!1}catch(s){return iD(t,s),!1}finally{Rn(7,e,n),he(r)}}function EC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?qi(t.index,e):e;em(a);let l=DC(e,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=DC(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function Bn(t=1){return pN(t)}function dF(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function I(t,e=""){let n=we(),i=vt(),r=t+bn,s=i.firstCreatePass?Na(i,r,1,e,null):i.data[r],o=hF(i,n,s,e,t);n[r]=o,Nu()&&Uu(i,n,o,s),Hr(s,!1)}var hF=(t,e,n,i,r)=>(Ru(!0),TR(e[Ze],i));function rm(t){return Mt("",t,""),rm}function Mt(t,e,n){let i=we(),r=VO(i,t,e,n);return r!==zr&&Dk(i,ao(),r),Mt}function Ki(t,e,n){gD(e)&&(e=e());let i=we(),r=Pu();if(uo(i,r,e)){let s=vt(),o=Ng();Xw(s,o,i,t,e,i[Ze],n,!1)}return Ki}function Yr(t,e){let n=gD(t);return n&&t.set(e),n}function Qi(t,e){let n=we(),i=vt(),r=Lt();return yD(i,n,n[Ze],r,t,e),Qi}function fF(t,e,n){let i=vt();if(i.firstCreatePass){let r=zi(t);vg(n,i.data,i.blueprint,r,!0),vg(e,i.data,i.blueprint,r,!1)}}function vg(t,e,n,i,r){if(t=xt(t),Array.isArray(t))for(let s=0;s<t.length;s++)vg(t[s],e,n,i,r);else{let s=vt(),o=we(),a=Lt(),l=eo(t)?t:xt(t.provide),c=vw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(eo(t)||!t.multi){let f=new Br(c,r,L),p=Fp(l,e,r?u:u+h,d);p===-1?(Zp(pu(a,o),s,l),Op(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Fp(l,e,u+h,d),p=Fp(l,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){Zp(pu(a,o),s,l);let y=mF(r?gF:pF,n.length,r,i,c);!r&&m&&(n[p].providerFactory=y),Op(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else{let y=vD(n[r?p:f],c,!r&&i);Op(s,t,f>-1?f:p,y)}!r&&i&&m&&n[p].componentProviders++}}}function Op(t,e,n,i){let r=eo(e),s=zN(e);if(r||s){let l=(s?xt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function vD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fp(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function pF(t,e,n,i){return _g(this.multi,[])}function gF(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=to(n,n[se],this.providerFactory.index,i);s=a.slice(0,o),_g(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],_g(r,s);return s}function _g(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function mF(t,e,n,i,r){let s=new Br(t,n,L);return s.multi=[],s.index=e,s.componentProviders=0,vD(s,r,i&&!n),s}function gi(t,e=[]){return n=>{n.providersResolver=(i,r)=>fF(i,r?r(t):t,e)}}var yF=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=gw(!1,i.type),s=r.length>0?Yu([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(x(St))});let t=e;return t})();function _D(t){qu("NgStandalone"),t.getStandaloneInjector=e=>e.get(yF).getOrCreateStandaloneInjector(t)}function vF(t,e){let n=t[e];return n===zr?void 0:n}function _F(t,e,n,i,r,s){let o=e+n;return uo(t,o,r)?kO(t,o+1,s?i.call(s,r):i(r)):vF(t,o+1)}function sm(t,e){let n=vt(),i,r=t+bn;n.firstCreatePass?(i=bF(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=jr(i.type,!0)),o,a=Ft(L);try{let l=fu(!1),c=s();return fu(l),dF(n,we(),r,c),c}finally{Ft(a)}}function bF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function om(t,e,n){let i=t+bn,r=we(),s=YP(r,i);return CF(r,i)?_F(r,oN(),e,s.transform,n,s):s.transform(n)}function CF(t,e){return t[se].data[e].pure}var Xc=null;function wF(t){Xc!==null&&(t.defaultEncapsulation!==Xc.defaultEncapsulation||t.preserveWhitespaces!==Xc.preserveWhitespaces)||(Xc=t)}var ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},bD=new ci("17.2.4"),Zu=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var am=new N(""),Ra=new N(""),Xu=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lm||(DF(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(x(oe),x(Ju),x(Ra))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Ju=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return lm?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function DF(t){lm=t}var lm;function Kr(t){return!!t&&typeof t.then=="function"}function CD(t){return!!t&&typeof t.subscribe=="function"}var ed=new N(""),wD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=A(ed,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Kr(o))i.push(o);else if(CD(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),td=new N("");function EF(){D0(()=>{throw new O(600,!1)})}function xF(t){return t.isBoundToModule}function IF(t,e,n){try{let i=n();return Kr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function DD(t,e){return Array.isArray(e)?e.reduce(DD,t):P(P({},t),e)}var Qr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(kw),this.afterRenderEffectManager=A(im),this.componentTypes=[],this.components=[],this.isStable=A(Wr).hasPendingTasks.pipe(j(i=>!i)),this._injector=A(St)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof yu;if(!this._injector.get(wD).done){let f=!s&&OC(i),p=!1;throw new O(405,p)}let a;s?a=i:a=this._injector.get(Gu).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=xF(a)?void 0:this._injector.get(Gi),c=r||a.selector,u=a.create(Dn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(am,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),iu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);let i=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===lD)throw new O(103,!1);let s=i===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Lp(o)||this.detectChangesInView(o,a,s);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Lp(o))&&(r.execute(),!this._views.some(({_lView:o})=>Lp(o))))break}}detectChangesInView(i,r,s){let o;s?(o=0,i[U]|=1024):i[U]&64?o=0:o=1,cD(i,r,o)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;iu(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(td,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>iu(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new O(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lp(t){return Mg(t)}var bg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},nd=(()=>{let e=class e{compileModuleSync(i){return new wu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=FC(i),o=Lw(s.declarations).reduce((a,l)=>{let c=$i(l);return c&&a.push(new no(c)),a},[]);return new bg(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SF=new N("");function MF(t,e,n){let i=new wu(n);return Promise.resolve(i)}function xC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var TF=(()=>{let e=class e{constructor(){this.zone=A(oe),this.applicationRef=A(Qr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AF(t){return[{provide:oe,useFactory:t},{provide:Js,multi:!0,useFactory:()=>{let e=A(TF,{optional:!0});return()=>e.initialize()}},{provide:Js,multi:!0,useFactory:()=>{let e=A(RF);return()=>{e.initialize()}}},{provide:kw,useFactory:PF}]}function PF(){let t=A(oe),e=A(Vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function NF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RF=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=A(oe),this.pendingTasks=A(Wr)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kF(){return typeof $localize<"u"&&$localize.locale||Eu}var id=new N("",{providedIn:"root",factory:()=>A(id,ee.Optional|ee.SkipSelf)||kF()});var ED=new N(""),xD=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=eO(r?.ngZone,NF({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=PO(i.moduleType,this.injector,AF(()=>s)),a=o.injector.get(Vn,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{iu(this._modules,o),l.unsubscribe()})}),IF(a,s,()=>{let l=o.injector.get(wD);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(id,Eu);return cF(c||Eu),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=DD({},r);return MF(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Qr);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new O(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(ED,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(x(Dn))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),_a=null,ID=new N("");function OF(t){if(_a&&!_a.get(ID,!1))throw new O(400,!1);EF(),_a=t;let e=t.get(xD);return VF(t),e}function cm(t,e,n=[]){let i=`Platform: ${e}`,r=new N(i);return(s=[])=>{let o=SD();if(!o||o.injector.get(ID,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):OF(FF(a,i))}return LF(r)}}function FF(t=[],e){return Dn.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:ED,useValue:new Set([()=>_a=null])},...t]})}function LF(t){let e=SD();if(!e)throw new O(401,!1);return e}function SD(){return _a?.get(xD)??null}function VF(t){t.get(kg,null)?.forEach(n=>n())}function um(){return!1}var Zr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jF;let t=e;return t})();function jF(t){return BF(Lt(),we(),(t&16)===16)}function BF(t,e,n){if(Tu(t)&&!n){let i=qi(t.index,e);return new Ur(i,i)}else if(t.type&47){let i=e[Fn];return new Ur(i,e)}return null}var Cg=class{constructor(){}supports(e){return mD(e)}create(e){return new wg(e)}},UF=(t,e)=>e,wg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<IC(i,r,s)?n:i,a=IC(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!mD(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,NO(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Dg(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new xu),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Eg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},xu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Eg,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function SC(){return new dm([new Cg])}var dm=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||SC()),deps:[[e,new jg,new lo]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new O(901,!1)}};e.\u0275prov=R({token:e,providedIn:"root",factory:SC});let t=e;return t})();var MD=cm(null,"core",[]),TD=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(x(Qr))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({});let t=e;return t})();function ka(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function AD(t){let e=$i(t);if(!e)return null;let n=new no(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var FD=null;function Un(){return FD}function LD(t){FD??=t}var hd=class{};var bt=new N(""),_m=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A(zF),providedIn:"platform"});let t=e;return t})(),VD=new N(""),zF=(()=>{let e=class e extends _m{constructor(){super(),this._doc=A(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(i){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function bm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function PD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function yi(t){return t&&t[0]!=="?"?"?"+t:t}var Xr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A(Cm),providedIn:"root"});let t=e;return t})(),jD=new N(""),Cm=(()=>{let e=class e extends Xr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return bm(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+yi(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+yi(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+yi(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(x(_m),x(jD,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BD=(()=>{let e=class e extends Xr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=bm(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+yi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+yi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(x(_m),x(jD,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),fo=(()=>{let e=class e{constructor(i){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=qF(PD(ND(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+yi(r))}normalize(i){return e.stripTrailingSlash(GF(this._basePath,ND(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+yi(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+yi(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=yi,e.joinWithSlash=bm,e.stripTrailingSlash=PD,e.\u0275fac=function(r){return new(r||e)(x(Xr))},e.\u0275prov=R({token:e,factory:()=>WF(),providedIn:"root"});let t=e;return t})();function WF(){return new fo(x(Xr))}function GF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ND(t){return t.replace(/\/index.html$/,"")}function qF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Tt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tt||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),zt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(zt||{}),vi=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(vi||{});function YF(t){return rn(t)[qe.LocaleId]}function KF(t,e,n){let i=rn(t),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],s=sn(r,e);return sn(s,n)}function QF(t,e,n){let i=rn(t),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],s=sn(r,e);return sn(s,n)}function ZF(t,e,n){let i=rn(t),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],s=sn(r,e);return sn(s,n)}function XF(t,e){let i=rn(t)[qe.Eras];return sn(i,e)}function rd(t,e){let n=rn(t);return sn(n[qe.DateFormat],e)}function sd(t,e){let n=rn(t);return sn(n[qe.TimeFormat],e)}function od(t,e){let i=rn(t)[qe.DateTimeFormat];return sn(i,e)}function pd(t,e){let n=rn(t),i=n[qe.NumberSymbols][e];if(typeof i>"u"){if(e===vi.CurrencyDecimal)return n[qe.NumberSymbols][vi.Decimal];if(e===vi.CurrencyGroup)return n[qe.NumberSymbols][vi.Group]}return i}function UD(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function JF(t){let e=rn(t);return UD(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?hm(i):[hm(i[0]),hm(i[1])])}function e1(t,e,n){let i=rn(t);UD(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],s=sn(r,e)||[];return sn(s,n)||[]}function sn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function hm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var t1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ad={},n1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_i=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(_i||{}),pe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(pe||{}),fe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(fe||{});function i1(t,e,n,i){let r=h1(t);e=mi(n,e)||e;let o=[],a;for(;e;)if(a=n1.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=HD(i,l),r=d1(r,i,!0));let c="";return o.forEach(u=>{let d=c1(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function fd(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function mi(t,e){let n=YF(t);if(ad[n]??={},ad[n][e])return ad[n][e];let i="";switch(e){case"shortDate":i=rd(t,zt.Short);break;case"mediumDate":i=rd(t,zt.Medium);break;case"longDate":i=rd(t,zt.Long);break;case"fullDate":i=rd(t,zt.Full);break;case"shortTime":i=sd(t,zt.Short);break;case"mediumTime":i=sd(t,zt.Medium);break;case"longTime":i=sd(t,zt.Long);break;case"fullTime":i=sd(t,zt.Full);break;case"short":let r=mi(t,"shortTime"),s=mi(t,"shortDate");i=ld(od(t,zt.Short),[r,s]);break;case"medium":let o=mi(t,"mediumTime"),a=mi(t,"mediumDate");i=ld(od(t,zt.Medium),[o,a]);break;case"long":let l=mi(t,"longTime"),c=mi(t,"longDate");i=ld(od(t,zt.Long),[l,c]);break;case"full":let u=mi(t,"fullTime"),d=mi(t,"fullDate");i=ld(od(t,zt.Full),[u,d]);break}return i&&(ad[n][e]=i),i}function ld(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function xn(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function r1(t,e){return xn(t,3).substring(0,e)}function Xe(t,e,n=0,i=!1,r=!1){return function(s,o){let a=s1(t,s);if((n>0||a>-n)&&(a+=n),t===pe.Hours)a===0&&n===-12&&(a=12);else if(t===pe.FractionalSeconds)return r1(a,e);let l=pd(o,vi.MinusSign);return xn(a,e,l,i,r)}}function s1(t,e){switch(t){case pe.FullYear:return e.getFullYear();case pe.Month:return e.getMonth();case pe.Date:return e.getDate();case pe.Hours:return e.getHours();case pe.Minutes:return e.getMinutes();case pe.Seconds:return e.getSeconds();case pe.FractionalSeconds:return e.getMilliseconds();case pe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=Tt.Format,i=!1){return function(r,s){return o1(r,s,t,e,n,i)}}function o1(t,e,n,i,r,s){switch(n){case fe.Months:return ZF(e,r,i)[t.getMonth()];case fe.Days:return QF(e,r,i)[t.getDay()];case fe.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let c=JF(e),u=e1(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return KF(e,r,i)[o<12?0:1];case fe.Eras:return XF(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function cd(t){return function(e,n,i){let r=-1*i,s=pd(n,vi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case _i.Short:return(r>=0?"+":"")+xn(o,2,s)+xn(Math.abs(r%60),2,s);case _i.ShortGMT:return"GMT"+(r>=0?"+":"")+xn(o,1,s);case _i.Long:return"GMT"+(r>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(r%60),2,s);case _i.Extended:return i===0?"Z":(r>=0?"+":"")+xn(o,2,s)+":"+xn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var a1=0,dd=4;function l1(t){let e=fd(t,a1,1).getDay();return fd(t,0,1+(e<=dd?dd:dd+7)-e)}function $D(t){let e=t.getDay(),n=e===0?-3:dd-e;return fd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function fm(t,e=!1){return function(n,i){let r;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=$D(n),o=l1(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return xn(r,t,pd(i,vi.MinusSign))}}function ud(t,e=!1){return function(n,i){let s=$D(n).getFullYear();return xn(s,t,pd(i,vi.MinusSign),e)}}var pm={};function c1(t){if(pm[t])return pm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(fe.Eras,De.Abbreviated);break;case"GGGG":e=Se(fe.Eras,De.Wide);break;case"GGGGG":e=Se(fe.Eras,De.Narrow);break;case"y":e=Xe(pe.FullYear,1,0,!1,!0);break;case"yy":e=Xe(pe.FullYear,2,0,!0,!0);break;case"yyy":e=Xe(pe.FullYear,3,0,!1,!0);break;case"yyyy":e=Xe(pe.FullYear,4,0,!1,!0);break;case"Y":e=ud(1);break;case"YY":e=ud(2,!0);break;case"YYY":e=ud(3);break;case"YYYY":e=ud(4);break;case"M":case"L":e=Xe(pe.Month,1,1);break;case"MM":case"LL":e=Xe(pe.Month,2,1);break;case"MMM":e=Se(fe.Months,De.Abbreviated);break;case"MMMM":e=Se(fe.Months,De.Wide);break;case"MMMMM":e=Se(fe.Months,De.Narrow);break;case"LLL":e=Se(fe.Months,De.Abbreviated,Tt.Standalone);break;case"LLLL":e=Se(fe.Months,De.Wide,Tt.Standalone);break;case"LLLLL":e=Se(fe.Months,De.Narrow,Tt.Standalone);break;case"w":e=fm(1);break;case"ww":e=fm(2);break;case"W":e=fm(1,!0);break;case"d":e=Xe(pe.Date,1);break;case"dd":e=Xe(pe.Date,2);break;case"c":case"cc":e=Xe(pe.Day,1);break;case"ccc":e=Se(fe.Days,De.Abbreviated,Tt.Standalone);break;case"cccc":e=Se(fe.Days,De.Wide,Tt.Standalone);break;case"ccccc":e=Se(fe.Days,De.Narrow,Tt.Standalone);break;case"cccccc":e=Se(fe.Days,De.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Se(fe.Days,De.Abbreviated);break;case"EEEE":e=Se(fe.Days,De.Wide);break;case"EEEEE":e=Se(fe.Days,De.Narrow);break;case"EEEEEE":e=Se(fe.Days,De.Short);break;case"a":case"aa":case"aaa":e=Se(fe.DayPeriods,De.Abbreviated);break;case"aaaa":e=Se(fe.DayPeriods,De.Wide);break;case"aaaaa":e=Se(fe.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=Se(fe.DayPeriods,De.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Se(fe.DayPeriods,De.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Se(fe.DayPeriods,De.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(fe.DayPeriods,De.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Se(fe.DayPeriods,De.Wide,Tt.Format,!0);break;case"BBBBB":e=Se(fe.DayPeriods,De.Narrow,Tt.Format,!0);break;case"h":e=Xe(pe.Hours,1,-12);break;case"hh":e=Xe(pe.Hours,2,-12);break;case"H":e=Xe(pe.Hours,1);break;case"HH":e=Xe(pe.Hours,2);break;case"m":e=Xe(pe.Minutes,1);break;case"mm":e=Xe(pe.Minutes,2);break;case"s":e=Xe(pe.Seconds,1);break;case"ss":e=Xe(pe.Seconds,2);break;case"S":e=Xe(pe.FractionalSeconds,1);break;case"SS":e=Xe(pe.FractionalSeconds,2);break;case"SSS":e=Xe(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=cd(_i.Short);break;case"ZZZZZ":e=cd(_i.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cd(_i.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=cd(_i.Long);break;default:return null}return pm[t]=e,e}function HD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function u1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function d1(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),s=HD(e,r);return u1(t,i*(s-r))}function h1(t){if(RD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return fd(r,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(t1))return f1(i)}let e=new Date(t);if(!RD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function f1(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function RD(t){return t instanceof Date&&!isNaN(t.valueOf())}function gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var gm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zD=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new gm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),kD(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);kD(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(co),L(Wu),L(dm))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kD(t,e){t.context.$implicit=e.item}var $n=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){OD("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){OD("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(co),L(Wu))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mm=class{constructor(){this.$implicit=null,this.ngIf=null}};function OD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}function p1(t,e){return new O(2100,!1)}var g1="mediumDate",m1=new N(""),y1=new N(""),WD=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??g1,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return i1(i,a,o||this.locale,l)}catch(a){throw p1(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(L(id,16),L(m1,24),L(y1,24))},e.\u0275pipe=NC({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var GD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({});let t=e;return t})(),wm="browser",v1="server";function _1(t){return t===wm}function Oa(t){return t===v1}var qD=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>_1(A(_t))?new ym(A(bt),window):new vm});let t=e;return t})(),ym=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=b1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function b1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var vm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ho=class{};var La=class{},yd=class{},es=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Em=class{encodeKey(e){return YD(e)}encodeValue(e){return YD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function D1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var E1=/%(\d[a-f0-9])/gi,x1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YD(t){return encodeURIComponent(t).replace(E1,(e,n)=>x1[n]??e)}function md(t){return`${t}`}var Zi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Em,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=D1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(md):[md(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(md(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(md(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function I1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function KD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function QD(t){return typeof Blob<"u"&&t instanceof Blob}function ZD(t){return typeof FormData<"u"&&t instanceof FormData}function S1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Fa=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(I1(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new es,this.context??=new xm,!this.params)this.params=new Zi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:KD(this.body)||QD(this.body)||ZD(this.body)||S1(this.body)||typeof this.body=="string"?this.body:this.body instanceof Zi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZD(this.body)?null:QD(this.body)?this.body.type||null:KD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new t(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}},po=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(po||{}),Va=class{constructor(e,n=bd.Ok,i="OK"){this.headers=e.headers||new es,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Im=class t extends Va{constructor(e={}){super(e),this.type=po.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vd=class t extends Va{constructor(e={}){super(e),this.type=po.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_d=class extends Va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},bd=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(bd||{});function Dm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var M1=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Fa)o=i;else{let c;s.headers instanceof es?c=s.headers:c=new es(s.headers);let u;s.params&&(s.params instanceof Zi?u=s.params:u=new Zi({fromObject:s.params})),o=new Fa(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=V(o).pipe(oi(c=>this.handler.handle(c)));if(i instanceof Fa||s.observe==="events")return a;let l=a.pipe(gt(c=>c instanceof vd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(j(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Zi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Dm(s,r))}post(i,r,s={}){return this.request("POST",i,Dm(s,r))}put(i,r,s={}){return this.request("PUT",i,Dm(s,r))}};e.\u0275fac=function(r){return new(r||e)(x(La))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function tE(t,e){return e(t)}function T1(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function A1(t,e,n){return(i,r)=>jn(n,()=>e(i,s=>t(s,r)))}var P1=new N(""),Sm=new N(""),N1=new N(""),R1=new N("");function k1(){let t=null;return(e,n)=>{t===null&&(t=(A(P1,{optional:!0})??[]).reduceRight(T1,tE));let i=A(Wr),r=i.add();return t(e,n).pipe(ji(()=>i.remove(r)))}}var XD=(()=>{let e=class e extends La{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=A(Wr);let s=A(R1,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Sm),...this.injector.get(N1,[])]));this.chain=s.reduceRight((o,a)=>A1(o,a,this.injector),tE)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(ji(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(x(yd),x(St))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();var O1=/^\)\]\}',?\n/;function F1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var JD=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ce(r.\u0275loadImpl()):V(null)).pipe(Ie(()=>new Z(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let m=i.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(i.responseType){let m=i.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let m=a.statusText||"OK",y=new es(a.getAllResponseHeaders()),v=F1(a)||i.url;return c=new Im({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:_}=u(),C=null;y!==bd.NoContent&&(C=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=C?bd.Ok:0);let b=y>=200&&y<300;if(i.responseType==="json"&&typeof C=="string"){let D=C;C=C.replace(O1,"");try{C=C!==""?JSON.parse(C):null}catch(T){C=D,b&&(b=!1,C={error:T,text:C})}}b?(o.next(new vd({body:C,headers:m,status:y,statusText:v,url:_||void 0})),o.complete()):o.error(new _d({error:C,headers:m,status:y,statusText:v,url:_||void 0}))},h=m=>{let{url:y}=u(),v=new _d({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)},f=!1,p=m=>{f||(o.next(u()),f=!0);let y={type:po.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),i.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:po.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),o.next({type:po.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(x(ho))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),nE=new N(""),L1="XSRF-TOKEN",V1=new N("",{providedIn:"root",factory:()=>L1}),j1="X-XSRF-TOKEN",B1=new N("",{providedIn:"root",factory:()=>j1}),Cd=class{},U1=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=gd(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(x(bt),x(_t),x(V1))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function $1(t,e){let n=t.url.toLowerCase();if(!A(nE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=A(Cd).getToken(),r=A(B1);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var iE=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(iE||{});function H1(t,e){return{\u0275kind:t,\u0275providers:e}}function z1(...t){let e=[M1,JD,XD,{provide:La,useExisting:XD},{provide:yd,useExisting:JD},{provide:Sm,useValue:$1,multi:!0},{provide:nE,useValue:!0},{provide:Cd,useClass:U1}];for(let n of t)e.push(...n.\u0275providers);return Vu(e)}var eE=new N("");function W1(){return H1(iE.LegacyInterceptors,[{provide:eE,useFactory:k1},{provide:Sm,useExisting:eE,multi:!0}])}var rE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({providers:[z1(W1())]});let t=e;return t})();var Am=class extends hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pm=class t extends Am{static makeCurrent(){LD(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=G1();return n==null?null:q1(n)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gd(document.cookie,e)}},ja=null;function G1(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function q1(t){return new URL(t,document.baseURI).pathname}var Nm=class{addToWindow(e){dt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new O(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=dt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Un().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Y1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Rm=new N(""),lE=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(x(Rm),x(oe))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),wd=class{constructor(e){this._doc=e}},Mm="ng-app-id",cE=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oa(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Mm}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Mm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Mm,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(x(bt),x(Fu),x(Og,8),x(_t))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Om=/%COMP%/g,uE="%COMP%",K1=`_nghost-${uE}`,Q1=`_ngcontent-${uE}`,Z1=!0,X1=new N("",{providedIn:"root",factory:()=>Z1});function J1(t){return Q1.replace(Om,t)}function eL(t){return K1.replace(Om,t)}function dE(t,e){return e.map(n=>n.replace(Om,t))}var sE=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Oa(l),this.defaultRenderer=new Ba(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r=le(P({},r),{encapsulation:On.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Dd?s.applyToHost(i):s instanceof Ua&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case On.Emulated:o=new Dd(c,u,r,this.appId,d,a,l,h);break;case On.ShadowDom:return new km(c,u,i,r,a,l,this.nonce,h);default:o=new Ua(c,u,r,d,a,l,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(x(lE),x(cE),x(Fu),x(X1),x(bt),x(_t),x(oe),x(Og))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Ba=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(oE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Tm[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Tm[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(li.DashCase|li.Important)?e.style.setProperty(n,i,r&li.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&li.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var km=class extends Ba{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=dE(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends Ba{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?dE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dd=class extends Ua{constructor(e,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=J1(c),this.hostAttr=eL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},tL=(()=>{let e=class e extends wd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(x(bt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),aE=["alt","control","meta","shift"],nL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rL=(()=>{let e=class e extends wd{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),aE.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=nL[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),aE.forEach(a=>{if(a!==s){let l=iL[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(x(bt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function sL(){Pm.makeCurrent()}function oL(){return new Vn}function aL(){return iw(document),document}var lL=[{provide:_t,useValue:wm},{provide:kg,useValue:sL,multi:!0},{provide:bt,useFactory:aL,deps:[]}],hE=cm(MD,"browser",lL),cL=new N(""),uL=[{provide:Ra,useClass:Nm,deps:[]},{provide:am,useClass:Xu,deps:[oe,Ju,Ra]},{provide:Xu,useClass:Xu,deps:[oe,Ju,Ra]}],dL=[{provide:ju,useValue:"root"},{provide:Vn,useFactory:oL,deps:[]},{provide:Rm,useClass:tL,multi:!0,deps:[bt,oe,_t]},{provide:Rm,useClass:rL,multi:!0,deps:[bt]},sE,cE,lE,{provide:Sa,useExisting:sE},{provide:ho,useClass:Y1,deps:[]},[]],fE=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Fu,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(x(cL,12))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({providers:[...dL,...uL],imports:[GD,TD]});let t=e;return t})();var pE=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(x(bt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K="primary",nl=Symbol("RouteTitle"),Bm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _o(t){return new Bm(t)}function hL(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function fL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hn(t[n],e[n]))return!1;return!0}function Hn(t,e){let n=t?Um(t):void 0,i=e?Um(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!EE(t[r],e[r]))return!1;return!0}function Um(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function EE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function xE(t){return t.length>0?t[t.length-1]:null}function tr(t){return hp(t)?t:Kr(t)?ce(Promise.resolve(t)):V(t)}var pL={exact:SE,subset:ME},IE={exact:gL,subset:mL,ignored:()=>!0};function mE(t,e,n){return pL[n.paths](t.root,e.root,n.matrixParams)&&IE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function gL(t,e){return Hn(t,e)}function SE(t,e,n){if(!ns(t.segments,e.segments)||!Id(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!SE(t.children[i],e.children[i],n))return!1;return!0}function mL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EE(t[n],e[n]))}function ME(t,e,n){return TE(t,e,e.segments,n)}function TE(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ns(r,n)||e.hasChildren()||!Id(r,n,i))}else if(t.segments.length===n.length){if(!ns(t.segments,n)||!Id(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!ME(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ns(t.segments,r)||!Id(t.segments,r,i)||!t.children[K]?!1:TE(t.children[K],e,s,i)}}function Id(t,e,n){return e.every((i,r)=>IE[n](t[r].parameters,i.parameters))}var Xi=class{constructor(e=new me([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){return _L.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}},ts=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_o(this.parameters),this._parameterMap}toString(){return PE(this)}};function yL(t,e){return ns(t,e)&&t.every((n,i)=>Hn(n.parameters,e[i].parameters))}function ns(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function vL(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===K&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==K&&(n=n.concat(e(r,i)))}),n}var il=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>new Ya,providedIn:"root"});let t=e;return t})(),Ya=class{parse(e){let n=new Hm(e);return new Xi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${$a(e.root,!0)}`,i=wL(e.queryParams),r=typeof e.fragment=="string"?`#${bL(e.fragment)}`:"";return`${n}${i}${r}`}},_L=new Ya;function Sd(t){return t.segments.map(e=>PE(e)).join("/")}function $a(t,e){if(!t.hasChildren())return Sd(t);if(e){let n=t.children[K]?$a(t.children[K],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==K&&i.push(`${r}:${$a(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=vL(t,(i,r)=>r===K?[$a(t.children[K],!1)]:[`${r}:${$a(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Sd(t)}/${n[0]}`:`${Sd(t)}/(${n.join("//")})`}}function AE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ed(t){return AE(t).replace(/%3B/gi,";")}function bL(t){return encodeURI(t)}function $m(t){return AE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Md(t){return decodeURIComponent(t)}function yE(t){return Md(t.replace(/\+/g,"%20"))}function PE(t){return`${$m(t.path)}${CL(t.parameters)}`}function CL(t){return Object.entries(t).map(([e,n])=>`;${$m(e)}=${$m(n)}`).join("")}function wL(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Ed(n)}=${Ed(r)}`).join("&"):`${Ed(n)}=${Ed(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DL=/^[^\/()?;#]+/;function Fm(t){let e=t.match(DL);return e?e[0]:""}var EL=/^[^\/()?;=#]+/;function xL(t){let e=t.match(EL);return e?e[0]:""}var IL=/^[^=?&#]+/;function SL(t){let e=t.match(IL);return e?e[0]:""}var ML=/^[^&#]+/;function TL(t){let e=t.match(ML);return e?e[0]:""}var Hm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[K]=new me(e,n)),i}parseSegment(){let e=Fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new ts(Md(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=xL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Fm(this.remaining);r&&(i=r,this.capture(i))}e[Md(n)]=Md(i)}parseQueryParam(e){let n=SL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=TL(this.remaining);o&&(i=o,this.capture(i))}let r=yE(n),s=yE(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Fm(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new O(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function NE(t){return t.segments.length>0?new me([],{[K]:t}):t}function RE(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=RE(r);if(i===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new me(t.segments,e);return AL(n)}function AL(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new me(t.segments.concat(e.segments),e.children)}return t}function bo(t){return t instanceof Xi}function PL(t,e,n=null,i=null){let r=kE(t);return OE(r,e,n,i)}function kE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new me(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=NE(i);return e??r}function OE(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Lm(r,r,r,n,i);let s=NL(e);if(s.toRoot())return Lm(r,r,new me([],{}),n,i);let o=RL(s,r,t),a=o.processChildren?Wa(o.segmentGroup,o.index,s.commands):LE(o.segmentGroup,o.index,s.commands);return Lm(r,o.segmentGroup,a,n,i)}function Td(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Lm(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=FE(t,e,n);let a=NE(RE(o));return new Xi(a,s,r)}function FE(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=FE(s,e,n)}),new me(t.segments,i)}var Ad=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Td(i[0]))throw new O(4003,!1);let r=i.find(Ka);if(r&&r!==xE(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ad(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Ad(n,e,i)}var yo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function RL(t,e,n){if(t.isAbsolute)return new yo(e,!0,0);if(!n)return new yo(e,!1,NaN);if(n.parent===null)return new yo(n,!0,0);let i=Td(t.commands[0])?0:1,r=n.segments.length-1+i;return kL(n,r,t.numberOfDoubleDots)}function kL(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new yo(i,!1,r-s)}function OL(t){return Ka(t[0])?t[0].outlets:{[K]:t}}function LE(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return Wa(t,e,n);let i=FL(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,i.pathIndex),{});return s.children[K]=new me(t.segments.slice(i.pathIndex),t.children),Wa(s,0,r)}else return i.match&&r.length===0?new me(t.segments,{}):i.match&&!t.hasChildren()?zm(t,e,n):i.match?Wa(t,0,r):zm(t,e,n)}function Wa(t,e,n){if(n.length===0)return new me(t.segments,{});{let i=OL(n),r={};if(Object.keys(i).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Wa(t.children[K],e,n);return new me(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=LE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new me(t.segments,r)}}function FL(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Ka(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!_E(l,c,o))return s;i+=2}else{if(!_E(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function zm(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Ka(s)){let l=LL(s.outlets);return new me(i,l)}if(r===0&&Td(n[0])){let l=t.segments[e];i.push(new ts(l.path,vE(n[0]))),r++;continue}let o=Ka(s)?s.outlets[K]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Td(a)?(i.push(new ts(o,vE(a))),r+=2):(i.push(new ts(o,{})),r++)}return new me(i,{})}function LL(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=zm(new me([],{}),0,i))}),e}function vE(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function _E(t,e,n){return t==n.path&&Hn(e,n.parameters)}var Ga="imperative",st=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(st||{}),an=class{constructor(e,n){this.id=e,this.url=n}},Co=class extends an{constructor(e,n,i="imperative",r=null){super(e,n),this.type=st.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bi=class extends an{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(on||{}),Pd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pd||{}),Ji=class extends an{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends an{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=st.NavigationSkipped}},Qa=class extends an{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nd=class extends an{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wm=class extends an{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gm=class extends an{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qm=class extends an{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ym=class extends an{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Km=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qm=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zm=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xm=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jm=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ey=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=st.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Za=class{},Xa=class{constructor(e){this.url=e}};var ty=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new rl,this.attachRef=null}},rl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new ty,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ny(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=ny(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=iy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return iy(e,this._root).map(n=>n.value)}};function ny(t,e){if(t===e.value)return e;for(let n of e.children){let i=ny(t,n);if(i)return i}return null}function iy(t,e){if(t===e.value)return[e];for(let n of e.children){let i=iy(t,n);if(i.length)return i.unshift(e),i}return[]}var Wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Od=class extends kd{constructor(e,n){super(e),this.snapshot=n,fy(this,e)}toString(){return this.snapshot.toString()}};function VE(t){let e=VL(t),n=new ut([new ts("",{})]),i=new ut({}),r=new ut({}),s=new ut({}),o=new ut(""),a=new wo(n,i,s,o,r,K,t,e.root);return a.snapshot=e.root,new Od(new Wt(a,[]),e)}function VL(t){let e={},n={},i={},r="",s=new Ja([],e,i,r,n,K,t,null,{});return new Fd("",new Wt(s,[]))}var wo=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(j(c=>c[nl]))??V(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>_o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>_o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hy(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),r?.data),t._resolvedData)}:i={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},r&&BE(r)&&(i.resolve[nl]=r.title),i}var Ja=class{get title(){return this.data?.[nl]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Fd=class extends kd{constructor(e,n){super(n),this.url=e,fy(this,n)}toString(){return jE(this._root)}};function fy(t,e){e.value._routerState=t,e.children.forEach(n=>fy(t,n))}function jE(t){let e=t.children.length>0?` { ${t.children.map(jE).join(", ")} } `:"";return`${t.value}${e}`}function Vm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hn(e.params,n.params)||t.paramsSubject.next(n.params),fL(e.url,n.url)||t.urlSubject.next(n.url),Hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ry(t,e){let n=Hn(t.params,e.params)&&yL(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||ry(t.parent,e.parent))}function BE(t){return typeof t.title=="string"||t.title===null}var py=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=A(rl),this.location=A(co),this.changeDetector=A(Zr),this.environmentInjector=A(St),this.inputBinder=A(Ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new sy(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fi]});let t=e;return t})(),sy=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===wo?this.route:e===rl?this.childContexts:this.parent.get(e,n)}},Ud=new N(""),bE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=ma([r.queryParams,r.params,r.data]).pipe(Ie(([o,a,l],c)=>(l=P(P(P({},o),a),l),c===0?V(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=AD(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function jL(t,e,n){let i=el(t,e._root,n?n._root:void 0);return new Od(i,e)}function el(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=BL(t,e,n);return new Wt(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>el(t,a)),o}}let i=UL(e.value),r=e.children.map(s=>el(t,s));return new Wt(i,r)}}function BL(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return el(t,i,r);return el(t,i)})}function UL(t){return new wo(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var UE="ngNavigationCancelingError";function $E(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=HE(!1,on.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function HE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UE]=!0,n.cancellationCode=e,n}function $L(t){return zE(t)&&bo(t.url)}function zE(t){return!!t&&t[UE]}var HL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[_D],decls:1,vars:0,template:function(r,s){r&1&&_e(0,"router-outlet")},dependencies:[py],encapsulation:2});let t=e;return t})();function zL(t,e){return t.providers&&!t._injector&&(t._injector=Yu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gy(t){let e=t.children&&t.children.map(gy),n=e?le(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=HL),n}function zn(t){return t.outlet||K}function WL(t,e){let n=t.filter(i=>zn(i)===e);return n.push(...t.filter(i=>zn(i)!==e)),n}function sl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var GL=(t,e,n,i)=>j(r=>(new oy(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),oy=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Vm(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=mo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=mo(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new ey(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Xm(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Vm(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=sl(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Ld=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vo=class{constructor(e,n){this.component=e,this.route=n}};function qL(t,e,n){let i=t._root,r=e?e._root:null;return Ha(i,r,n,[i.value])}function YL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Eo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!rw(t)?t:e.get(t):i}function Ha(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=mo(e);return t.children.forEach(o=>{KL(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>qa(a,n.getContext(o),r)),r}function KL(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=QL(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ld(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ha(t,e,a?a.children:null,i,r):Ha(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new vo(a.outlet.component,o))}else o&&qa(e,a,r),r.canActivateChecks.push(new Ld(i)),s.component?Ha(t,null,a?a.children:null,i,r):Ha(t,null,n,i,r);return r}function QL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(t.url,e.url)||!Hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ry(t,e)||!Hn(t.queryParams,e.queryParams);case"paramsChange":default:return!ry(t,e)}}function qa(t,e,n){let i=mo(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?qa(o,e.children.getContext(s),n):qa(o,null,n):qa(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vo(e.outlet.component,r)):n.canDeactivateChecks.push(new vo(null,r)):n.canDeactivateChecks.push(new vo(null,r))}function ol(t){return typeof t=="function"}function ZL(t){return typeof t=="boolean"}function XL(t){return t&&ol(t.canLoad)}function JL(t){return t&&ol(t.canActivate)}function eV(t){return t&&ol(t.canActivateChild)}function tV(t){return t&&ol(t.canDeactivate)}function nV(t){return t&&ol(t.canMatch)}function WE(t){return t instanceof si||t?.name==="EmptyError"}var xd=Symbol("INITIAL_VALUE");function Do(){return Ie(t=>ma(t.map(e=>e.pipe(ai(1),_p(xd)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===xd)return xd;if(n===!1||n instanceof Xi)return n}return!0}),gt(e=>e!==xd),ai(1)))}function iV(t,e){return Qe(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(le(P({},n),{guardsResult:!0})):rV(o,i,r,t).pipe(Qe(a=>a&&ZL(a)?sV(i,s,t,e):V(a)),j(a=>le(P({},n),{guardsResult:a})))})}function rV(t,e,n,i){return ce(t).pipe(Qe(r=>uV(r.component,r.route,n,e,i)),Jt(r=>r!==!0,!0))}function sV(t,e,n,i){return ce(e).pipe(oi(r=>js(aV(r.route.parent,i),oV(r.route,i),cV(t,r.path,n),lV(t,r.route,n))),Jt(r=>r!==!0,!0))}function oV(t,e){return t!==null&&e&&e(new Jm(t)),V(!0)}function aV(t,e){return t!==null&&e&&e(new Zm(t)),V(!0)}function lV(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return V(!0);let r=i.map(s=>Wc(()=>{let o=sl(e)??n,a=Eo(s,o),l=JL(a)?a.canActivate(e,t):jn(o,()=>a(e,t));return tr(l).pipe(Jt())}));return V(r).pipe(Do())}function cV(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>YL(o)).filter(o=>o!==null).map(o=>Wc(()=>{let a=o.guards.map(l=>{let c=sl(o.node)??n,u=Eo(l,c),d=eV(u)?u.canActivateChild(i,t):jn(c,()=>u(i,t));return tr(d).pipe(Jt())});return V(a).pipe(Do())}));return V(s).pipe(Do())}function uV(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let l=sl(e)??r,c=Eo(a,l),u=tV(c)?c.canDeactivate(t,e,n,i):jn(l,()=>c(t,e,n,i));return tr(u).pipe(Jt())});return V(o).pipe(Do())}function dV(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return V(!0);let s=r.map(o=>{let a=Eo(o,t),l=XL(a)?a.canLoad(e,n):jn(t,()=>a(e,n));return tr(l)});return V(s).pipe(Do(),GE(i))}function GE(t){return op(We(e=>{if(bo(e))throw $E(t,e)}),j(e=>e===!0))}function hV(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return V(!0);let s=r.map(o=>{let a=Eo(o,t),l=nV(a)?a.canMatch(e,n):jn(t,()=>a(e,n));return tr(l)});return V(s).pipe(Do(),GE(i))}var tl=class{constructor(e){this.segmentGroup=e||null}},Vd=class extends Error{constructor(e){super(),this.urlTree=e}};function go(t){return Vs(new tl(t))}function fV(t){return Vs(new O(4e3,!1))}function pV(t){return Vs(HE(!1,on.GuardRejected))}var ay=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return V(i);if(r.numberOfChildren>1||!r.children[K])return fV(e.redirectTo);r=r.children[K]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Vd(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Xi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new me(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},ly={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gV(t,e,n,i,r){let s=my(t,e,n);return s.matched?(i=zL(e,i),hV(i,e,n,r).pipe(j(o=>o===!0?s:P({},ly)))):V(s)}function my(t,e,n){if(e.path==="**")return mV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},ly):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||hL)(n,t,e);if(!r)return P({},ly);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?P(P({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function mV(t){return{matched:!0,parameters:t.length>0?xE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function CE(t,e,n,i){return n.length>0&&_V(t,n,i)?{segmentGroup:new me(e,vV(i,new me(n,t.children))),slicedSegments:[]}:n.length===0&&bV(t,n,i)?{segmentGroup:new me(t.segments,yV(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function yV(t,e,n,i){let r={};for(let s of n)if($d(t,e,s)&&!i[zn(s)]){let o=new me([],{});r[zn(s)]=o}return P(P({},i),r)}function vV(t,e){let n={};n[K]=e;for(let i of t)if(i.path===""&&zn(i)!==K){let r=new me([],{});n[zn(i)]=r}return n}function _V(t,e,n){return n.some(i=>$d(t,e,i)&&zn(i)!==K)}function bV(t,e,n){return n.some(i=>$d(t,e,i))}function $d(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CV(t,e,n,i){return zn(t)!==i&&(i===K||!$d(e,n,t))?!1:my(e,t,n).matched}function wV(t,e,n){return e.length===0&&!t.children[n]}var cy=class{};function DV(t,e,n,i,r,s,o="emptyOnly"){return new uy(t,e,n,i,r,o,s).recognize()}var EV=31,uy=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ay(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=CE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let i=new Ja([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),r=new Wt(i,n),s=new Fd("",r),o=PL(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(Li(i=>{if(i instanceof Vd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof tl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=hy(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(j(s=>s instanceof Wt?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return ce(r).pipe(oi(s=>{let o=i.children[s],a=WL(n,s);return this.processSegmentGroup(e,a,o,s)}),$s((s,o)=>(s.push(...o),s)),Vi(null),mp(),Qe(s=>{if(s===null)return go(i);let o=qE(s);return xV(o),V(o)}))}processSegment(e,n,i,r,s,o){return ce(n).pipe(oi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Li(l=>{if(l instanceof tl)return V(null);throw l}))),Jt(a=>!!a),Li(a=>{if(WE(a))return wV(i,r,s)?V(new cy):go(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return CV(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):go(r):go(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=my(n,r,s);if(!a)return go(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Qe(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=gV(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Ie(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ie(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Ja(u,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,SV(i),zn(i),i.component??i._loadedComponent??null,i,MV(i)),{segmentGroup:p,slicedSegments:g}=CE(n,u,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(j(y=>y===null?null:new Wt(f,y)));if(l.length===0&&g.length===0)return V(new Wt(f,[]));let m=zn(i)===s;return this.processSegment(c,l,p,g,m?K:s,!0).pipe(j(y=>new Wt(f,y instanceof Wt?[y]:[])))}))):go(n)))}getChildConfig(e,n,i){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):dV(e,n,i,this.urlSerializer).pipe(Qe(r=>r?this.configLoader.loadChildren(e,n).pipe(We(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):pV(n))):V({routes:[],injector:e})}};function xV(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function IV(t){let e=t.value.routeConfig;return e&&e.path===""}function qE(t){let e=[],n=new Set;for(let i of t){if(!IV(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=qE(i.children);e.push(new Wt(i.value,r))}return e.filter(i=>!n.has(i))}function SV(t){return t.data||{}}function MV(t){return t.resolve||{}}function TV(t,e,n,i,r,s){return Qe(o=>DV(t,e,n,i,o.extractedUrl,r,s).pipe(j(({state:a,tree:l})=>le(P({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function AV(t,e){return Qe(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return V(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of YE(l))o.add(c);let a=0;return ce(o).pipe(oi(l=>s.has(l)?PV(l,i,t,e):(l.data=hy(l,l.parent,t).resolve,V(void 0))),We(()=>a++),Us(1),Qe(l=>a===o.size?V(n):kt))})}function YE(t){let e=t.children.map(n=>YE(n)).flat();return[t,...e]}function PV(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!BE(r)&&(s[nl]=r.title),NV(s,t,e,i).pipe(j(o=>(t._resolvedData=o,t.data=hy(t,t.parent,n).resolve,null)))}function NV(t,e,n,i){let r=Um(t);if(r.length===0)return V({});let s={};return ce(r).pipe(Qe(o=>RV(t[o],e,n,i).pipe(Jt(),We(a=>{s[o]=a}))),Us(1),pp(s),Li(o=>WE(o)?kt:Vs(o)))}function RV(t,e,n,i){let r=sl(e)??i,s=Eo(t,r),o=s.resolve?s.resolve(e,n):jn(r,()=>s(e,n));return tr(o)}function jm(t){return Ie(e=>{let n=t(e);return n?ce(n).pipe(j(()=>e)):V(e)})}var KE=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===K);return r}getResolvedTitleForRoute(i){return i.data[nl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A(kV),providedIn:"root"});let t=e;return t})(),kV=(()=>{let e=class e extends KE{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(x(pE))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),al=new N("",{providedIn:"root",factory:()=>({})}),jd=new N(""),yy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(nd)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return V(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=tr(i.loadComponent()).pipe(j(QE),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),ji(()=>{this.componentLoaders.delete(i)})),s=new Rs(r,()=>new tt).pipe(Ns());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=OV(r,this.compiler,i,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(r)})),a=new Rs(o,()=>new tt).pipe(Ns());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OV(t,e,n,i){return tr(t.loadChildren()).pipe(j(QE),Qe(r=>r instanceof Ma||Array.isArray(r)?V(r):ce(e.compileModuleAsync(r))),j(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(jd,[],{optional:!0,self:!0}).flat()),{routes:o.map(gy),injector:s}}))}function FV(t){return t&&typeof t=="object"&&"default"in t}function QE(t){return FV(t)?t.default:t}var vy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A(LV),providedIn:"root"});let t=e;return t})(),LV=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZE=new N(""),XE=new N("");function VV(t,e,n){let i=t.get(XE),r=t.get(bt);return t.get(oe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),jV(t))),{onViewTransitionCreated:l}=i;return l&&jn(t,()=>l({transition:a,from:e,to:n})),o})}function jV(t){return new Promise(e=>{nm(e,{injector:t})})}var _y=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=A(yy),this.environmentInjector=A(St),this.urlSerializer=A(il),this.rootContexts=A(rl),this.location=A(fo),this.inputBindingEnabled=A(Ud,{optional:!0})!==null,this.titleStrategy=A(KE),this.options=A(al,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(vy),this.createViewTransition=A(ZE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Km(s)),r=s=>this.events.next(new Qm(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(le(P(P({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ga,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(o=>o.id!==0),j(o=>le(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ie(o=>{this.currentTransition=o;let a=!1,l=!1;return V(o).pipe(We(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?le(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ie(c=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new er(c.id,this.urlSerializer.serialize(c.rawUrl),h,Pd.IgnoredSameUrlNavigation)),c.resolve(null),kt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Ie(h=>{let f=this.transitions?.getValue();return this.events.next(new Co(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?kt:Promise.resolve(h)}),TV(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),We(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=le(P({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Nd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new Co(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);let v=VE(this.rootComponentType).snapshot;return this.currentTransition=o=le(P({},c),{targetSnapshot:v,urlAfterRedirects:f,extras:le(P({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new er(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Pd.IgnoredByUrlHandlingStrategy)),c.resolve(null),kt}}),We(c=>{let u=new Wm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),j(c=>(this.currentTransition=o=le(P({},c),{guards:qL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),iV(this.environmentInjector,c=>this.events.next(c)),We(c=>{if(o.guardsResult=c.guardsResult,bo(c.guardsResult))throw $E(this.urlSerializer,c.guardsResult);let u=new Gm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),gt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",on.GuardRejected),!1)),jm(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(We(u=>{let d=new qm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ie(u=>{let d=!1;return V(u).pipe(AV(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",on.NoDataFromResolver)}}))}),We(u=>{let d=new Ym(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),jm(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(We(f=>{d.component=f}),j(()=>{})));for(let f of d.children)h.push(...u(f));return h};return ma(u(c.targetSnapshot.root)).pipe(Vi(null),ai(1))}),jm(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ce(d).pipe(j(()=>o)):V(o)}),j(c=>{let u=jL(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=le(P({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),We(()=>{this.events.next(new Za)}),GL(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ai(1),We({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),bp(this.transitionAbortSubject.pipe(We(c=>{throw c}))),ji(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",on.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Li(c=>{if(l=!0,zE(c))this.events.next(new Ji(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),$L(c)?this.events.next(new Xa(c.url)):o.resolve(!1);else{this.events.next(new Qa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return kt}))}))}cancelNavigationTransition(i,r,s){let o=new Ji(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BV(t){return t!==Ga}var UV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A($V),providedIn:"root"});let t=e;return t})(),dy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$V=(()=>{let e=class e extends dy{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>A(HV),providedIn:"root"});let t=e;return t})(),HV=(()=>{let e=class e extends JE{constructor(){super(...arguments),this.location=A(fo),this.urlSerializer=A(il),this.options=A(al,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(vy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Co)this.stateMemento=this.createStateMemento();else if(i instanceof er)this.rawUrlTree=r.initialUrl;else if(i instanceof Nd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Za?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Ji&&(i.code===on.GuardRejected||i.code===on.NoDataFromResolver)?this.restoreHistory(r):i instanceof Qa?this.restoreHistory(r,!0):i instanceof bi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),za=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(za||{});function ex(t,e){t.events.pipe(gt(n=>n instanceof bi||n instanceof Ji||n instanceof Qa||n instanceof er),j(n=>n instanceof bi||n instanceof er?za.COMPLETE:(n instanceof Ji?n.code===on.Redirect||n.code===on.SupersededByNewNavigation:!1)?za.REDIRECTING:za.FAILED),gt(n=>n!==za.REDIRECTING),ai(1)).subscribe(()=>{e()})}function zV(t){throw t}var WV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ci=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(Zu),this.stateManager=A(JE),this.options=A(al,{optional:!0})||{},this.pendingTasks=A(Wr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(_y),this.urlSerializer=A(il),this.location=A(fo),this.urlHandlingStrategy=A(vy),this._events=new tt,this.errorHandler=this.options.errorHandler||zV,this.navigated=!1,this.routeReuseStrategy=A(UV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(jd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(Ud,{optional:!0}),this.eventsSubscription=new ze,this.isNgZoneEnabled=A(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ji&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bi)this.navigated=!0;else if(r instanceof Xa){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||BV(s.source)};this.scheduleNavigation(a,Ga,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}YV(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ga,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=P({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(gy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=kE(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return OE(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=bo(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ga,null,r)}navigate(i,r={skipLocationChange:!1}){return qV(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=P({},WV):r===!1?s=P({},GV):s=r,bo(i))return mE(this.currentUrlTree,i,s);let o=this.parseUrl(i);return mE(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return ex(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function YV(t){return!(t instanceof Za)&&!(t instanceof Xa)}var Bd=class{};var KV=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gt(i=>i instanceof bi),oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Yu(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ce(s).pipe(Fi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=V(null);let o=s.pipe(Qe(a=>a===null?V(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ce([o,a]).pipe(Fi())}else return o})}};e.\u0275fac=function(r){return new(r||e)(x(Ci),x(nd),x(St),x(Bd),x(yy))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tx=new N(""),QV=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof bi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof er&&i.code===Pd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Rd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){qw()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function ZV(t){return t.routerState.root}function ll(t,e){return{\u0275kind:t,\u0275providers:e}}function XV(){let t=A(Dn);return e=>{let n=t.get(Qr);if(e!==n.components[0])return;let i=t.get(Ci),r=t.get(nx);t.get(by)===1&&i.initialNavigation(),t.get(ix,null,ee.Optional)?.setUpPreloading(),t.get(tx,null,ee.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var nx=new N("",{factory:()=>new tt}),by=new N("",{providedIn:"root",factory:()=>1});function JV(){return ll(2,[{provide:by,useValue:0},{provide:ed,multi:!0,deps:[Dn],useFactory:e=>{let n=e.get(VD,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Ci),s=e.get(nx);ex(r,()=>{i(!0)}),e.get(_y).afterPreactivation=()=>(i(!0),s.closed?V(void 0):s),r.initialNavigation()}))}}])}function ej(){return ll(3,[{provide:ed,multi:!0,useFactory:()=>{let e=A(Ci);return()=>{e.setUpLocationChangeListener()}}},{provide:by,useValue:2}])}var ix=new N("");function tj(t){return ll(0,[{provide:ix,useExisting:KV},{provide:Bd,useExisting:t}])}function nj(){return ll(8,[bE,{provide:Ud,useExisting:bE}])}function ij(t){let e=[{provide:ZE,useValue:VV},{provide:XE,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return ll(9,e)}var wE=new N("ROUTER_FORROOT_GUARD"),rj=[fo,{provide:il,useClass:Ya},Ci,rl,{provide:wo,useFactory:ZV,deps:[Ci]},yy,[]],Cy=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[rj,[],{provide:jd,multi:!0,useValue:i},{provide:wE,useFactory:lj,deps:[[Ci,new lo,new jg]]},{provide:al,useValue:r||{}},r?.useHash?oj():aj(),sj(),r?.preloadingStrategy?tj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?cj(r):[],r?.bindToComponentInputs?nj().\u0275providers:[],r?.enableViewTransitions?ij().\u0275providers:[],uj()]}}static forChild(i){return{ngModule:e,providers:[{provide:jd,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(x(wE,8))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({});let t=e;return t})();function sj(){return{provide:tx,useFactory:()=>{let t=A(qD),e=A(oe),n=A(al),i=A(_y),r=A(il);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QV(r,i,t,e,n)}}}function oj(){return{provide:Xr,useClass:BD}}function aj(){return{provide:Xr,useClass:Cm}}function lj(t){return"guarded"}function cj(t){return[t.initialNavigation==="disabled"?ej().\u0275providers:[],t.initialNavigation==="enabledBlocking"?JV().\u0275providers:[]]}var DE=new N("");function uj(){return[{provide:DE,useFactory:XV},{provide:td,multi:!0,useExisting:DE}]}var px=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(L(Yi),L(hi))},e.\u0275dir=Ue({type:e});let t=e;return t})(),Zd=(()=>{let e=class e extends px{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,features:[Ht]});let t=e;return t})(),So=new N("");var dj={provide:So,useExisting:wn(()=>ln),multi:!0};function hj(){let t=Un()?Un().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fj=new N(""),ln=(()=>{let e=class e extends px{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hj())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(L(Yi),L(hi),L(fj,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ge("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[gi([dj]),Ht]});let t=e;return t})();function nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function gx(t){return t!=null&&typeof t.length=="number"}var Xd=new N(""),Iy=new N(""),pj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ke=class{static min(e){return gj(e)}static max(e){return mj(e)}static required(e){return mx(e)}static requiredTrue(e){return yj(e)}static email(e){return vj(e)}static minLength(e){return _j(e)}static maxLength(e){return bj(e)}static pattern(e){return Cj(e)}static nullValidator(e){return zd(e)}static compose(e){return wx(e)}static composeAsync(e){return Ex(e)}};function gj(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function mj(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function mx(t){return nr(t.value)?{required:!0}:null}function yj(t){return t.value===!0?null:{required:!0}}function vj(t){return nr(t.value)||pj.test(t.value)?null:{email:!0}}function _j(t){return e=>nr(e.value)||!gx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function bj(t){return e=>gx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Cj(t){if(!t)return zd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(nr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function zd(t){return null}function yx(t){return t!=null}function vx(t){return Kr(t)?ce(t):t}function _x(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function bx(t,e){return e.map(n=>n(t))}function wj(t){return!t.validate}function Cx(t){return t.map(e=>wj(e)?e:n=>e.validate(n))}function wx(t){if(!t)return null;let e=t.filter(yx);return e.length==0?null:function(n){return _x(bx(n,e))}}function Dx(t){return t!=null?wx(Cx(t)):null}function Ex(t){if(!t)return null;let e=t.filter(yx);return e.length==0?null:function(n){let i=bx(n,e).map(vx);return fp(i).pipe(j(_x))}}function xx(t){return t!=null?Ex(Cx(t)):null}function sx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ix(t){return t._rawValidators}function Sx(t){return t._rawAsyncValidators}function wy(t){return t?Array.isArray(t)?t:[t]:[]}function Wd(t,e){return Array.isArray(t)?t.includes(e):t===e}function ox(t,e){let n=wy(e);return wy(t).forEach(r=>{Wd(n,r)||n.push(r)}),n}function ax(t,e){return wy(e).filter(n=>!Wd(t,n))}var Gd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},is=class extends Gd{get formDirective(){return null}get path(){return null}},rs=class extends Gd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Dj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qK=le(P({},Dj),{"[class.ng-submitted]":"isSubmitted"}),Wn=(()=>{let e=class e extends qd{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(rs,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&En("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ht]});let t=e;return t})(),ir=(()=>{let e=class e extends qd{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(is,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&En("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ht]});let t=e;return t})();var cl="VALID",Hd="INVALID",xo="PENDING",ul="DISABLED";function Sy(t){return(Jd(t)?t.validators:t)||null}function Ej(t){return Array.isArray(t)?Dx(t):t||null}function My(t,e){return(Jd(e)?e.asyncValidators:t)||null}function xj(t){return Array.isArray(t)?xx(t):t||null}function Jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Mx(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new O(1e3,"");if(!i[n])throw new O(1001,"")}function Tx(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new O(1002,"")})}var Io=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cl}get invalid(){return this.status===Hd}get pending(){return this.status==xo}get disabled(){return this.status===ul}get enabled(){return this.status!==ul}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ox(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ox(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ax(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ax(e,this._rawAsyncValidators))}hasValidator(e){return Wd(this._rawValidators,e)}hasAsyncValidator(e){return Wd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ul,this.errors=null,this._forEachChild(i=>{i.disable(le(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cl,this._forEachChild(i=>{i.enable(le(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cl||this.status===xo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ul:cl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xo,this._hasOwnPendingAsyncValidator=!0;let n=vx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?ul:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xo)?xo:this._anyControlsHaveStatus(Hd)?Hd:cl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ej(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xj(this._rawAsyncValidators)}},Yd=class extends Io{constructor(e,n,i){super(Sy(n),My(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Tx(this,!0,e),Object.keys(e).forEach(i=>{Mx(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Dy=class extends Yd{};var eh=new N("CallSetDisabledState",{providedIn:"root",factory:()=>th}),th="always";function Ax(t,e){return[...e.path,t]}function Ey(t,e,n=th){Ty(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sj(t,e),Tj(t,e),Mj(t,e),Ij(t,e)}function lx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Qd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ij(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ty(t,e){let n=Ix(t);e.validator!==null?t.setValidators(sx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Sx(t);e.asyncValidator!==null?t.setAsyncValidators(sx(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Kd(e._rawValidators,r),Kd(e._rawAsyncValidators,r)}function Qd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Ix(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Sx(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Kd(e._rawValidators,i),Kd(e._rawAsyncValidators,i),n}function Sj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Px(t,e)})}function Mj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Px(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Px(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tj(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Aj(t,e){t==null,Ty(t,e)}function Pj(t,e){return Qd(t,e)}function Nx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Nj(t){return Object.getPrototypeOf(t.constructor)===Zd}function Rj(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Rx(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===ln?n=s:Nj(s)?i=s:r=s}),r||i||n||null}function kj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ux(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var dl=class extends Io{constructor(e=null,n,i){super(Sy(n),My(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ux(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ux(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Oj=t=>t instanceof dl;var Fj={provide:rs,useExisting:wn(()=>Ay)},dx=Promise.resolve(),Ay=(()=>{let e=class e extends rs{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new dl,this._registered=!1,this.name="",this.update=new Ge,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Rx(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Nx(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ey(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){dx.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&ka(r);dx.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Ax(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(L(is,9),L(Xd,10),L(Iy,10),L(So,10),L(Zr,8),L(eh,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[mt.None,"disabled","isDisabled"],model:[mt.None,"ngModel","model"],options:[mt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gi([Fj]),Ht,fi]});let t=e;return t})(),rr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Lj={provide:So,useExisting:wn(()=>hl),multi:!0},hl=(()=>{let e=class e extends Zd{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&ge("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[gi([Lj]),Ht]});let t=e;return t})();var kx=new N("");var Vj={provide:is,useExisting:wn(()=>wi)},wi=(()=>{let e=class e extends is{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Ey(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){lx(i.control||null,i,!1),kj(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,Rj(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(lx(r||null,i),Oj(s)&&(Ey(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Aj(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Pj(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ty(this.form,this),this._oldForm&&Qd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(L(Xd,10),L(Iy,10),L(eh,8))},e.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&ge("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[mt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gi([Vj]),Ht,fi]});let t=e;return t})();var jj={provide:rs,useExisting:wn(()=>Di)},Di=(()=>{let e=class e extends rs{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Rx(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Nx(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Ax(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(L(is,13),L(Xd,10),L(Iy,10),L(So,10),L(kx,8))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[mt.None,"formControlName","name"],isDisabled:[mt.None,"disabled","isDisabled"],model:[mt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[gi([jj]),Ht,fi]});let t=e;return t})(),Bj={provide:So,useExisting:wn(()=>Mo),multi:!0};function Ox(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Uj(t){return t.split(":")[0]}var Mo=(()=>{let e=class e extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=Ox(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Uj(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&ge("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[gi([Bj]),Ht]});let t=e;return t})(),nh=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(Ox(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(hi),L(Yi),L(Mo,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),$j={provide:So,useExisting:wn(()=>Fx),multi:!0};function hx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Hj(t){return t.split(":")[0]}var Fx=(()=>{let e=class e extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Hj(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&ge("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[gi([$j]),Ht]});let t=e;return t})(),ih=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(hx(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(hx(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(hi),L(Yi),L(Fx,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var zj=(()=>{let e=class e{constructor(){this._validator=zd}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zd,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,features:[fi]});let t=e;return t})();var Wj={provide:Xd,useExisting:wn(()=>Py),multi:!0};var Py=(()=>{let e=class e extends zj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ka,this.createValidator=i=>mx}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=pi(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Ku("required",s._enabled?"":null)},inputs:{required:"required"},features:[gi([Wj]),Ht]});let t=e;return t})();var Lx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({});let t=e;return t})(),xy=class extends Io{constructor(e,n,i){super(Sy(n),My(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Tx(this,!1,e),e.forEach((i,r)=>{Mx(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var sr=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return fx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Yd(s,o)}record(i,r=null){let s=this._reduceControls(i);return new Dy(s,r)}control(i,r,s){let o={};return this.useNonNullable?(fx(r)?o=r:(o.validators=r,o.asyncValidators=s),new dl(i,le(P({},o),{nonNullable:!0}))):new dl(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new xy(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof dl)return i;if(i instanceof Io)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vx=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:eh,useValue:i.callSetDisabledState??th}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({imports:[Lx]});let t=e;return t})(),jx=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:kx,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:eh,useValue:i.callSetDisabledState??th}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({imports:[Lx]});let t=e;return t})();var Gj="firebase",qj="10.8.1";Oi(Gj,qj,"app");var os=new ci("ANGULARFIRE2_VERSION");var Yj=(t,e)=>{let n=e?[e]:y0(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ss=class{constructor(){return Yj(Kj)}},Kj="app-check";function Ny(){}var rh=class{zone;delegate;constructor(e,n=up){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Ry=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ny,{},Ny,Ny)),n.pipe(We({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},sh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new rh(Zone.current)),this.insideAngular=n.run(()=>new rh(Zone.current,ga)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(x(oe))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qj(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ei(t){return Zj(Qj())(t)}function Zj(t){return function(n){return n=n.lift(new Ry(t.ngZone)),n.pipe(mn(t.outsideAngular),Xt(t.insideAngular))}}var e2=new Map,t2={activated:!1,tokenObservers:[]},n2={initialized:!1,enabled:!1};function In(t){return e2.get(t)||Object.assign({},t2)}function Wx(){return n2}var i2="https://content-firebaseappcheck.googleapis.com/v1";var r2="exchangeDebugToken",Ux={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},hQ=24*60*60*1e3;var Oy=class{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return Qt(this,null,function*(){this.stop();try{this.pending=new it,this.pending.promise.catch(n=>{}),yield s2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new it,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function s2(t){return new Promise(e=>{setTimeout(e,t)})}var o2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},or=new c0("appCheck","AppCheck",o2);function Gx(t){if(!In(t).activated)throw or.create("use-before-activation",{appName:t.name})}function qx(i,r){return Qt(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(f){throw or.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw or.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw or.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function Yx(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${i2}/projects/${n}/apps/${i}:${r2}?key=${r}`,body:{debug_token:e}}}var a2="firebase-app-check-database",l2=1,Fy="firebase-app-check-store";var oh=null;function c2(){return oh||(oh=new Promise((t,e)=>{try{let n=indexedDB.open(a2,l2);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(or.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Fy,{keyPath:"compositeKey"})}}}catch(n){e(or.create("storage-open",{originalErrorMessage:n?.message}))}}),oh)}function u2(t,e){return d2(h2(t),e)}function d2(t,e){return Qt(this,null,function*(){let i=(yield c2()).transaction(Fy,"readwrite"),s=i.objectStore(Fy).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(or.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function h2(t){return`${t.options.appId}-${t.name}`}var Ly=new Ss("@firebase/app-check");function ky(t,e){return l0()?u2(t,e).catch(n=>{Ly.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Kx(){return Wx().enabled}function Qx(){return Qt(this,null,function*(){let t=Wx();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var f2={error:"UNKNOWN_ERROR"};function p2(t){return vc.encodeString(JSON.stringify(t),!1)}function Vy(t,e=!1){return Qt(this,null,function*(){let n=t.app;Gx(n);let i=In(n),r=i.token,s;if(r&&!pl(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(pl(l)?r=l:yield ky(n,void 0))}if(!e&&r&&pl(r))return{token:r.token};let o=!1;if(Kx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qx(Yx(n,yield Qx()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield ky(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield In(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Ly.warn(l.message):Ly.error(l),s=l}let a;return r?s?pl(r)?a={token:r.token,internalError:s}:a=Hx(s):(a={token:r.token},i.token=r,yield ky(n,r)):a=Hx(s),o&&v2(n,a),a})}function g2(t){return Qt(this,null,function*(){let e=t.app;Gx(e);let{provider:n}=In(e);if(Kx()){let i=yield Qx(),{token:r}=yield qx(Yx(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function m2(t,e,n,i){let{app:r}=t,s=In(r),o={next:n,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&pl(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),$x(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$x(t))}function Zx(t,e){let n=In(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function $x(t){let{app:e}=t,n=In(e),i=n.tokenRefresher;i||(i=y2(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function y2(t){let{app:e}=t;return new Oy(()=>Qt(this,null,function*(){let n=In(e),i;if(n.token?i=yield Vy(t,!0):i=yield Vy(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=In(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Ux.RETRIAL_MIN_WAIT,Ux.RETRIAL_MAX_WAIT)}function v2(t,e){let n=In(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function pl(t){return t.expireTimeMillis-Date.now()>0}function Hx(t){return{token:p2(f2),error:t}}var jy=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=In(this.app);for(let n of e)Zx(this.app,n.next);return Promise.resolve()}};function _2(t,e){return new jy(t,e)}function b2(t){return{getToken:e=>Vy(t,e),getLimitedUseToken:()=>g2(t),addTokenListener:e=>m2(t,"INTERNAL",e),removeTokenListener:e=>Zx(t.app,e)}}var C2="@firebase/app-check",w2="0.8.2";var D2="app-check",zx="app-check-internal";function E2(){ha(new ii(D2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zx).initialize()})),ha(new ii(zx,t=>{let e=t.getProvider("app-check").getImmediate();return b2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oi(C2,w2)}E2();var x2=["localhost","0.0.0.0","127.0.0.1"],EQ=typeof window<"u"&&x2.includes(window.location.hostname);var I2="firebase",S2="10.8.1";Et.registerVersion(I2,S2,"app-compat");var M2=["ngOnDestroy"],eI=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{if(t[s])return i?.spy?.get&&i.spy.get(s,t[s]),t[s];if(M2.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,d),d})})})});var ah=class{constructor(e){return e}},To=new N("angularfire2.app.options"),Ao=new N("angularfire2.app.name");function gl(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let o=Et.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Et.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;T2("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ah(o)}var T2=(t,...e)=>{um()&&typeof console<"u"&&console[t](...e)},A2={provide:ah,useFactory:gl,deps:[To,oe,[new lo,Ao]]},tI=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:To,useValue:n},{provide:Ao,useValue:i}]}}constructor(n){Et.registerVersion("angularfire",os.full,"core"),Et.registerVersion("angularfire",os.full,"app-compat"),Et.registerVersion("angular",bD.full,n.toString())}static \u0275fac=function(i){return new(i||t)(x(_t))};static \u0275mod=Fe({type:t});static \u0275inj=Le({providers:[A2]})}return t})();function lh(t,e,n,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return P2(r,o)||(Jx("error",`${e} was already initialized on the ${n} Firebase App with different settings.${N2?" You may need to reload as Firebase is not HMR aware.":""}`),Jx("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function P2(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var N2=typeof module<"u"&&!!module.hot,Jx=(t,...e)=>{um()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var By=new N("angularfire2.auth.use-emulator"),Uy=new N("angularfire2.auth.settings"),$y=new N("angularfire2.auth.tenant-id"),Hy=new N("angularfire2.auth.langugage-code"),zy=new N("angularfire2.auth.use-device-language"),Wy=new N("angularfire.auth.persistence"),Gy=(t,e,n,i,r,s,o,a)=>lh(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,u]of Object.entries(o))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]),ml=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,s,o,a,l,c,u,d,h,f){let p=new tt,g=V(void 0).pipe(Xt(o.outsideAngular),Ie(()=>s.runOutsideAngular(()=>import("./chunk-FG2RN4SQ.js"))),j(()=>gl(n,s,i)),j(m=>Gy(m,s,a,c,u,d,l,h)),qc({bufferSize:1,refCount:!1}));if(Oa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{g.pipe(Jt()).subscribe();let m=g.pipe(Ie(_=>_.getRedirectResult().then(C=>C,()=>null)),Ei,qc({bufferSize:1,refCount:!1})),y=g.pipe(Ie(_=>new Z(C=>({unsubscribe:s.runOutsideAngular(()=>_.onAuthStateChanged(b=>C.next(b),b=>C.error(b),()=>C.complete()))})))),v=g.pipe(Ie(_=>new Z(C=>({unsubscribe:s.runOutsideAngular(()=>_.onIdTokenChanged(b=>C.next(b),b=>C.error(b),()=>C.complete()))}))));this.authState=m.pipe(Yc(y),mn(o.outsideAngular),Xt(o.insideAngular)),this.user=m.pipe(Yc(v),mn(o.outsideAngular),Xt(o.insideAngular)),this.idToken=this.user.pipe(Ie(_=>_?ce(_.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(Ie(_=>_?ce(_.getIdTokenResult()):V(null))),this.credential=Bs(m,p,this.authState.pipe(gt(_=>!_))).pipe(j(_=>_?.user?_:null),mn(o.outsideAngular),Xt(o.insideAngular))}return eI(this,g,s,{spy:{apply:(m,y,v)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&v.then(_=>p.next(_))}}})}static \u0275fac=function(i){return new(i||t)(x(To),x(Ao,8),x(_t),x(oe),x(sh),x(By,8),x(Uy,8),x($y,8),x(Hy,8),x(zy,8),x(Wy,8),x(ss,8))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),nI=(()=>{class t{constructor(){Et.registerVersion("angularfire",os.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Fe({type:t});static \u0275inj=Le({providers:[ml]})}return t})();var rI="@firebase/database",sI="1.0.3";var r_="";function s_(t){r_=t}var ev=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_c(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var tv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var FI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ev(e)}}catch{}return new tv},ls=FI("localStorage"),nv=FI("sessionStorage");var ko=new Ss("@firebase/database"),LI=function(){let t=1;return function(){return t++}}(),VI=function(t){let e=p0(t),n=new f0;n.update(e);let i=n.digest();return vc.encodeByteArray(i)},Bl=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Bl.apply(null,i):typeof i=="object"?e+=Ke(i):e+=i,e+=" "}return e},cs=null,oI=!0,jI=function(t,e){S(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ko.logLevel=g0.VERBOSE,cs=ko.log.bind(ko),e&&nv.set("logging_enabled",!0)):typeof t=="function"?cs=t:(cs=null,nv.remove("logging_enabled"))},ot=function(...t){if(oI===!0&&(oI=!1,cs===null&&nv.get("logging_enabled")===!0&&jI(!0)),cs){let e=Bl.apply(null,t);cs(e)}},Ul=function(t){return function(...e){ot(t,...e)}},iv=function(...t){let e="FIREBASE INTERNAL ERROR: "+Bl(...t);ko.error(e)},Yn=function(...t){let e=`FIREBASE FATAL ERROR: ${Bl(...t)}`;throw ko.error(e),new Error(e)},Ct=function(...t){let e="FIREBASE WARNING: "+Bl(...t);ko.warn(e)},R2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k2=function(t){if(Pn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ur="[MIN_NAME]",xi="[MAX_NAME]",ds=function(t,e){if(t===e)return 0;if(t===ur||e===xi)return-1;if(e===ur||t===xi)return 1;{let n=aI(t),i=aI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},O2=function(t,e){return t===e?0:t<e?-1:1},yl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},o_=function(t){if(typeof t!="object"||t===null)return Ke(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ke(e[i]),n+=":",n+=o_(t[e[i]]);return n+="}",n},BI=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function at(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var UI=function(t){S(!Fh(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},F2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},L2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function V2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var j2=new RegExp("^-?(0*)\\d{1,10}$"),B2=-2147483648,U2=2147483647,aI=function(t){if(j2.test(t)){let e=Number(t);if(e>=B2&&e<=U2)return e}return null},Ho=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},$2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var rv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var sv=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(e)}},wl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),uh="5",$I="v",HI="s",zI="r",WI="f",GI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qI="ls",YI="p",ov="ac",KI="websocket",QI="long_polling";var dh=class{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function H2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZI(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let i;if(e===KI)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QI)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);H2(t)&&(n.ns=t.namespace);let r=[];return at(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}var av=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return s0(this.counters_)}};var qy={},Yy={};function a_(t){let e=t.toString();return qy[e]||(qy[e]=new av),qy[e]}function z2(t,e){let n=t.toString();return Yy[n]||(Yy[n]=e()),Yy[n]}var lv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ho(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var lI="start",W2="close",G2="pLPCommand",q2="pRTLPCB",XI="id",JI="pw",eS="ser",Y2="cb",K2="seg",Q2="ts",Z2="d",X2="dframe",tS=1870,nS=30,J2=tS-nS,eB=25e3,tB=3e4,Il=class t{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ul(e),this.stats_=a_(n),this.urlFn=l=>(this.appCheckToken&&(l[ov]=this.appCheckToken),ZI(n,QI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tB)),k2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cv((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===lI)this.id=a,this.password=l;else if(o===W2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[lI]="t",i[eS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Y2]=this.scriptTagHolder.uniqueCallbackIdentifier),i[$I]=uh,this.transportSessionId&&(i[HI]=this.transportSessionId),this.lastSessionId&&(i[qI]=this.lastSessionId),this.applicationId&&(i[YI]=this.applicationId),this.appCheckToken&&(i[ov]=this.appCheckToken),typeof location<"u"&&location.hostname&&GI.test(location.hostname)&&(i[zI]=WI);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Pn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!F2()&&!L2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=r0(n),r=BI(i,J2);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Pn())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[X2]="t",i[XI]=e,i[JI]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},cv=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Pn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=LI(),window[G2+this.uniqueCallbackIdentifier]=e,window[q2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ot("frame writing exception"),a.stack&&ot(a.stack),ot(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[XI]=this.myID,e[JI]=this.myPW,e[eS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nS+i.length<=tS;){let o=this.pendingSegs.shift();i=i+"&"+K2+r+"="+o.seg+"&"+Q2+r+"="+o.ts+"&"+Z2+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(eB)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){Pn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var nB=16384,iB=45e3,hh=null;typeof MozWebSocket<"u"?hh=MozWebSocket:typeof WebSocket<"u"&&(hh=WebSocket);var No=(()=>{class t{constructor(n,i,r,s,o,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ul(this.connId),this.stats_=a_(i),this.connURL=t.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){let a={};return a[$I]=uh,!Pn()&&typeof location<"u"&&location.hostname&&GI.test(location.hostname)&&(a[zI]=WI),i&&(a[HI]=i),r&&(a[qI]=r),s&&(a[ov]=s),o&&(a[YI]=o),ZI(n,KI,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let r;if(Pn()){let s=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${uh}/${r_}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new hh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&hh!==null&&!t.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=_c(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(S(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ke(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=BI(i,nB);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iB))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),iS=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Il,No]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=No&&No.isAvailable(),r=i&&!No.previouslyFailed();if(n.webSocketOnly&&(i||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[No];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),rB=6e4,sB=5e3,oB=10*1024,aB=100*1024,Ky="t",cI="d",lB="s",uI="r",cB="e",dI="o",hI="a",fI="n",pI="p",uB="h",uv=class{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ul("c:"+this.id+":"),this.transportManager_=new iS(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ky in e){let n=e[Ky];n===hI?this.upgradeIfSecondaryHealthy_():n===uI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=yl("t",e),i=yl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=yl("t",e),i=yl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=yl(Ky,e);if(cI in e){let i=e[cI];if(n===uB){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===fI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lB?this.onConnectionShutdown_(i):n===uI?this.onReset_(i):n===cB?iv("Server Error: "+i):n===dI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uh!==i&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var fh=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var ph=class{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var gh=class t extends ph{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var gI=32,mI=768,de=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ue(){return new de("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function dr(t){return t.pieces_.length-t.pieceNum_}function Ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function l_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Sl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rS(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Oe(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof de)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new de(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){let n=X(t),i=X(e);if(n===null)return e;if(n===i)return At(Ee(t),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hB(t,e){let n=Sl(t,0),i=Sl(e,0);for(let r=0;r<n.length&&r<i.length;r++){let s=ds(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function c_(t,e){if(dr(t)!==dr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function cn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(dr(t)>dr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var dv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Sl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=da(this.parts_[i]);sS(this)}};function fB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=da(e),sS(t)}function pB(t){let e=t.parts_.pop();t.byteLength_-=da(e),t.parts_.length>0&&(t.byteLength_-=1)}function sS(t){if(t.byteLength_>mI)throw new Error(t.errorPrefix_+"has a key path longer than "+mI+" bytes ("+t.byteLength_+").");if(t.parts_.length>gI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gI+") or object contains a cycle "+as(t))}function as(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var hv=class t extends ph{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}};var vl=1e3,gB=60*5*1e3,yI=30*1e3,mB=1.3,yB=3e4,vB="server_kill",vI=3,u_=(()=>{class t extends fh{constructor(n,i,r,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vl,this.maxReconnectDelay_=gB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&gh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(Ke(o)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();let i=new it,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(n,i,r,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);let o={p:r},a="q";n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Zt(n,"w")){let r=ki(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||d0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=u0(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);let o={p:n},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){let o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();let a={p:i,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ke(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):iv("Unrecognized action received from server: "+Ke(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yB&&(this.reconnectDelay_=vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mB)}this.onConnectStatus_(!1)}establishConnection_(){return Qt(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new uv(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Ct(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(vB)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ct(h),c())}}})}interrupt(n){ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],bc(this.interruptReasons_)&&(this.reconnectDelay_=vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(o=>o_(o)).join("$"):r="default";let s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){let r=new de(n).toString(),s;if(this.listens.has(r)){let o=this.listens.get(r);s=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){ot("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vI&&(this.reconnectDelay_=yI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){ot("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Pn()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+r_.replace(/\./g,"-")]=1,qf()?n["framework.cordova"]=1:a0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=gh.getInstance().currentlyOnline();return bc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),te=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Oo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new te(ur,e),r=new te(ur,n);return this.compare(i,r)!==0}minPost(){return te.MIN}};var ch,mh=class extends Oo{static get __EMPTY_NODE(){return ch}static set __EMPTY_NODE(e){ch=e}compare(e,n){return ds(e.name,n.name)}isDefinedOn(e){throw Is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return te.MIN}maxPost(){return new te(xi,ch)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,ch)}toString(){return".key"}},qn=new mh;var Ro=class{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Sn=(()=>{class t{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??un.EMPTY_NODE,this.right=o??un.EMPTY_NODE}copy(n,i,r,s,o){return new t(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this,o=r(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,i,r),null):o===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return un.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return un.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),fv=class{copy(e,n,i,r,s){return this}insert(e,n,i){return new Sn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},un=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ro(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ro(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ro(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ro(this.root_,null,this.comparator_,!0,e)}};un.EMPTY_NODE=new fv;function _B(t,e){return ds(t.name,e.name)}function d_(t,e){return ds(t,e)}var pv;function bB(t){pv=t}var oS=function(t){return typeof t=="number"?"number:"+UI(t):"string:"+t},aS=function(t){if(t.isLeafNode()){let e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zt(e,".sv"),"Priority must be a string or number.")}else S(t===pv||t.isEmpty(),"priority of unexpected type.");S(t===pv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var _I,Fo=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aS(this.priorityNode_)}static set __childrenNodeConstructor(n){_I=n}static get __childrenNodeConstructor(){return _I}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return J(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=X(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||dr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+oS(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=UI(this.value_):n+=this.value_,this.lazyHash_=VI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(S(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(r);return S(s>=0,"Unknown leaf type: "+i),S(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),lS,cS;function CB(t){lS=t}function wB(t){cS=t}var gv=class extends Oo{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?ds(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(xi,new Fo("[PRIORITY-POST]",cS))}makePost(e,n){let i=lS(e);return new te(n,new Fo("[PRIORITY-POST]",i))}toString(){return".priority"}},Me=new gv;var DB=Math.log(2),mv=class{constructor(e){let n=s=>parseInt(Math.log(s)/DB,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},yh=function(t,e,n,i){t.sort(e);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Sn(h,d.node,Sn.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new Sn(h,d.node,Sn.BLACK,p,g)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,g){let m=d-p,y=d;d-=p;let v=r(m+1,y),_=t[m],C=n?n(_):_;f(new Sn(C,_.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,Sn.BLACK):(h(m,Sn.BLACK),h(m,Sn.RED))}return u},o=new mv(t.length),a=s(o);return new un(i||e,a)};var Qy,Po={},Lo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(Po&&Me,"ChildrenNode.ts has not been loaded"),Qy=Qy||new t({".priority":Po},{".priority":Me}),Qy}get(e){let n=ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof un?n:null}hasIndex(e){return Zt(this.indexSet_,e.toString())}addIndex(e,n){S(e!==qn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=n.getIterator(te.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=yh(i,e.getCompare()):a=Po;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let i=ua(this.indexes_,(r,s)=>{let o=ki(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),r===Po)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(te.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),yh(a,o.getCompare())}else return Po;else{let a=n.get(e.name),l=r;return a&&(l=l.remove(new te(e.name,a))),l.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=ua(this.indexes_,r=>{if(r===Po)return r;{let s=n.get(e.name);return s?r.remove(new te(e.name,s)):r}});return new t(i,this.indexSet_)}};var _l,z=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&aS(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _l||(_l=new t(new un(d_),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_l}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?_l:i}}getChild(n){let i=X(n);return i===null?this:this.getImmediateChild(i).getChild(Ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(S(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new te(n,i),s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));let a=s.isEmpty()?_l:this.priorityNode_;return new t(s,a,o)}}updateChild(n,i){let r=X(n);if(r===null)return i;{S(X(n)!==".priority"||dr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(r).updateChild(Ee(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,s=0,o=!0;if(this.forEachChild(Me,(a,l)=>{i[a]=l.val(n),r++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+oS(this.getPriority().val())+":"),this.forEachChild(Me,(i,r)=>{let s=r.hash();s!==""&&(n+=":"+i+":"+s)}),this.lazyHash_=n===""?"":VI(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let s=this.resolveIndex_(r);if(s){let o=s.getPredecessorKey(new te(n,i));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new te(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new te(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===$l?-1:0}withIndex(n){if(n===qn||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===qn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(Me),s=i.getIterator(Me),o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===qn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),yv=class extends z{constructor(){super(new un(d_),z.EMPTY_NODE,Lo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}},$l=new yv;Object.defineProperties(te,{MIN:{value:new te(ur,z.EMPTY_NODE)},MAX:{value:new te(xi,$l)}});mh.__EMPTY_NODE=z.EMPTY_NODE;Fo.__childrenNodeConstructor=z;bB($l);wB($l);var EB=!0;function Ve(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Fo(n,Ve(e))}if(!(t instanceof Array)&&EB){let n=[],i=!1;if(at(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Ve(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new te(o,l)))}}),n.length===0)return z.EMPTY_NODE;let s=yh(n,_B,o=>o.name,d_);if(i){let o=yh(n,Me.getCompare());return new z(s,Ve(e),new Lo({".priority":o},{".priority":Me}))}else return new z(s,Ve(e),Lo.Default)}else{let n=z.EMPTY_NODE;return at(t,(i,r)=>{if(Zt(t,i)&&i.substring(0,1)!=="."){let s=Ve(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Ve(e))}}CB(Ve);var Ml=class extends Oo{constructor(e){super(),this.indexPath_=e,S(!J(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?ds(e.name,n.name):s}makePost(e,n){let i=Ve(e),r=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new te(n,r)}maxPost(){let e=z.EMPTY_NODE.updateChild(this.indexPath_,$l);return new te(xi,e)}toString(){return Sl(this.indexPath_,0).join("/")}};var vv=class extends Oo{compare(e,n){let i=e.node.compareTo(n.node);return i===0?ds(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,n){let i=Ve(e);return new te(n,i)}toString(){return".value"}},h_=new vv;function uS(t){return{type:"value",snapshotNode:t}}function Vo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Tl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Al(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Pl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Tl(n,a)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Vo(n,i)):o.trackChildChange(Al(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Me,(r,s)=>{n.hasChild(r)||i.trackChildChange(Tl(r,s))}),n.isLeafNode()||n.forEachChild(Me,(r,s)=>{if(e.hasChild(r)){let o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Al(r,s,o))}else i.trackChildChange(Vo(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var vh=class t{constructor(e){this.indexedFilter_=new Pl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new te(n,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=z.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(z.EMPTY_NODE);let s=this;return n.forEachChild(Me,(o,a)=>{s.matches(new te(o,a))||(r=r.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var _v=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new vh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new te(n,i))||(i=z.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;S(a.numChildren()===this.limit_,"");let l=new te(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return s?.trackChildChange(Al(n,i,d)),a.updateImmediateChild(n,i);{s?.trackChildChange(Tl(n,d));let g=a.updateImmediateChild(n,z.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Vo(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Tl(c.name,c.node)),s.trackChildChange(Vo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,z.EMPTY_NODE)):e}};var Nl=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function IB(t){return t.loadsAllData()?new Pl(t.getIndex()):t.hasLimit()?new _v(t):new vh(t)}function SB(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function MB(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function bv(t,e,n){let i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function TB(t,e,n){let i;return t.index_===qn||n?i=bv(t,e,n):i=bv(t,e,xi),i.startAfterSet_=!0,i}function Cv(t,e,n){let i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function AB(t,e,n){let i;return t.index_===qn||n?i=Cv(t,e,n):i=Cv(t,e,ur),i.endBeforeSet_=!0,i}function Lh(t,e){let n=t.copy();return n.index_=e,n}function bI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===h_?n="$value":t.index_===qn?n="$key":(S(t.index_ instanceof Ml,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ke(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function CI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}var wv=class t extends fh{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ul("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,i),a={};this.listens_[o]=a;let l=bI(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),ki(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=bI(e._queryParams),i=e._path.toString(),r=new it;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+h0(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_c(a.responseText)}catch{Ct("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ct("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}};var Dv=class{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function _h(){return{value:null,children:new Map}}function zo(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=X(e);t.children.has(i)||t.children.set(i,_h());let r=t.children.get(i);e=Ee(e),zo(r,e,n)}}function Ev(t,e){if(J(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Me,(i,r)=>{zo(t,new de(i),r)}),Ev(t,e)}}else if(t.children.size>0){let n=X(e);return e=Ee(e),t.children.has(n)&&Ev(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function xv(t,e,n){t.value!==null?n(e,t.value):PB(t,(i,r)=>{let s=new de(e.toString()+"/"+i);xv(r,s,n)})}function PB(t,e){t.children.forEach((n,i)=>{e(i,n)})}var Iv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var wI=10*1e3,NB=30*1e3,RB=5*60*1e3,Sv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Iv(e);let i=wI+(NB-wI)*Math.random();Cl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;at(e,(r,s)=>{s>0&&Zt(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*RB))}};var Gn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Gn||{});function f_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function p_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function g_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Mv=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Gn.ACK_USER_WRITE,this.source=f_()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new de(e));return new t(ue(),n,this.revert)}}else return S(X(this.path)===e,"operationForChild called for unrelated child."),new t(Ee(this.path),this.affectedTree,this.revert)}};var bh=class t{constructor(e,n){this.source=e,this.path=n,this.type=Gn.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new t(this.source,ue()):new t(this.source,Ee(this.path))}};var jo=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Gn.OVERWRITE}operationForChild(e){return J(this.path)?new t(this.source,ue(),this.snap.getImmediateChild(e)):new t(this.source,Ee(this.path),this.snap)}};var Rl=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Gn.MERGE}operationForChild(e){if(J(this.path)){let n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new jo(this.source,ue(),n.value):new t(this.source,ue(),n)}else return S(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kn=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Tv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function kB(t,e,n,i){let r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xB(o.childName,o.snapshotNode))}),bl(t,r,"child_removed",e,i,n),bl(t,r,"child_added",e,i,n),bl(t,r,"child_moved",s,i,n),bl(t,r,"child_changed",e,i,n),bl(t,r,"value",e,i,n),r}function bl(t,e,n,i,r,s){let o=i.filter(a=>a.type===n);o.sort((a,l)=>FB(t,a,l)),o.forEach(a=>{let l=OB(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function OB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FB(t,e,n){if(e.childName==null||n.childName==null)throw Is("Should only compare child_ events.");let i=new te(e.childName,e.snapshotNode),r=new te(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function Vh(t,e){return{eventCache:t,serverCache:e}}function Dl(t,e,n,i){return Vh(new Kn(e,n,i),t.serverCache)}function dS(t,e,n,i){return Vh(t.eventCache,new Kn(e,n,i))}function Ch(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function us(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Zy,LB=()=>(Zy||(Zy=new un(O2)),Zy),Pt=class t{constructor(e,n=LB()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return at(e,(i,r)=>{n=n.set(new de(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(J(e))return null;{let i=X(e),r=this.children.get(i);if(r!==null){let s=r.findRootMostMatchingPathAndValue(Ee(e),n);return s!=null?{path:Oe(new de(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{let n=X(e),i=this.children.get(n);return i!==null?i.subtree(Ee(e)):new t(null)}}set(e,n){if(J(e))return new t(n,this.children);{let i=X(e),s=(this.children.get(i)||new t(null)).set(Ee(e),n),o=this.children.insert(i,s);return new t(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),i=this.children.get(n);if(i){let r=i.remove(Ee(e)),s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(J(e))return this.value;{let n=X(e),i=this.children.get(n);return i?i.get(Ee(e)):null}}setTree(e,n){if(J(e))return n;{let i=X(e),s=(this.children.get(i)||new t(null)).setTree(Ee(e),n),o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new t(this.value,o)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Oe(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(J(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(Ee(e),Oe(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,i){if(J(e))return this;{this.value&&i(n,this.value);let r=X(e),s=this.children.get(r);return s?s.foreachOnPath_(Ee(e),Oe(n,r),i):new t(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Oe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var Mn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Pt(null))}};function El(t,e,n){if(J(e))return new Mn(new Pt(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,s=i.value,o=At(r,e);return s=s.updateChild(o,n),new Mn(t.writeTree_.set(r,s))}else{let r=new Pt(n),s=t.writeTree_.setTree(e,r);return new Mn(s)}}}function Av(t,e,n){let i=t;return at(n,(r,s)=>{i=El(i,Oe(e,r),s)}),i}function DI(t,e){if(J(e))return Mn.empty();{let n=t.writeTree_.setTree(e,new Pt(null));return new Mn(n)}}function Pv(t,e){return hs(t,e)!=null}function hs(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function EI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(i,r)=>{e.push(new te(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new te(i,r.value))}),e}function lr(t,e){if(J(e))return t;{let n=hs(t,e);return n!=null?new Mn(new Pt(n)):new Mn(t.writeTree_.subtree(e))}}function Nv(t){return t.writeTree_.isEmpty()}function Bo(t,e){return hS(ue(),t.writeTree_,e)}function hS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=hS(Oe(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Oe(t,".priority"),i)),n}}function jh(t,e){return mS(e,t)}function VB(t,e,n,i,r){S(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=El(t.visibleWrites,e,n)),t.lastWriteId=i}function jB(t,e,n,i){S(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Av(t.visibleWrites,e,n),t.lastWriteId=i}function BB(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function UB(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&$B(a,i.path)?r=!1:cn(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return HB(t),!0;if(i.snap)t.visibleWrites=DI(t.visibleWrites,i.path);else{let a=i.children;at(a,l=>{t.visibleWrites=DI(t.visibleWrites,Oe(i.path,l))})}return!0}else return!1}function $B(t,e){if(t.snap)return cn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&cn(Oe(t.path,n),e))return!0;return!1}function HB(t){t.visibleWrites=fS(t.allWrites,zB,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zB(t){return t.visible}function fS(t,e,n){let i=Mn.empty();for(let r=0;r<t.length;++r){let s=t[r];if(e(s)){let o=s.path,a;if(s.snap)cn(n,o)?(a=At(n,o),i=El(i,a,s.snap)):cn(o,n)&&(a=At(o,n),i=El(i,ue(),s.snap.getChild(a)));else if(s.children){if(cn(n,o))a=At(n,o),i=Av(i,a,s.children);else if(cn(o,n))if(a=At(o,n),J(a))i=Av(i,ue(),s.children);else{let l=ki(s.children,X(a));if(l){let c=l.getChild(Ee(a));i=El(i,ue(),c)}}}else throw Is("WriteRecord should have .snap or .children")}}return i}function pS(t,e,n,i,r){if(!i&&!r){let s=hs(t.visibleWrites,e);if(s!=null)return s;{let o=lr(t.visibleWrites,e);if(Nv(o))return n;if(n==null&&!Pv(o,ue()))return null;{let a=n||z.EMPTY_NODE;return Bo(o,a)}}}else{let s=lr(t.visibleWrites,e);if(!r&&Nv(s))return n;if(!r&&n==null&&!Pv(s,ue()))return null;{let o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(cn(c.path,e)||cn(e,c.path))},a=fS(t.allWrites,o,e),l=n||z.EMPTY_NODE;return Bo(a,l)}}}function WB(t,e,n){let i=z.EMPTY_NODE,r=hs(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Me,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){let s=lr(t.visibleWrites,e);return n.forEachChild(Me,(o,a)=>{let l=Bo(lr(s,new de(o)),a);i=i.updateImmediateChild(o,l)}),EI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{let s=lr(t.visibleWrites,e);return EI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function GB(t,e,n,i,r){S(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=Oe(e,n);if(Pv(t.visibleWrites,s))return null;{let o=lr(t.visibleWrites,s);return Nv(o)?r.getChild(n):Bo(o,r.getChild(n))}}function qB(t,e,n,i){let r=Oe(e,n),s=hs(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){let o=lr(t.visibleWrites,r);return Bo(o,i.getNode().getImmediateChild(n))}else return null}function YB(t,e){return hs(t.visibleWrites,e)}function KB(t,e,n,i,r,s,o){let a,l=lr(t.visibleWrites,e),c=hs(l,ue());if(c!=null)a=c;else if(n!=null)a=Bo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function QB(){return{visibleWrites:Mn.empty(),allWrites:[],lastWriteId:-1}}function wh(t,e,n,i){return pS(t.writeTree,t.treePath,e,n,i)}function m_(t,e){return WB(t.writeTree,t.treePath,e)}function xI(t,e,n,i){return GB(t.writeTree,t.treePath,e,n,i)}function Dh(t,e){return YB(t.writeTree,Oe(t.treePath,e))}function ZB(t,e,n,i,r,s){return KB(t.writeTree,t.treePath,e,n,i,r,s)}function y_(t,e,n){return qB(t.writeTree,t.treePath,e,n)}function gS(t,e){return mS(Oe(t.treePath,e),t.writeTree)}function mS(t,e){return{treePath:t,writeTree:e}}var Rv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Al(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Tl(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Vo(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Al(i,e.snapshotNode,r.oldSnap));else throw Is("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var kv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},yS=new kv,kl=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new Kn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return y_(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:us(this.viewCache_),s=ZB(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}};function XB(t){return{filter:t}}function JB(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function eU(t,e,n,i,r){let s=new Rv,o,a;if(n.type===Gn.OVERWRITE){let c=n;c.source.fromUser?o=Ov(t,e,c.path,c.snap,i,r,s):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=Eh(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Gn.MERGE){let c=n;c.source.fromUser?o=nU(t,e,c.path,c.children,i,r,s):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Fv(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Gn.ACK_USER_WRITE){let c=n;c.revert?o=sU(t,e,c.path,i,r,s):o=iU(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Gn.LISTEN_COMPLETE)o=rU(t,e,n.path,i,s);else throw Is("Unknown operation type: "+n.type);let l=s.getChanges();return tU(e,o,l),{viewCache:o,changes:l}}function tU(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Ch(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(uS(Ch(e)))}}function vS(t,e,n,i,r,s){let o=e.eventCache;if(Dh(i,n)!=null)return e;{let a,l;if(J(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=us(e),u=c instanceof z?c:z.EMPTY_NODE,d=m_(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=wh(i,us(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=X(n);if(c===".priority"){S(dr(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=xI(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=Ee(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=xI(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=y_(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return Dl(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Eh(t,e,n,i,r,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=X(n);if(!l.isCompleteForPath(n)&&dr(n)>1)return e;let p=Ee(n),m=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),m):c=u.updateChild(l.getNode(),f,m,p,yS,null)}let d=dS(e,c,l.isFullyInitialized()||J(n),u.filtersNodes()),h=new kl(r,d,s);return vS(t,d,n,r,h,a)}function Ov(t,e,n,i,r,s,o){let a=e.eventCache,l,c,u=new kl(r,e,s);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Dl(e,c,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Dl(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=Ee(n),f=a.getNode().getImmediateChild(d),p;if(J(h))p=i;else{let g=u.getCompleteChild(d);g!=null?l_(h)===".priority"&&g.getChild(rS(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=z.EMPTY_NODE}if(f.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Dl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function II(t,e){return t.eventCache.isCompleteForChild(e)}function nU(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{let u=Oe(n,l);II(e,X(u))&&(a=Ov(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{let u=Oe(n,l);II(e,X(u))||(a=Ov(t,a,u,c,r,s,o))}),a}function SI(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Fv(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;J(n)?c=i:c=new Pt(null).setTree(n,i);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=SI(t,f,h);l=Eh(t,l,new de(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),g=SI(t,p,h);l=Eh(t,l,new de(d),g,r,s,o,a)}}),l}function iU(t,e,n,i,r,s,o){if(Dh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Eh(t,e,n,l.getNode().getChild(n),r,s,a,o);if(J(n)){let c=new Pt(null);return l.getNode().forEachChild(qn,(u,d)=>{c=c.set(new de(u),d)}),Fv(t,e,n,c,r,s,a,o)}else return e}else{let c=new Pt(null);return i.foreach((u,d)=>{let h=Oe(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Fv(t,e,n,c,r,s,a,o)}}function rU(t,e,n,i,r){let s=e.serverCache,o=dS(e,s.getNode(),s.isFullyInitialized()||J(n),s.isFiltered());return vS(t,o,n,i,yS,r)}function sU(t,e,n,i,r,s){let o;if(Dh(i,n)!=null)return e;{let a=new kl(i,e,r),l=e.eventCache.getNode(),c;if(J(n)||X(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=wh(i,us(e));else{let d=e.serverCache.getNode();S(d instanceof z,"serverChildren would be complete if leaf node"),u=m_(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=X(n),d=y_(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ee(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,z.EMPTY_NODE,Ee(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wh(i,us(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Dh(i,ue())!=null,Dl(e,c,o,t.filter.filtersNodes())}}var Lv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Pl(i.getIndex()),s=IB(i);this.processor_=XB(s);let o=n.serverCache,a=n.eventCache,l=r.updateFullNode(z.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,a.getNode(),null),u=new Kn(l,o.isFullyInitialized(),r.filtersNodes()),d=new Kn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vh(d,u),this.eventGenerator_=new Tv(this.query_)}get query(){return this.query_}};function oU(t){return t.viewCache_.serverCache.getNode()}function aU(t){return Ch(t.viewCache_)}function lU(t,e){let n=us(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function MI(t){return t.eventRegistrations_.length===0}function cU(t,e){t.eventRegistrations_.push(e)}function TI(t,e,n){let i=[];if(n){S(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function AI(t,e,n,i){e.type===Gn.MERGE&&e.source.queryId!==null&&(S(us(t.viewCache_),"We should always have a full cache before handling merges"),S(Ch(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,s=eU(t.processor_,r,e,n,i);return JB(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_S(t,s.changes,s.viewCache.eventCache.getNode(),null)}function uU(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(s,o)=>{i.push(Vo(s,o))}),n.isFullyInitialized()&&i.push(uS(n.getNode())),_S(t,i,n.getNode(),e)}function _S(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return kB(t.eventGenerator_,e,n,r)}var xh,Ih=class{constructor(){this.views=new Map}};function dU(t){S(!xh,"__referenceConstructor has already been defined"),xh=t}function hU(){return S(xh,"Reference.ts has not been loaded"),xh}function fU(t){return t.views.size===0}function v_(t,e,n,i){let r=e.source.queryId;if(r!==null){let s=t.views.get(r);return S(s!=null,"SyncTree gave us an op for an invalid query."),AI(s,e,n,i)}else{let s=[];for(let o of t.views.values())s=s.concat(AI(o,e,n,i));return s}}function bS(t,e,n,i,r){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=wh(n,r?i:null),l=!1;a?l=!0:i instanceof z?(a=m_(n,i),l=!1):(a=z.EMPTY_NODE,l=!1);let c=Vh(new Kn(a,l,!1),new Kn(i,r,!1));return new Lv(e,c)}return o}function pU(t,e,n,i,r,s){let o=bS(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),cU(o,n),uU(o,n)}function gU(t,e,n,i){let r=e._queryIdentifier,s=[],o=[],a=hr(t);if(r==="default")for(let[l,c]of t.views.entries())o=o.concat(TI(c,n,i)),MI(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(r);l&&(o=o.concat(TI(l,n,i)),MI(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!hr(t)&&s.push(new(hU())(e._repo,e._path)),{removed:s,events:o}}function CS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function cr(t,e){let n=null;for(let i of t.views.values())n=n||lU(i,e);return n}function wS(t,e){if(e._queryParams.loadsAllData())return Bh(t);{let i=e._queryIdentifier;return t.views.get(i)}}function DS(t,e){return wS(t,e)!=null}function hr(t){return Bh(t)!=null}function Bh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Sh;function mU(t){S(!Sh,"__referenceConstructor has already been defined"),Sh=t}function yU(){return S(Sh,"Reference.ts has not been loaded"),Sh}var vU=1,Mh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=QB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function __(t,e,n,i,r){return VB(t.pendingWriteTree_,e,n,i,r),r?Wo(t,new jo(f_(),e,n)):[]}function _U(t,e,n,i){jB(t.pendingWriteTree_,e,n,i);let r=Pt.fromObject(n);return Wo(t,new Rl(f_(),e,r))}function ar(t,e,n=!1){let i=BB(t.pendingWriteTree_,e);if(UB(t.pendingWriteTree_,e)){let s=new Pt(null);return i.snap!=null?s=s.set(ue(),!0):at(i.children,o=>{s=s.set(new de(o),!0)}),Wo(t,new Mv(i.path,s,n))}else return[]}function Hl(t,e,n){return Wo(t,new jo(p_(),e,n))}function bU(t,e,n){let i=Pt.fromObject(n);return Wo(t,new Rl(p_(),e,i))}function CU(t,e){return Wo(t,new bh(p_(),e))}function wU(t,e,n){let i=b_(t,n);if(i){let r=C_(i),s=r.path,o=r.queryId,a=At(s,e),l=new bh(g_(o),a);return w_(t,s,l)}else return[]}function Th(t,e,n,i,r=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||DS(o,e))){let l=gU(o,e,n,i);fU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>hr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=xU(h);for(let p=0;p<f.length;++p){let g=f[p],m=g.query,y=SS(t,g);t.listenProvider_.startListening(xl(m),Ol(t,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(xl(e),null):c.forEach(h=>{let f=t.queryToTagMap.get($h(h));t.listenProvider_.stopListening(xl(h),f)}))}IU(t,c)}return a}function ES(t,e,n,i){let r=b_(t,i);if(r!=null){let s=C_(r),o=s.path,a=s.queryId,l=At(o,e),c=new jo(g_(a),l,n);return w_(t,o,c)}else return[]}function DU(t,e,n,i){let r=b_(t,i);if(r){let s=C_(r),o=s.path,a=s.queryId,l=At(o,e),c=Pt.fromObject(n),u=new Rl(g_(a),l,c);return w_(t,o,u)}else return[]}function Vv(t,e,n,i=!1){let r=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=At(h,r);s=s||cr(f,p),o=o||hr(f)});let a=t.syncPointTree_.get(r);a?(o=o||hr(a),s=s||cr(a,ue())):(a=new Ih,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{let g=cr(p,ue());g&&(s=s.updateImmediateChild(f,g))}));let c=DS(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=$h(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=SU();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=jh(t.pendingWriteTree_,r),d=pU(a,e,n,u,s,l);if(!c&&!o&&!i){let h=wS(a,e);d=d.concat(MU(t,e,h))}return d}function Uh(t,e,n){let r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=At(o,e),c=cr(a,l);if(c)return c});return pS(r,e,s,n,!0)}function EU(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=At(c,n);i=i||cr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||cr(r,ue()):(r=new Ih,t.syncPointTree_=t.syncPointTree_.set(n,r));let s=i!=null,o=s?new Kn(i,!0,!1):null,a=jh(t.pendingWriteTree_,e._path),l=bS(r,e,a,s?o.getNode():z.EMPTY_NODE,s);return aU(l)}function Wo(t,e){return xS(e,t.syncPointTree_,null,jh(t.pendingWriteTree_,ue()))}function xS(t,e,n,i){if(J(t.path))return IS(t,e,n,i);{let r=e.get(ue());n==null&&r!=null&&(n=cr(r,ue()));let s=[],o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=gS(i,o);s=s.concat(xS(a,l,c,u))}return r&&(s=s.concat(v_(r,t,i,n))),s}}function IS(t,e,n,i){let r=e.get(ue());n==null&&r!=null&&(n=cr(r,ue()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=gS(i,o),u=t.operationForChild(o);u&&(s=s.concat(IS(u,a,l,c)))}),r&&(s=s.concat(v_(r,t,i,n))),s}function SS(t,e){let n=e.query,i=Ol(t,n);return{hashFn:()=>(oU(e)||z.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?wU(t,n._path,i):CU(t,n._path);{let s=V2(r,n);return Th(t,n,null,s)}}}}function Ol(t,e){let n=$h(e);return t.queryToTagMap.get(n)}function $h(t){return t._path.toString()+"$"+t._queryIdentifier}function b_(t,e){return t.tagToQueryMap.get(e)}function C_(t){let e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function w_(t,e,n){let i=t.syncPointTree_.get(e);S(i,"Missing sync point for query tag that we're tracking");let r=jh(t.pendingWriteTree_,e);return v_(i,n,r,null)}function xU(t){return t.fold((e,n,i)=>{if(n&&hr(n))return[Bh(n)];{let r=[];return n&&(r=CS(n)),at(i,(s,o)=>{r=r.concat(o)}),r}})}function xl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yU())(t._repo,t._path):t}function IU(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=$h(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function SU(){return vU++}function MU(t,e,n){let i=e._path,r=Ol(t,e),s=SS(t,n),o=t.listenProvider_.startListening(xl(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)S(!hr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!J(c)&&u&&hr(u))return[Bh(u).query];{let h=[];return u&&(h=h.concat(CS(u).map(f=>f.query))),at(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(xl(u),Ol(t,u))}}return o}var jv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Bv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Oe(this.path_,e);return new t(this.syncTree_,n)}node(){return Uh(this.syncTree_,this.path_)}},TU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},PI=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return AU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return PU(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},AU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},PU=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&S(!1,"Unexpected increment value: "+i);let r=e.node();if(S(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let o=r.getValue();return typeof o!="number"?i:o+i},MS=function(t,e,n,i){return E_(e,new Bv(n,t),i)},D_=function(t,e,n){return E_(t,new jv(e),n)};function E_(t,e,n){let i=t.getPriority().val(),r=PI(i,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=PI(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Fo(a,Ve(r)):t}else{let o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Fo(r))),o.forEachChild(Me,(a,l)=>{let c=E_(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Fl=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function Hh(t,e){let n=e instanceof de?e:new de(e),i=t,r=X(n);for(;r!==null;){let s=ki(i.node.children,r)||{children:{},childCount:0};i=new Fl(r,i,s),n=Ee(n),r=X(n)}return i}function fs(t){return t.node.value}function x_(t,e){t.node.value=e,Uv(t)}function TS(t){return t.node.childCount>0}function NU(t){return fs(t)===void 0&&!TS(t)}function zh(t,e){at(t.node.children,(n,i)=>{e(new Fl(n,t,i))})}function AS(t,e,n,i){n&&!i&&e(t),zh(t,r=>{AS(r,e,!0,i)}),n&&i&&e(t)}function RU(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function zl(t){return new de(t.parent===null?t.name:zl(t.parent)+"/"+t.name)}function Uv(t){t.parent!==null&&kU(t.parent,t.name,t)}function kU(t,e,n){let i=NU(n),r=Zt(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Uv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Uv(t))}var OU=/[\[\].#$\/\u0000-\u001F\u007F]/,FU=/[\[\].#$\u0000-\u001F\u007F]/,Xy=10*1024*1024,Wh=function(t){return typeof t=="string"&&t.length!==0&&!OU.test(t)},PS=function(t){return typeof t=="string"&&t.length!==0&&!FU.test(t)},LU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PS(t)},Ll=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Fh(t)||t&&typeof t=="object"&&Zt(t,".sv")},Qn=function(t,e,n,i){i&&e===void 0||Wl(Rt(t,"value"),e,n)},Wl=function(t,e,n){let i=n instanceof de?new dv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+as(i));if(typeof e=="function")throw new Error(t+"contains a function "+as(i)+" with contents = "+e.toString());if(Fh(e))throw new Error(t+"contains "+e.toString()+" "+as(i));if(typeof e=="string"&&e.length>Xy/3&&da(e)>Xy)throw new Error(t+"contains a string greater than "+Xy+" utf8 bytes "+as(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(at(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Wh(o)))throw new Error(t+" contains an invalid key ("+o+") "+as(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fB(i,o),Wl(t,a,i),pB(i)}),r&&s)throw new Error(t+' contains ".value" child '+as(i)+" in addition to actual children.")}},VU=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let s=Sl(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Wh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(hB);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&cn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},NS=function(t,e,n,i){if(i&&e===void 0)return;let r=Rt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let s=[];at(e,(o,a)=>{let l=new de(o);if(Wl(r,a,Oe(n,l)),l_(l)===".priority"&&!Ll(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),VU(r,s)},I_=function(t,e,n){if(!(n&&e===void 0)){if(Fh(e))throw new Error(Rt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ll(e))throw new Error(Rt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Gl=function(t,e,n,i){if(!(i&&n===void 0)&&!Wh(n))throw new Error(Rt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Go=function(t,e,n,i){if(!(i&&n===void 0)&&!PS(n))throw new Error(Rt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Go(t,e,n,i)},Gt=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RS=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LU(n))throw new Error(Rt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var $v=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Gh(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],s=r.getPath();n!==null&&!c_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function kS(t,e,n){Gh(t,n),OS(t,i=>c_(i,e))}function qt(t,e,n){Gh(t,n),OS(t,i=>cn(i,e)||cn(e,i))}function OS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let s=r.path;e(s)?(BU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function BU(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();cs&&ot("event: "+n.toString()),Ho(i)}}}var FS="repo_interrupt",UU=25,Hv=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $v,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_h(),this.transactionQueueTree_=new Fl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function $U(t,e,n){if(t.stats_=a_(t.repoInfo_),t.forceRestClient_||$2())t.server_=new wv(t.repoInfo_,(i,r,s,o)=>{NI(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new u_(t.repoInfo_,e,(i,r,s,o)=>{NI(t,i,r,s,o)},i=>{RI(t,i)},i=>{HU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=z2(t.repoInfo_,()=>new Sv(t.stats_,t.server_)),t.infoData_=new Dv,t.infoSyncTree_=new Mh({startListening:(i,r,s,o)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Hl(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),S_(t,"connected",!1),t.serverSyncTree_=new Mh({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{let c=o(a,l);qt(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function LS(t){let n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ql(t){return TU({timestamp:LS(t)})}function NI(t,e,n,i,r){t.dataUpdateCount++;let s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){let l=ua(n,c=>Ve(c));o=DU(t.serverSyncTree_,s,l,r)}else{let l=Ve(n);o=ES(t.serverSyncTree_,s,l,r)}else if(i){let l=ua(n,c=>Ve(c));o=bU(t.serverSyncTree_,s,l)}else{let l=Ve(n);o=Hl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Uo(t,s)),qt(t.eventQueue_,a,o)}function RI(t,e){S_(t,"connected",e),e===!1&&GU(t)}function HU(t,e){at(e,(n,i)=>{S_(t,n,i)})}function S_(t,e,n){let i=new de("/.info/"+e),r=Ve(n);t.infoData_.updateSnapshot(i,r);let s=Hl(t.infoSyncTree_,i,r);qt(t.eventQueue_,i,s)}function qh(t){return t.nextWriteId_++}function zU(t,e,n){let i=EU(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let s=Ve(r).withIndex(e._queryParams.getIndex());Vv(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Hl(t.serverSyncTree_,e._path,s);else{let a=Ol(t.serverSyncTree_,e);o=ES(t.serverSyncTree_,e._path,s,a)}return qt(t.eventQueue_,e._path,o),Th(t.serverSyncTree_,e,n,null,!0),s},r=>(qo(t,"get for query "+Ke(e)+" failed: "+r),Promise.reject(new Error(r))))}function M_(t,e,n,i,r){qo(t,"set",{path:e.toString(),value:n,priority:i});let s=ql(t),o=Ve(n,i),a=Uh(t.serverSyncTree_,e),l=D_(o,a,s),c=qh(t),u=__(t.serverSyncTree_,e,l,c,!0);Gh(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||Ct("set at "+e+" failed: "+h);let g=ar(t.serverSyncTree_,c,!p);qt(t.eventQueue_,e,g),fr(t,r,h,f)});let d=A_(t,e);Uo(t,d),qt(t.eventQueue_,d,[])}function WU(t,e,n,i){qo(t,"update",{path:e.toString(),value:n});let r=!0,s=ql(t),o={};if(at(n,(a,l)=>{r=!1,o[a]=MS(Oe(e,a),Ve(l),t.serverSyncTree_,s)}),r)ot("update() called with empty data.  Don't do anything."),fr(t,i,"ok",void 0);else{let a=qh(t),l=_U(t.serverSyncTree_,e,o,a);Gh(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Ct("update at "+e+" failed: "+c);let h=ar(t.serverSyncTree_,a,!d),f=h.length>0?Uo(t,e):e;qt(t.eventQueue_,f,h),fr(t,i,c,u)}),at(n,c=>{let u=A_(t,Oe(e,c));Uo(t,u)}),qt(t.eventQueue_,e,[])}}function GU(t){qo(t,"onDisconnectEvents");let e=ql(t),n=_h();xv(t.onDisconnect_,ue(),(r,s)=>{let o=MS(r,s,t.serverSyncTree_,e);zo(n,r,o)});let i=[];xv(n,ue(),(r,s)=>{i=i.concat(Hl(t.serverSyncTree_,r,s));let o=A_(t,r);Uo(t,o)}),t.onDisconnect_=_h(),qt(t.eventQueue_,ue(),i)}function qU(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&Ev(t.onDisconnect_,e),fr(t,n,i,r)})}function kI(t,e,n,i){let r=Ve(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(s,o)=>{s==="ok"&&zo(t.onDisconnect_,e,r),fr(t,i,s,o)})}function YU(t,e,n,i,r){let s=Ve(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&zo(t.onDisconnect_,e,s),fr(t,r,o,a)})}function KU(t,e,n,i){if(bc(n)){ot("onDisconnect().update() called with empty data.  Don't do anything."),fr(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{r==="ok"&&at(n,(o,a)=>{let l=Ve(a);zo(t.onDisconnect_,Oe(e,o),l)}),fr(t,i,r,s)})}function QU(t,e,n){let i;X(e._path)===".info"?i=Vv(t.infoSyncTree_,e,n):i=Vv(t.serverSyncTree_,e,n),kS(t.eventQueue_,e._path,i)}function zv(t,e,n){let i;X(e._path)===".info"?i=Th(t.infoSyncTree_,e,n):i=Th(t.serverSyncTree_,e,n),kS(t.eventQueue_,e._path,i)}function VS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FS)}function ZU(t){t.persistentConnection_&&t.persistentConnection_.resume(FS)}function qo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function fr(t,e,n,i){e&&Ho(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),s=r;i&&(s+=": "+i);let o=new Error(s);o.code=r,e(o)}})}function XU(t,e,n,i,r,s){qo(t,"transaction on "+e);let o={path:e,update:n,onComplete:i,status:null,order:LI(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=T_(t,e,void 0);o.currentInputSnapshot=a;let l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Wl("transaction failed: Data returned ",l,o.path),o.status=0;let c=Hh(t.transactionQueueTree_,e),u=fs(c)||[];u.push(o),x_(c,u);let d;typeof l=="object"&&l!==null&&Zt(l,".priority")?(d=ki(l,".priority"),S(Ll(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Uh(t.serverSyncTree_,e)||z.EMPTY_NODE).getPriority().val();let h=ql(t),f=Ve(l,d),p=D_(f,a,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=p,o.currentWriteId=qh(t);let g=__(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);qt(t.eventQueue_,e,g),Yh(t,t.transactionQueueTree_)}}function T_(t,e,n){return Uh(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Yh(t,e=t.transactionQueueTree_){if(e||Kh(t,e),fs(e)){let n=BS(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&JU(t,zl(e),n)}else TS(e)&&zh(e,n=>{Yh(t,n)})}function JU(t,e,n){let i=n.map(c=>c.currentWriteId),r=T_(t,e,i),s=r,o=r.hash();for(let c=0;c<n.length;c++){let u=n[c];S(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=At(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{qo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ar(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Kh(t,Hh(t.transactionQueueTree_,e)),Yh(t,t.transactionQueueTree_),qt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Ho(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ct("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Uo(t,e)}},o)}function Uo(t,e){let n=jS(t,e),i=zl(n),r=BS(t,n);return e$(t,r,i),i}function e$(t,e,n){if(e.length===0)return;let i=[],r=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=At(n,l.path),u=!1,d;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ar(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=UU)u=!0,d="maxretry",r=r.concat(ar(t.serverSyncTree_,l.currentWriteId,!0));else{let h=T_(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Wl("transaction failed: Data returned ",f,l.path);let p=Ve(f);typeof f=="object"&&f!=null&&Zt(f,".priority")||(p=p.updatePriority(h.getPriority()));let m=l.currentWriteId,y=ql(t),v=D_(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=qh(t),o.splice(o.indexOf(m),1),r=r.concat(__(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(ar(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",r=r.concat(ar(t.serverSyncTree_,l.currentWriteId,!0))}qt(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Kh(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Ho(i[a]);Yh(t,t.transactionQueueTree_)}function jS(t,e){let n,i=t.transactionQueueTree_;for(n=X(e);n!==null&&fs(i)===void 0;)i=Hh(i,n),e=Ee(e),n=X(e);return i}function BS(t,e){let n=[];return US(t,e,n),n.sort((i,r)=>i.order-r.order),n}function US(t,e,n){let i=fs(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);zh(e,r=>{US(t,r,n)})}function Kh(t,e){let n=fs(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,x_(e,n.length>0?n:void 0)}zh(e,i=>{Kh(t,i)})}function A_(t,e){let n=zl(jS(t,e)),i=Hh(t.transactionQueueTree_,e);return RU(i,r=>{Jy(t,r)}),Jy(t,i),AS(i,r=>{Jy(t,r)}),n}function Jy(t,e){let n=fs(e);if(n){let i=[],r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ar(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?x_(e,void 0):n.length=s+1,qt(t.eventQueue_,zl(e),r);for(let o=0;o<i.length;o++)Ho(i[o])}}function t$(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function n$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ct(`Invalid query segment '${n}' in query '${t}'`)}return e}var Wv=function(t,e){let n=i$(t),i=n.namespace;n.domain==="firebase.com"&&Yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||R2();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new de(n.pathString)}},i$=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=t$(t.substring(u,d)));let h=n$(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};var OI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r$=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,s=new Array(8);for(r=7;r>=0;r--)s[r]=OI.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=OI.charAt(e[r]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();var Ah=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}},Ph=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Vl=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Nh=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new it;return qU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Gt("OnDisconnect.remove",this._path);let e=new it;return kI(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Gt("OnDisconnect.set",this._path),Qn("OnDisconnect.set",e,this._path,!1);let n=new it;return kI(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Gt("OnDisconnect.setWithPriority",this._path),Qn("OnDisconnect.setWithPriority",e,this._path,!1),I_("OnDisconnect.setWithPriority",n,!1);let i=new it;return YU(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){Gt("OnDisconnect.update",this._path),NS("OnDisconnect.update",e,this._path,!1);let n=new it;return KU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Nt=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return J(this._path)?null:l_(this._path)}get ref(){return new Yt(this._repo,this._path)}get _queryIdentifier(){let e=CI(this._queryParams),n=o_(e);return n==="{}"?"default":n}get _queryObject(){return CI(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=c_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+dB(this._path)}};function Qh(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function gr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qn){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ur)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==xi)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Me){if(e!=null&&!Ll(e)||n!=null&&!Ll(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S(t.getIndex()instanceof Ml||t.getIndex()===h_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zh(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Yt=class t extends Nt{constructor(e,n){super(e,n,new Nl,!1)}get parent(){let e=rS(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$o=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new de(e),i=pr(this.ref,e);return new t(this._node.getChild(n),i,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,pr(this.ref,i),Me)))}hasChild(e){let n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function P_(t,e){return t=Dt(t),t._checkNotDeleted("ref"),e!==void 0?pr(t._root,e):t._root}function N_(t,e){t=Dt(t),t._checkNotDeleted("refFromURL");let n=Wv(e,t._repo.repoInfo_.nodeAdmin);RS("refFromURL",n);let i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Yn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),P_(t,n.path.toString())}function pr(t,e){return t=Dt(t),X(t._path)===null?jU("child","path",e,!1):Go("child","path",e,!1),new Yt(t._repo,Oe(t._path,e))}function $S(t,e){t=Dt(t),Gt("push",t._path),Qn("push",e,t._path,!0);let n=LS(t._repo),i=r$(n),r=pr(t,i),s=pr(t,i),o;return e!=null?o=Xh(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function HS(t){return Gt("remove",t._path),Xh(t,null)}function Xh(t,e){t=Dt(t),Gt("set",t._path),Qn("set",e,t._path,!1);let n=new it;return M_(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function zS(t,e){t=Dt(t),Gt("setPriority",t._path),I_("setPriority",e,!1);let n=new it;return M_(t._repo,Oe(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function WS(t,e,n){if(Gt("setWithPriority",t._path),Qn("setWithPriority",e,t._path,!1),I_("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let i=new it;return M_(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function GS(t,e){NS("update",e,t._path,!1);let n=new it;return WU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function qS(t){t=Dt(t);let e=new Vl(()=>{}),n=new jl(e);return zU(t._repo,t,n).then(i=>new $o(i,new Yt(t._repo,t._path),t._queryParams.getIndex()))}var jl=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new Ah("value",this,new $o(e.snapshotNode,new Yt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ph(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Rh=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ph(this,e,n):null}createEvent(e,n){S(e.childName!=null,"Child events should have a childName.");let i=pr(new Yt(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new Ah(e.type,this,new $o(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Yl(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{zv(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let o=new Vl(n,s||void 0),a=e==="value"?new jl(o):new Rh(e,o);return QU(t._repo,t,a),()=>zv(t._repo,t,a)}function Jh(t,e,n,i){return Yl(t,"value",e,n,i)}function R_(t,e,n,i){return Yl(t,"child_added",e,n,i)}function k_(t,e,n,i){return Yl(t,"child_changed",e,n,i)}function O_(t,e,n,i){return Yl(t,"child_moved",e,n,i)}function F_(t,e,n,i){return Yl(t,"child_removed",e,n,i)}function L_(t,e,n){let i=null,r=n?new Vl(n):null;e==="value"?i=new jl(r):e&&(i=new Rh(e,r)),zv(t._repo,t,i)}var Kt=class{},kh=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Qn("endAt",this._value,e._path,!0);let n=Cv(e._queryParams,this._value,this._key);if(Zh(n),gr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function YS(t,e){return Gl("endAt","key",e,!0),new kh(t,e)}var Gv=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Qn("endBefore",this._value,e._path,!1);let n=AB(e._queryParams,this._value,this._key);if(Zh(n),gr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function KS(t,e){return Gl("endBefore","key",e,!0),new Gv(t,e)}var Oh=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Qn("startAt",this._value,e._path,!0);let n=bv(e._queryParams,this._value,this._key);if(Zh(n),gr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function QS(t=null,e){return Gl("startAt","key",e,!0),new Oh(t,e)}var qv=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Qn("startAfter",this._value,e._path,!1);let n=TB(e._queryParams,this._value,this._key);if(Zh(n),gr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function ZS(t,e){return Gl("startAfter","key",e,!0),new qv(t,e)}var Yv=class extends Kt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nt(e._repo,e._path,SB(e._queryParams,this._limit),e._orderByCalled)}};function XS(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Yv(t)}var Kv=class extends Kt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nt(e._repo,e._path,MB(e._queryParams,this._limit),e._orderByCalled)}};function JS(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kv(t)}var Qv=class extends Kt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Qh(e,"orderByChild");let n=new de(this._path);if(J(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Ml(n),r=Lh(e._queryParams,i);return gr(r),new Nt(e._repo,e._path,r,!0)}};function eM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Go("orderByChild","path",t,!1),new Qv(t)}var Zv=class extends Kt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Qh(e,"orderByKey");let n=Lh(e._queryParams,qn);return gr(n),new Nt(e._repo,e._path,n,!0)}};function tM(){return new Zv}var Xv=class extends Kt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Qh(e,"orderByPriority");let n=Lh(e._queryParams,Me);return gr(n),new Nt(e._repo,e._path,n,!0)}};function nM(){return new Xv}var Jv=class extends Kt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Qh(e,"orderByValue");let n=Lh(e._queryParams,h_);return gr(n),new Nt(e._repo,e._path,n,!0)}};function iM(){return new Jv}var e_=class extends Kt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Qn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new kh(this._value,this._key)._apply(new Oh(this._value,this._key)._apply(e))}};function rM(t,e){return Gl("equalTo","key",e,!0),new e_(t,e)}function dn(t,...e){let n=Dt(t);for(let i of e)n=i._apply(n);return n}dU(Yt);mU(Yt);var s$="FIREBASE_DATABASE_EMULATOR_HOST",t_={},o$=!1;function a$(t,e,n,i){t.repoInfo_=new dh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function V_(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Wv(s,r),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[s$]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Wv(s,r),a=o.repoInfo):l=!o.repoInfo.secure;let u=r&&l?new wl(wl.OWNER):new sv(t.name,t.options,e);RS("Invalid Firebase Database URL",o),J(o.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=c$(a,t,u,new rv(t.name,n));return new n_(d,t)}function l$(t,e){let n=t_[e];(!n||n[t.key]!==t)&&Yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),VS(t),delete n[t.key]}function c$(t,e,n,i){let r=t_[e.name];r||(r={},t_[e.name]=r);let s=r[t.toURLString()];return s&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Hv(t,o$,n,i),r[t.toURLString()]=s,s}var n_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($U(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yt(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(l$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}};function sM(){iS.IS_TRANSPORT_INITIALIZED&&Ct("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function oM(){sM(),Il.forceDisallow()}function aM(){sM(),No.forceDisallow(),Il.forceAllow()}function lM(t,e,n,i={}){t=Dt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yn("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new wl(wl.OWNER);else if(i.mockUserToken){let o=typeof i.mockUserToken=="string"?i.mockUserToken:o0(i.mockUserToken,t.app.options.projectId);s=new wl(o)}a$(r,e,n,s)}function cM(t){t=Dt(t),t._checkNotDeleted("goOffline"),VS(t._repo)}function uM(t){t=Dt(t),t._checkNotDeleted("goOnline"),ZU(t._repo)}function dM(t,e){jI(t,e)}function u$(t){s_(m0),ha(new ii("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return V_(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Oi(rI,sI,t),Oi(rI,sI,"esm2017")}var d$={".sv":"timestamp"};function hM(){return d$}function fM(t){return{".sv":{increment:t}}}var i_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function pM(t,e,n){var i;if(t=Dt(t),Gt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,s=new it,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new $o(u,new Yt(t._repo,t._path),Me),s.resolve(new i_(c,d)))},a=Jh(t,()=>{});return XU(t._repo,t._path,e,o,a,r),s.promise}u_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};u_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};u$();var h$="@firebase/database-compat",f$="1.0.3";var p$=new Ss("@firebase/database-compat"),gM=function(t){let e="FIREBASE WARNING: "+t;p$.warn(e)};var g$=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Rt(t,e)+"must be a boolean.")},m$=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Rt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var j_=class{constructor(e){this._delegate=e}cancel(e){B("OnDisconnect.cancel",0,1,arguments.length),et("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){B("OnDisconnect.remove",0,1,arguments.length),et("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){B("OnDisconnect.set",1,2,arguments.length),et("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){B("OnDisconnect.setWithPriority",2,3,arguments.length),et("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,n){if(B("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,gM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}et("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}};var B_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return B("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var ps=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return B("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return B("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return B("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return B("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return B("DataSnapshot.child",0,1,arguments.length),e=String(e),Go("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return B("DataSnapshot.hasChild",1,1,arguments.length),Go("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return B("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return B("DataSnapshot.forEach",1,1,arguments.length),et("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return B("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return B("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return B("DataSnapshot.ref",0,0,arguments.length),new Ii(this._database,this._delegate.ref)}get ref(){return this.getRef()}},ef=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var s;B("Query.on",2,4,arguments.length),et("Query.on","callback",n,!1);let o=t.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(o.context,new ps(this.database,c),u)};a.userCallback=n,a.context=o.context;let l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Jh(this._delegate,a,l),n;case"child_added":return R_(this._delegate,a,l),n;case"child_removed":return F_(this._delegate,a,l),n;case"child_changed":return k_(this._delegate,a,l),n;case"child_moved":return O_(this._delegate,a,l),n;default:throw new Error(Rt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(B("Query.off",0,3,arguments.length),m$("Query.off",e,!0),et("Query.off","callback",n,!0),Yf("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,L_(this._delegate,e,r)}else L_(this._delegate,e)}get(){return qS(this._delegate).then(e=>new ps(this.database,e))}once(e,n,i,r){B("Query.once",1,4,arguments.length),et("Query.once","callback",n,!0);let s=t.getCancelAndContextArgs_("Query.once",i,r),o=new it,a=(c,u)=>{let d=new ps(this.database,c);n&&n.call(s.context,d,u),o.resolve(d)};a.userCallback=n,a.context=s.context;let l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":Jh(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":R_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":F_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":k_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":O_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Rt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return B("Query.limitToFirst",1,1,arguments.length),new t(this.database,dn(this._delegate,XS(e)))}limitToLast(e){return B("Query.limitToLast",1,1,arguments.length),new t(this.database,dn(this._delegate,JS(e)))}orderByChild(e){return B("Query.orderByChild",1,1,arguments.length),new t(this.database,dn(this._delegate,eM(e)))}orderByKey(){return B("Query.orderByKey",0,0,arguments.length),new t(this.database,dn(this._delegate,tM()))}orderByPriority(){return B("Query.orderByPriority",0,0,arguments.length),new t(this.database,dn(this._delegate,nM()))}orderByValue(){return B("Query.orderByValue",0,0,arguments.length),new t(this.database,dn(this._delegate,iM()))}startAt(e=null,n){return B("Query.startAt",0,2,arguments.length),new t(this.database,dn(this._delegate,QS(e,n)))}startAfter(e=null,n){return B("Query.startAfter",0,2,arguments.length),new t(this.database,dn(this._delegate,ZS(e,n)))}endAt(e=null,n){return B("Query.endAt",0,2,arguments.length),new t(this.database,dn(this._delegate,YS(e,n)))}endBefore(e=null,n){return B("Query.endBefore",0,2,arguments.length),new t(this.database,dn(this._delegate,KS(e,n)))}equalTo(e,n){return B("Query.equalTo",1,2,arguments.length),new t(this.database,dn(this._delegate,rM(e,n)))}toString(){return B("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return B("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(B("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,et(e,"cancel",r.cancel,!0),r.context=i,Yf(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Rt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Ii(this.database,new Yt(this._delegate._repo,this._delegate._path))}},Ii=class t extends ef{constructor(e,n){super(e,new Nt(n._repo,n._path,new Nl,!1)),this.database=e,this._delegate=n}getKey(){return B("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return B("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,pr(this._delegate,e))}getParent(){B("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return B("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){B("Reference.set",1,2,arguments.length),et("Reference.set","onComplete",n,!0);let i=Xh(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(B("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,gM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gt("Reference.update",this._delegate._path),et("Reference.update","onComplete",n,!0);let i=GS(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){B("Reference.setWithPriority",2,3,arguments.length),et("Reference.setWithPriority","onComplete",i,!0);let r=WS(this._delegate,e,n);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){B("Reference.remove",0,1,arguments.length),et("Reference.remove","onComplete",e,!0);let n=HS(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){B("Reference.transaction",1,3,arguments.length),et("Reference.transaction","transactionUpdate",e,!1),et("Reference.transaction","onComplete",n,!0),g$("Reference.transaction","applyLocally",i,!0);let r=pM(this._delegate,e,{applyLocally:i}).then(s=>new B_(s.committed,new ps(this.database,s.snapshot)));return n&&r.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),r}setPriority(e,n){B("Reference.setPriority",1,2,arguments.length),et("Reference.setPriority","onComplete",n,!0);let i=zS(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){B("Reference.push",0,2,arguments.length),et("Reference.push","onComplete",n,!0);let i=$S(this._delegate,e),r=i.then(o=>new t(this.database,o));n&&r.then(()=>n(null),o=>n(o));let s=new t(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Gt("Reference.onDisconnect",this._delegate._path),new j_(new Nh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var gs=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:oM,forceLongPolling:aM}}useEmulator(e,n,i={}){lM(this._delegate,e,n,i)}ref(e){if(B("database.ref",0,1,arguments.length),e instanceof Ii){let n=N_(this._delegate,e.toString());return new Ii(this,n)}else{let n=P_(this._delegate,e);return new Ii(this,n)}}refFromURL(e){B("database.refFromURL",1,1,arguments.length);let i=N_(this._delegate,e);return new Ii(this,i)}goOffline(){return B("database.goOffline",0,0,arguments.length),cM(this._delegate)}goOnline(){return B("database.goOnline",0,0,arguments.length),uM(this._delegate)}};gs.ServerValue={TIMESTAMP:hM(),increment:t=>fM(t)};function y$({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){s_(n);let a=new Kf("database-standalone"),l=new Cc("auth-internal",a);l.setComponent(new ii("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Cc("app-check-internal",a),c.setComponent(new ii("app-check-internal",()=>r,"PRIVATE"))),{instance:new gs(V_(t,l,c,e,o),t),namespace:s}}var v$=Object.freeze({__proto__:null,initStandalone:y$});var _$=gs.ServerValue;function b$(t){t.INTERNAL.registerComponent(new ii("database-compat",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new gs(r,i)},"PUBLIC").setServiceProps({Reference:Ii,Query:ef,Database:gs,DataSnapshot:ps,enableLogging:dM,INTERNAL:v$,ServerValue:_$}).setMultipleInstances(!0)),t.registerVersion(h$,f$)}b$(Et);function Kl(t,e,n="on",i=ga){return new Z(r=>{let s=null;return s=t[n](e,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),n==="on"?{unsubscribe(){s!=null&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(j(r=>{let{snapshot:s,prevKey:o}=r,a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),ya())}function C$(t){return typeof t=="string"}function w$(t){return typeof t.exportVal=="function"}function bM(t){return t==null}function CM(t){return typeof t.set=="function"}function mM(t,e){return CM(e)?e:t.ref(e)}function wM(t,e){if(C$(t))return e.stringCase();if(CM(t))return e.firebaseCase();if(w$(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function DM(t){return(bM(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function EM(t,e,n){e=DM(e);let i=e.map(r=>Kl(t,r,"on",n));return Bs(...i)}function D$(t,e,n){let i=EM(t,e).pipe($s((r,s)=>[...r,s],[]));return x$(t,i,n)}function E$(t,e){return Kl(t,"value","on",e).pipe(j(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function x$(t,e,n){return E$(t,n).pipe(Cp(e),j(([r,s])=>{let o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),vp(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),j(r=>r.actions))}function yM(t,e){return function(i,r){return wM(i,{stringCase:()=>t.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function I$(t){return function(n){return n?wM(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function S$(t,e,n){return Kl(t,"value","once",n).pipe(Ie(i=>{let r=[V(i)];return e.forEach(s=>r.push(Kl(t,s,"on",n))),Bs(...r).pipe($s(T$,[]))}),gp())}function xM(t,e){let n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function M$(t,e){if(bM(e))return 0;{let n=xM(t,e);return n===-1?t.length:n+1}}function T$(t,e){let{payload:n,prevKey:i,key:r}=e,s=xM(t,r),o=M$(t,i);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==i&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(o,0,e));else{if(i==null)return[e,...t];t=t.slice(),t.splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===r?e:a);case"child_moved":if(s>-1){let a=t.splice(s,1)[0];return t=t.slice(),t.splice(o,0,a),t}return t;default:return t}}function vM(t,e,n){return e=DM(e),S$(t,e,n)}function A$(t,e){let n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:yM(i,"update"),set:yM(i,"set"),push:r=>i.push(r),remove:I$(i),snapshotChanges(r){return vM(t,r,n).pipe(Ei)},stateChanges(r){return EM(t,r,n).pipe(Ei)},auditTrail(r){return D$(t,r,n).pipe(Ei)},valueChanges(r,s){return vM(t,r,n).pipe(j(a=>a.map(l=>s&&s.idField?le(P({},l.payload.val()),{[s.idField]:l.key}):l.payload.val())),Ei)}}}function _M(t,e){return function(){return Kl(t,"value","on",e)}}function P$(t,e){return{query:t,snapshotChanges(){return _M(t,e.schedulers.outsideAngular)().pipe(Ei)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return _M(t,e.schedulers.outsideAngular)().pipe(Ei,j(i=>i.payload.exists()?i.payload.val():null))}}}var N$=new N("angularfire2.realtimeDatabaseURL"),R$=new N("angularfire2.database.use-emulator"),U_=(()=>{class t{schedulers;database;constructor(n,i,r,s,o,a,l,c,u,d,h,f,p,g,m){this.schedulers=a;let y=l,v=gl(n,o,i);c&&Gy(v,o,u,h,f,p,d,g),this.database=lh(`${v.name}.database.${r}`,"AngularFireDatabase",v.name,()=>{let _=o.runOutsideAngular(()=>v.database(r||void 0));return y&&_.useEmulator(...y),_},[y])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>mM(this.database,n)),s=r;return i&&(s=i(r)),A$(s,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>mM(this.database,n));return P$(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||t)(x(To),x(Ao,8),x(N$,8),x(_t),x(oe),x(sh),x(R$,8),x(ml,8),x(By,8),x(Uy,8),x($y,8),x(Hy,8),x(zy,8),x(Wy,8),x(ss,8))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),IM=(()=>{class t{constructor(){Et.registerVersion("angularfire",os.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Fe({type:t});static \u0275inj=Le({providers:[U_]})}return t})();var mr=(()=>{let e=class e{constructor(i){this.db=i,this.suinosRef=i.list("/suinos")}getSuinos(){return this.suinosRef.valueChanges()}addSuino(i){return this.suinosRef.push(i).then(r=>Promise.resolve(r.key))}updateSuino(i,r){return this.db.object(`/suinos/${i}`).update(r)}deleteSuino(i){return this.db.object(`/suinos/${i}`).remove()}cadastrarPeso(i,r,s){return this.db.list(`/pesos/${i}`).push({dataPesagem:r,peso:s}).then(o=>Promise.resolve(o.key))}getPeso(i){return this.db.list(`/pesos/${i}`).valueChanges()}atualizarPeso(i,r,s,o){return this.db.object(`/pesos/${i}/${r}`).update({dataPesagem:s,peso:o})}};e.\u0275fac=function(r){return new(r||e)(x(U_))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function O$(t,e){t&1&&(E(0,"small"),I(1," O brinco do animal \xE9 obrigat\xF3rio. "),w())}function F$(t,e){t&1&&(E(0,"small"),I(1," O brinco do pai \xE9 obrigat\xF3rio. "),w())}function L$(t,e){t&1&&(E(0,"small"),I(1," O brinco da m\xE3e \xE9 obrigat\xF3rio. "),w())}function V$(t,e){t&1&&(E(0,"small"),I(1," A data de nascimento \xE9 obrigat\xF3ria. "),w())}function j$(t,e){t&1&&(E(0,"small"),I(1," A data de sa\xEDda \xE9 obrigat\xF3ria. "),w())}function B$(t,e){t&1&&(E(0,"small"),I(1," O status \xE9 obrigat\xF3rio. "),w())}function U$(t,e){t&1&&(E(0,"small"),I(1," O sexo \xE9 obrigat\xF3rio. "),w())}var nf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinoForm=this.formBuilder.group({brinco:["",ke.required],brincoPai:["",ke.required],brincoMae:["",ke.required],dataNascimento:["",ke.required],dataSaida:["",ke.required],status:["",ke.required],sexo:["",ke.required]})}ngOnInit(){}cadastrarSuino(){if(this.suinoForm.valid){let i=this.suinoForm.value;this.suinoService.addSuino(i).then(()=>{console.log("Novo su\xEDno cadastrado:",i),this.suinoForm.reset()}).catch(r=>{console.error("Erro ao cadastrar su\xEDno:",r)})}else this.suinoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(L(sr),L(mr))},e.\u0275cmp=rt({type:e,selectors:[["app-suino-cadastro"]],decls:51,vars:9,consts:[[3,"formGroup","ngSubmit"],["for","brinco"],["type","number","id","brinco","formControlName","brinco"],[4,"ngIf"],["for","brincoPai"],["type","number","id","brincoPai","formControlName","brincoPai"],["for","brincoMae"],["type","number","id","brincoMae","formControlName","brincoMae"],["for","dataNascimento"],["type","date","id","dataNascimento","formControlName","dataNascimento"],["for","dataSaida"],["type","date","id","dataSaida","formControlName","dataSaida"],["for","status"],["id","status","formControlName","status"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","formControlName","sexo"],["value","M"],["value","F"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(E(0,"div")(1,"h2"),I(2,"Cadastro de Su\xEDno"),w(),E(3,"form",0),ge("ngSubmit",function(){return s.cadastrarSuino()}),E(4,"div")(5,"label",1),I(6,"Brinco do Animal:"),w(),_e(7,"input",2),Ne(8,O$,2,0,"small",3),w(),E(9,"div")(10,"label",4),I(11,"Brinco do Pai:"),w(),_e(12,"input",5),Ne(13,F$,2,0,"small",3),w(),E(14,"div")(15,"label",6),I(16,"Brinco da M\xE3e:"),w(),_e(17,"input",7),Ne(18,L$,2,0,"small",3),w(),E(19,"div")(20,"label",8),I(21,"Data de Nascimento:"),w(),_e(22,"input",9),Ne(23,V$,2,0,"small",3),w(),E(24,"div")(25,"label",10),I(26,"Data de Sa\xEDda:"),w(),_e(27,"input",11),Ne(28,j$,2,0,"small",3),w(),E(29,"div")(30,"label",12),I(31,"Status:"),w(),E(32,"select",13)(33,"option",14),I(34,"Ativo"),w(),E(35,"option",15),I(36,"Vendido"),w(),E(37,"option",16),I(38,"Morto"),w()(),Ne(39,B$,2,0,"small",3),w(),E(40,"div")(41,"label",17),I(42,"Sexo:"),w(),E(43,"select",18)(44,"option",19),I(45,"Macho"),w(),E(46,"option",20),I(47,"F\xEAmea"),w()(),Ne(48,U$,2,0,"small",3),w(),E(49,"button",21),I(50,"Cadastrar"),w()()()),r&2){let o,a,l,c,u,d,h;F(3),Q("formGroup",s.suinoForm),F(5),Q("ngIf",((o=s.suinoForm.get("brinco"))==null?null:o.invalid)&&((o=s.suinoForm.get("brinco"))==null?null:o.touched)),F(5),Q("ngIf",((a=s.suinoForm.get("brincoPai"))==null?null:a.invalid)&&((a=s.suinoForm.get("brincoPai"))==null?null:a.touched)),F(5),Q("ngIf",((l=s.suinoForm.get("brincoMae"))==null?null:l.invalid)&&((l=s.suinoForm.get("brincoMae"))==null?null:l.touched)),F(5),Q("ngIf",((c=s.suinoForm.get("dataNascimento"))==null?null:c.invalid)&&((c=s.suinoForm.get("dataNascimento"))==null?null:c.touched)),F(5),Q("ngIf",((u=s.suinoForm.get("dataSaida"))==null?null:u.invalid)&&((u=s.suinoForm.get("dataSaida"))==null?null:u.touched)),F(11),Q("ngIf",((d=s.suinoForm.get("status"))==null?null:d.invalid)&&((d=s.suinoForm.get("status"))==null?null:d.touched)),F(9),Q("ngIf",((h=s.suinoForm.get("sexo"))==null?null:h.invalid)&&((h=s.suinoForm.get("sexo"))==null?null:h.touched)),F(),Q("disabled",!s.suinoForm.valid)}},dependencies:[$n,rr,nh,ih,ln,hl,Mo,Wn,ir,wi,Di],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.small-error[_ngcontent-%COMP%]{color:red;font-size:12px}"]});let t=e;return t})();function Xl(t){return t+.5|0}var yr=(t,e,n)=>Math.max(Math.min(t,n),e);function Ql(t){return yr(Xl(t*2.55),0,255)}function vr(t){return yr(Xl(t*255),0,255)}function Si(t){return yr(Xl(t/2.55)/100,0,1)}function SM(t){return yr(Xl(t*100),0,100)}var hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H_=[..."0123456789ABCDEF"],H$=t=>H_[t&15],z$=t=>H_[(t&240)>>4]+H_[t&15],rf=t=>(t&240)>>4===(t&15),W$=t=>rf(t.r)&&rf(t.g)&&rf(t.b)&&rf(t.a);function G$(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&hn[t[1]]*17,g:255&hn[t[2]]*17,b:255&hn[t[3]]*17,a:e===5?hn[t[4]]*17:255}:(e===7||e===9)&&(n={r:hn[t[1]]<<4|hn[t[2]],g:hn[t[3]]<<4|hn[t[4]],b:hn[t[5]]<<4|hn[t[6]],a:e===9?hn[t[7]]<<4|hn[t[8]]:255})),n}var q$=(t,e)=>t<255?e(t):"";function Y$(t){var e=W$(t)?H$:z$;return t?"#"+e(t.r)+e(t.g)+e(t.b)+q$(t.a,e):void 0}var K$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PM(t,e,n){let i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Q$(t,e,n){let i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Z$(t,e,n){let i=PM(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function X$(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function z_(t){let n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2,l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=X$(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function W_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(vr)}function G_(t,e,n){return W_(PM,t,e,n)}function J$(t,e,n){return W_(Z$,t,e,n)}function eH(t,e,n){return W_(Q$,t,e,n)}function NM(t){return(t%360+360)%360}function tH(t){let e=K$.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ql(+e[5]):vr(+e[5]));let r=NM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=J$(r,s,o):e[1]==="hsv"?i=eH(r,s,o):i=G_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function nH(t,e){var n=z_(t);n[0]=NM(n[0]+e),n=G_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function iH(t){if(!t)return;let e=z_(t),n=e[0],i=SM(e[1]),r=SM(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Si(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var MM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rH(){let t={},e=Object.keys(TM),n=Object.keys(MM),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,MM[s]);s=parseInt(TM[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var sf;function sH(t){sf||(sf=rH(),sf.transparent=[0,0,0,0]);let e=sf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var oH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aH(t){let e=oH.exec(t),n=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];n=e[8]?Ql(o):yr(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ql(i):yr(i,0,255)),r=255&(e[4]?Ql(r):yr(r,0,255)),s=255&(e[6]?Ql(s):yr(s,0,255)),{r:i,g:r,b:s,a:n}}}function lH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Si(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var $_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function cH(t,e,n){let i=Yo(Si(t.r)),r=Yo(Si(t.g)),s=Yo(Si(t.b));return{r:vr($_(i+n*(Yo(Si(e.r))-i))),g:vr($_(r+n*(Yo(Si(e.g))-r))),b:vr($_(s+n*(Yo(Si(e.b))-s))),a:t.a+n*(e.a-t.a)}}function of(t,e,n){if(t){let i=z_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=G_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function RM(t,e){return t&&Object.assign(e||{},t)}function AM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vr(t[3]))):(e=RM(t,{r:0,g:0,b:0,a:1}),e.a=vr(e.a)),e}function uH(t){return t.charAt(0)==="r"?aH(t):tH(t)}var Zl=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=AM(e):n==="string"&&(i=G$(e)||sH(e)||uH(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RM(this._rgb);return e&&(e.a=Si(e.a)),e}set rgb(e){this._rgb=AM(e)}rgbString(){return this._valid?lH(this._rgb):void 0}hexString(){return this._valid?Y$(this._rgb):void 0}hslString(){return this._valid?iH(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,s,o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=cH(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=vr(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=Xl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return of(this._rgb,2,e),this}darken(e){return of(this._rgb,2,-e),this}saturate(e){return of(this._rgb,1,e),this}desaturate(e){return of(this._rgb,1,-e),this}rotate(e){return nH(this._rgb,e),this}};function Jn(){}var zM=(()=>{let t=0;return()=>t++})();function ae(t){return t===null||typeof t>"u"}function Te(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ie(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function je(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jt(t,e){return je(t)?t:e}function W(t,e){return typeof t>"u"?e:t}var WM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Q_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,i){let r,s,o;if(Te(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(ie(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function tc(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function uf(t){if(Te(t))return t.map(uf);if(ie(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=uf(t[n[r]]);return e}return t}function GM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dH(t,e,n,i){if(!GM(t))return;let r=e[t],s=n[t];ie(r)&&ie(s)?Qo(r,s,i):e[t]=uf(s)}function Qo(t,e,n){let i=Te(e)?e:[e],r=i.length;if(!ie(t))return t;n=n||{};let s=n.merger||dH,o;for(let a=0;a<r;++a){if(o=i[a],!ie(o))continue;let l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Xo(t,e){return Qo(t,e,{merger:hH})}function hH(t,e,n){if(!GM(t))return;let i=e[t],r=n[t];ie(i)&&ie(r)?Xo(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=uf(r))}var kM={"":t=>t,x:t=>t.x,y:t=>t.y};function fH(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function pH(t){let e=fH(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function Ai(t,e){return(kM[e]||(kM[e]=pH(e)))(t)}function pf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Jo=t=>typeof t<"u",Mi=t=>typeof t=="function",Z_=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function qM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Ae=Math.PI,Pe=2*Ae,gH=Pe+Ae,df=Number.POSITIVE_INFINITY,mH=Ae/180,$e=Ae/2,ms=Ae/4,OM=Ae*2/3,Ti=Math.log10,Tn=Math.sign;function ea(t,e,n){return Math.abs(t-e)<n}function X_(t){let e=Math.round(t);t=ea(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Ti(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function YM(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function _s(t){return!isNaN(parseFloat(t))&&isFinite(t)}function KM(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function J_(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function fn(t){return t*(Ae/180)}function gf(t){return t*(180/Ae)}function eb(t){if(!je(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function tb(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n);return s<-.5*Ae&&(s+=Pe),{angle:s,distance:r}}function hf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yH(t,e){return(t-e+gH)%Pe-Ae}function Vt(t){return(t%Pe+Pe)%Pe}function ta(t,e,n,i){let r=Vt(t),s=Vt(e),o=Vt(n),a=Vt(s-r),l=Vt(o-r),c=Vt(r-s),u=Vt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function nt(t,e,n){return Math.max(e,Math.min(n,t))}function QM(t){return nt(t,-32768,32767)}function ei(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function mf(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}var Zn=(t,e,n,i)=>mf(t,n,i?r=>{let s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),ZM=(t,e,n)=>mf(t,n,i=>t[i][e]>=n);function XM(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var JM=["push","pop","shift","splice","unshift"];function eT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),JM.forEach(n=>{let i="_onData"+pf(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function nb(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(JM.forEach(s=>{delete t[s]}),delete t._chartjs)}function ib(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var rb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function sb(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,rb.call(window,()=>{i=!1,t.apply(e,n)}))}}function tT(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var yf=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,nT=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function ob(t,e,n){let i=e.length,r=0,s=i;if(t._sorted){let{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=nt(Math.min(Zn(a,l,c).lo,n?i:Zn(e,l,o.getPixelForValue(c)).lo),0,i-1)),h?s=nt(Math.max(Zn(a,o.axis,u,!0).hi+1,n?0:Zn(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function ab(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}var af=t=>t===0||t===1,FM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pe/n)),LM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pe/n)+1,Ko={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$e)+1,easeOutSine:t=>Math.sin(t*$e),easeInOutSine:t=>-.5*(Math.cos(Ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>af(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>af(t)?t:FM(t,.075,.3),easeOutElastic:t=>af(t)?t:LM(t,.075,.3),easeInOutElastic(t){return af(t)?t:t<.5?.5*FM(t*2,.1125,.45):.5+.5*LM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ko.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ko.easeInBounce(t*2)*.5:Ko.easeOutBounce(t*2-1)*.5+.5};function lb(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function cb(t){return lb(t)?t:new Zl(t)}function q_(t){return lb(t)?t:new Zl(t).saturate(.5).darken(.1).hexString()}var vH=["x","y","borderWidth","radius","tension"],_H=["color","borderColor","backgroundColor"];function bH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_H},numbers:{type:"number",properties:vH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var VM=new Map;function wH(t,e){e=e||{};let n=t+JSON.stringify(e),i=VM.get(n);return i||(i=new Intl.NumberFormat(t,e),VM.set(n,i)),i}function na(t,e,n){return wH(e,n).format(t)}var iT={values(t){return Te(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,s=t;if(n.length>1){let c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=DH(t,n)}let o=Ti(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),na(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(Ti(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?iT.numeric.call(this,t,e,n):""}};function DH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var nc={formatters:iT};function EH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var br=Object.create(null),vf=Object.create(null);function Jl(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Y_(t,e,n){return typeof e=="string"?Qo(Jl(t,e),n):Qo(Jl(t,""),e)}var K_=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>q_(r.backgroundColor),this.hoverBorderColor=(i,r)=>q_(r.borderColor),this.hoverColor=(i,r)=>q_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Y_(this,e,n)}get(e){return Jl(this,e)}describe(e,n){return Y_(vf,e,n)}override(e,n){return Y_(br,e,n)}route(e,n,i,r){let s=Jl(this,e),o=Jl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let l=this[a],c=o[r];return ie(l)?Object.assign({},c,l):W(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}},Be=new K_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bH,CH,EH]);function xH(t){return!t||ae(t.size)||ae(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ec(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function rT(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0,a=n.length,l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Te(d))o=ec(t,r,s,o,d);else if(Te(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Te(h)&&(o=ec(t,r,s,o,h));t.restore();let f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Cr(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function ub(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function _f(t,e,n,i){db(t,e,n,i,null)}function db(t,e,n,i,r){let s,o,a,l,c,u,d,h,f=e.pointStyle,p=e.rotation,g=e.radius,m=(p||0)*mH;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Pe):t.arc(n,i,g,0,Pe),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=OM,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=OM,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+ms)*l,d=Math.cos(m+ms)*(r?r/2-c:l),a=Math.sin(m+ms)*l,h=Math.sin(m+ms)*(r?r/2-c:l),t.arc(n-d,i-a,c,m-Ae,m-$e),t.arc(n+h,i-o,c,m-$e,m),t.arc(n+d,i+a,c,m,m+$e),t.arc(n-h,i+o,c,m+$e,m+Ae),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=ms;case"rectRot":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":m+=ms;case"cross":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),m+=ms,d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ic(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rc(t){t.restore()}function sT(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function oT(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function IH(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ae(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function SH(t,e,n,i,r){if(r.strikethrough||r.underline){let s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function MH(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wr(t,e,n,i,r,s={}){let o=Te(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(t.save(),t.font=r.string,IH(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&MH(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ae(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),SH(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function ia(t,e){let{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ae,Ae,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ae,$e,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,$e,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-$e,!0),t.lineTo(n+o.topLeft,i)}var TH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PH(t,e){let n=(""+t).match(TH);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var NH=t=>+t||0;function bf(t,e){let n={},i=ie(e),r=i?Object.keys(e):e,s=ie(t)?i?o=>W(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of r)n[o]=NH(s(o));return n}function hb(t){return bf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dr(t){return bf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ft(t){let e=hb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Je(t,e){t=t||{},e=e||Be.font;let n=W(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=W(t.style,e.style);i&&!(""+i).match(AH)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:W(t.family,e.family),lineHeight:PH(W(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:W(t.weight,e.weight),string:""};return r.string=xH(r),r}function ra(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Te(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function aT(t,e,n){let{min:i,max:r}=t,s=Q_(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Pi(t,e){return Object.assign(Object.create(t),e)}function Cf(t,e=[""],n,i,r=()=>t[0]){let s=n||t;typeof i>"u"&&(i=uT("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Cf([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return lT(a,l,()=>BH(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return BM(a).includes(l)},ownKeys(a){return BM(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function vs(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fb(t,i),setContext:s=>vs(t,s,n,i),override:s=>vs(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return lT(s,o,()=>kH(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function fb(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Mi(n)?n:()=>n,isIndexable:Mi(i)?i:()=>i}}var RH=(t,e)=>t?t+pf(e):e,pb=(t,e)=>ie(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let i=n();return t[e]=i,i}function kH(t,e,n){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t,a=i[e];return Mi(a)&&o.isScriptable(e)&&(a=OH(e,a,t,n)),Te(a)&&a.length&&(a=FH(e,a,t,o.isIndexable)),pb(e,a)&&(a=vs(a,r,s&&s[e],o)),a}function OH(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),pb(t,l)&&(l=gb(r._scopes,r,t,l)),l}function FH(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(ie(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let d=gb(c,r,t,u);e.push(vs(d,s,o&&o[t],a))}}return e}function cT(t,e,n){return Mi(t)?t(e,n):t}var LH=(t,e)=>t===!0?e:typeof t=="string"?Ai(e,t):void 0;function VH(t,e,n,i,r){for(let s of e){let o=LH(n,s);if(o){t.add(o);let a=cT(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function gb(t,e,n,i){let r=e._rootScopes,s=cT(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=jM(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=jM(a,o,s,l,i),l===null)?!1:Cf(Array.from(a),[""],r,s,()=>jH(e,n,i))}function jM(t,e,n,i,r){for(;n;)n=VH(t,e,n,i,r);return n}function jH(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Te(r)&&ie(n)?n:r||{}}function BH(t,e,n,i){let r;for(let s of e)if(r=uT(RH(s,t),n),typeof r<"u")return pb(t,r)?gb(n,i,t,r):r}function uT(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function BM(t){let e=t._keys;return e||(e=t._keys=UH(t._scopes)),e}function UH(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function mb(t,e,n,i){let{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Ai(u,s),c)};return o}var $H=Number.EPSILON||1e-14,Zo=(t,e)=>e<t.length&&!t[e].skip&&t[e],dT=t=>t==="x"?"y":"x";function HH(t,e,n,i){let r=t.skip?e:t,s=e,o=n.skip?e:n,a=hf(s,r),l=hf(o,s),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=i*c,h=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function zH(t,e,n){let i=t.length,r,s,o,a,l,c=Zo(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Zo(t,u+1),!(!l||!c)){if(ea(e[u],0,$H)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function WH(t,e,n="x"){let i=dT(n),r=t.length,s,o,a,l=Zo(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zo(t,c+1),!a)continue;let u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function GH(t,e="x"){let n=dT(e),i=t.length,r=Array(i).fill(0),s=Array(i),o,a,l,c=Zo(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zo(t,o+1),!!l){if(c){let u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Tn(r[o-1])!==Tn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}zH(t,r,s),WH(t,s,e)}function lf(t,e,n){return Math.max(Math.min(t,n),e)}function qH(t,e){let n,i,r,s,o,a=Xn(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Xn(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=lf(r.cp1x,e.left,e.right),r.cp1y=lf(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=lf(r.cp2x,e.left,e.right),r.cp2y=lf(r.cp2y,e.top,e.bottom)))}function hT(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GH(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=HH(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&qH(t,n)}function wf(){return typeof window<"u"&&typeof document<"u"}function Df(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ff(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var Ef=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function YH(t,e){return Ef(t).getPropertyValue(e)}var KH=["top","right","bottom","left"];function ys(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let s=KH[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var QH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ZH(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i,o=!1,a,l;if(QH(r,s,t.target))a=r,l=s;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Er(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=Ef(n),s=r.boxSizing==="border-box",o=ys(r,"padding"),a=ys(r,"border","width"),{x:l,y:c,box:u}=ZH(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top),{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function XH(t,e,n){let i,r;if(e===void 0||n===void 0){let s=Df(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=Ef(s),l=ys(a,"border","width"),c=ys(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=ff(a.maxWidth,s,"clientWidth"),r=ff(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||df,maxHeight:r||df}}var cf=t=>Math.round(t*10)/10;function fT(t,e,n,i){let r=Ef(t),s=ys(r,"margin"),o=ff(r.maxWidth,t,"clientWidth")||df,a=ff(r.maxHeight,t,"clientHeight")||df,l=XH(t,e,n),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let h=ys(r,"border","width"),f=ys(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=cf(Math.min(c,o,l.maxWidth)),u=cf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=cf(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=cf(Math.floor(u*i))),{width:c,height:u}}function yb(t,e,n){let i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var pT=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};wf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function vb(t,e){let n=YH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _r(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gT(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mT(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=_r(t,r,n),a=_r(r,s,n),l=_r(s,e,n),c=_r(o,a,n),u=_r(a,l,n);return _r(c,u,n)}var JH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},ez=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bs(t,e,n){return t?JH(e,n):ez()}function _b(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function bb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yT(t){return t==="angle"?{between:ta,compare:yH,normalize:Vt}:{between:ei,compare:(e,n)=>e-n,normalize:e=>e}}function UM({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function tz(t,e,n){let{property:i,start:r,end:s}=n,{between:o,normalize:a}=yT(i),l=e.length,{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),r,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Cb(t,e,n){if(!n)return[t];let{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=yT(i),{start:u,end:d,loop:h,style:f}=tz(t,e,n),p=[],g=!1,m=null,y,v,_,C=()=>l(r,_,y)&&a(r,_)!==0,b=()=>a(s,y)===0||l(s,_,y),D=()=>g||C(),T=()=>!g||b();for(let M=u,k=u;M<=d;++M)v=e[M%o],!v.skip&&(y=c(v[i]),y!==_&&(g=l(y,r,s),m===null&&D()&&(m=a(y,r)===0?M:k),m!==null&&T()&&(p.push(UM({start:m,end:M,loop:h,count:o,style:f})),m=null),k=M,_=y));return m!==null&&p.push(UM({start:m,end:d,loop:h,count:o,style:f})),p}function wb(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let s=Cb(i[r],t.points,e);s.length&&n.push(...s)}return n}function nz(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function iz(t,e,n,i){let r=t.length,s=[],o=e,a=t[e],l;for(l=e+1;l<=n;++l){let c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function vT(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let s=!!t._loop,{start:o,end:a}=nz(n,r,s,i);if(i===!0)return $M(t,[{start:o,end:a,loop:s}],n,e);let l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return $M(t,iz(n,o,l,c),n,e)}function $M(t,e,n,i){return!i||!i.setContext||!n?e:rz(t,e,n,i)}function rz(t,e,n,i){let r=t._chart.getContext(),s=HM(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[],u=s,d=e[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=v;for(;n[g%l].skip;)g+=v;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of e){d=a?d:p.start;let g=n[d%l],m;for(h=d+1;h<=p.end;h++){let y=n[h%l];m=HM(i.setContext(Pi(r,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),sz(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}function HM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function sz(t,e){if(!e)return!1;let n=[],i=function(r,s){return lb(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var Nb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=rb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ni=new Nb,_T="transparent",oz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=cb(t||_T),r=i.valid&&cb(e||_T);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},Rb=class{constructor(e,n,i,r){let s=n[i];r=ra([e.to,r,s,e.from]);let o=ra([e.from,s,r]);this._active=!0,this._fn=e.fn||oz[e.type||typeof o],this._easing=Ko[e.easing]||Ko.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ra([e.to,n,r,e.from]),this._from=ra([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},kf=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ie(e))return;let n=Object.keys(Be.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!ie(s))return;let o={};for(let a of n)o[a]=s[a];(Te(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){let i=n.options,r=lz(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&az(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}let u=n[c],d=s[c],h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new Rb(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return Ni.add(this._chart,i),!0}};function az(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function lz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function bT(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function cz(t,e,n){if(n===!1)return!1;let i=bT(t,n),r=bT(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function uz(t){let e,n,i,r;return ie(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function bA(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function CT(t,e,n,i={}){let r=t.keys,s=i.mode==="single",o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],je(c)&&(s||e===0||Tn(e)===Tn(c))&&(e+=c)}return e}}function dz(t){let e=Object.keys(t),n=new Array(e.length),i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function wT(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function hz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fz(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function pz(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function DT(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function ET(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=hz(s,o,i),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});h=y[c]=pz(r,u,g),h[a]=m,h._top=DT(h,o,!0,i.type),h._bottom=DT(h,o,!1,i.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function Db(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function gz(t,e){return Pi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mz(t,e,n){return Pi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function sc(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}var Eb=t=>t==="reset"||t==="none",xT=(t,e)=>e?t:Object.assign({},t),yz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:bA(n,!0),values:null},Ir=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=wT(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&sc(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,o=i.xAxisID=W(r.xAxisID,Db(n,"x")),a=i.yAxisID=W(r.yAxisID,Db(n,"y")),l=i.rAxisID=W(r.rAxisID,Db(n,"r")),c=i.indexAxis,u=i.iAxisID=s(c,o,a,l),d=i.vAxisID=s(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&nb(this._data,this),n._stacked&&sc(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(ie(i))this._data=dz(i);else if(r!==i){if(r){nb(r,this);let s=this._cachedMeta;sc(s),s._parsed=[]}i&&Object.isExtensible(i)&&eT(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=wT(i.vScale,i),i.stack!==r.stack&&(s=!0,sc(i),i.stack=r.stack),this._resyncElements(n),(s||o!==i._stacked)&&ET(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis,c=n===0&&i===s.length?!0:r._sorted,u=n>0&&r._parsed[n-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Te(s[n])?f=this.parseArrayData(r,s,n,i):ie(s[n])?f=this.parseObjectData(r,s,n,i):f=this.parsePrimitiveData(r,s,n,i);let p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<i;++d)r._parsed[d+n]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}a&&ET(this,f)}parsePrimitiveData(n,i,r,s){let{iScale:o,vScale:a}=n,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s),f,p,g;for(f=0,p=s;f<p;++f)g=f+r,h[f]={[l]:d||o.parse(u[g],g),[c]:a.parse(i[g],g)};return h}parseArrayData(n,i,r,s){let{xScale:o,yScale:a}=n,l=new Array(s),c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=i[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(n,i,r,s){let{xScale:o,yScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s),d,h,f,p;for(d=0,h=s;d<h;++d)f=d+r,p=i[f],u[d]={x:o.parse(Ai(p,l),f),y:a.parse(Ai(p,c),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let s=this.chart,o=this._cachedMeta,a=i[n.axis],l={keys:bA(s,!0),values:i._stacks[n.axis]._visualValues};return CT(l,a,o.index,{mode:r})}updateRangeFromParsed(n,i,r,s){let o=r[i.axis],a=o===null?NaN:o,l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=CT(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&n===r.iScale,a=s.length,l=this._getOtherScale(n),c=yz(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=fz(l),f,p;function g(){p=s[f];let m=p[l.axis];return!je(p[n.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,n,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,n,p,c);break}}return u}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][n.axis],je(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=uz(W(this.options.clip,cz(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(n,o,l,c),d=l;d<l+c;++d){let h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,o))}for(d=0;d<a.length;++d)a[d].draw(n,o)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=mz(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=gz(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=n+"-"+i,l=o[a],c=this.enableOptionSharing&&Jo(r);if(l)return xT(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=s?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Be.elements[n]),g=()=>this.getContext(r,s,i),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,o[a]=Object.freeze(xT(m,c))),m}_resolveAnimations(n,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,i),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(n,r,i))}let u=new kf(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||Eb(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(n,i,r,s){Eb(s)?Object.assign(n,r):this._resolveAnimations(i,s).update(n,r)}updateSharedOptions(n,i,r){n&&!Eb(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,s){n.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,i,r=!0){let s=this._cachedMeta,o=s.data,a=n+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(o),l=n;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(n,i),r&&this.updateElements(o,n,i,"reset")}updateElements(n,i,r,s){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(n,i);r._stacked&&sc(r,s)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,s]=n;this[i](r,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function vz(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=ib(i.sort((r,s)=>r-s))}return t._cache.$bar}function _z(t){let e=t.iScale,n=vz(e,t.type),i=e._length,r,s,o,a,l=()=>{o===32767||o===-32768||(Jo(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function bz(t,e,n,i){let r=n.barThickness,s,o;return ae(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function Cz(t,e,n,i){let r=e.pixels,s=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function wz(t,e,n,i){let r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s),l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function CA(t,e,n,i){return Te(t)?wz(t,e,n,i):e[n.axis]=n.parse(t,i),e}function IT(t,e,n,i){let r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[],c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(CA(h,d,s,c));return l}function xb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Dz(t,e,n){return t!==0?Tn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Ez(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function xz(t,e,n,i){let r=e.borderSkipped,s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:c,bottom:u}=Ez(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[ST(u,o,a,l)]=!0,r=c)),s[ST(r,o,a,l)]=!0,t.borderSkipped=s}function ST(t,e,n,i){return i?(t=Iz(t,e,n),t=MT(t,n,e)):t=MT(t,e,n),t}function Iz(t,e,n){return t===e?n:t===n?e:t}function MT(t,e,n){return t==="start"?e:t==="end"?n:t}function Sz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var Mz=(()=>{class t extends Ir{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,s){return IT(n,i,r,s)}parseArrayData(n,i,r,s){return IT(n,i,r,s)}parseObjectData(n,i,r,s){let{iScale:o,vScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=o.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[],f,p,g,m;for(f=r,p=r+s;f<p;++f)m=i[f],g={},g[o.axis]=o.parse(Ai(m,u),f),h.push(CA(Ai(m,d),g,a,f));return h}updateRangeFromParsed(n,i,r,s){super.updateRangeFromParsed(n,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(n),a=o._custom,l=xb(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s);for(let p=i;p<i+r;p++){let g=this.getParsed(p),m=o||ae(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],_={horizontal:u,base:m.base,enableBorderRadius:!v||xb(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(_.options=h||this.resolveDataElementOptions(p,n[p].active?"active":s));let C=_.options||n[p].options;xz(_,C,v,a),Sz(_,C,d.ratio),this.updateElement(n[p],p,_,s)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=r.options.stacked,a=[],l=c=>{let u=c.controller.getParsed(i),d=u&&u[c.vScale.axis];if(ae(d)||isNaN(d))return!0};for(let c of s)if(!(i!==void 0&&l(c))&&((o===!1||a.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let s=this._getStacks(n,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let l=n.barThickness;return{min:l||_z(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:l?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(n),u=c._custom,d=xb(u),h=c[i.axis],f=0,p=r?this.applyStack(i,c,r):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Tn(h)!==Tn(u.barEnd)&&(f=0),f+=h);let y=!ae(o)&&!d?o:f,v=i.getPixelForValue(y);if(this.chart.getDataVisibility(n)?g=i.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=Dz(m,i,l)*a,h===l&&(v-=m/2);let _=i.getPixelForDecimal(0),C=i.getPixelForDecimal(1),b=Math.min(_,C),D=Math.max(_,C);v=Math.max(Math.min(v,D),b),g=v+m,r&&!d&&(c._stacks[i.axis]._visualValues[s]=i.getValueForPixel(g)-i.getValueForPixel(v))}if(v===i.getPixelForValue(l)){let _=Tn(m)*i.getLineWidthForValue(l)/2;v+=_,m-=_}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(n,i){let r=i.scale,s=this.options,o=s.skipNull,a=W(s.maxBarThickness,1/0),l,c;if(i.grouped){let u=o?this._getStackCount(n):i.stackCount,d=s.barThickness==="flex"?Cz(n,i,s,u):bz(n,i,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(n)[r.axis],n),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&r[o].draw(this._ctx)}}return t})(),Tz=(()=>{class t extends Ir{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,s){let o=super.parsePrimitiveData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,i,r,s){let o=super.parseArrayData(n,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=W(l[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,i,r,s){let o=super.parseObjectData(n,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=W(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),u=a._custom;return{label:r[n]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,s),d=a.axis,h=l.axis;for(let f=i;f<i+r;f++){let p=n[f],g=!o&&this.getParsed(f),m={},y=m[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=o?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":s),o&&(m.options.radius=0)),this.updateElement(p,f,m,s)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),s=super.resolveDataElementOptions(n,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=W(r&&r._custom,o),s}}return t})();function Az(t,e,n){let i=1,r=1,s=0,o=0;if(e<Pe){let a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(_,C,b)=>ta(_,a,l,!0)?1:Math.max(C,C*n,b,b*n),p=(_,C,b)=>ta(_,a,l,!0)?-1:Math.min(C,C*n,b,b*n),g=f(0,c,d),m=f($e,u,h),y=p(Ae,c,d),v=p(Ae+$e,u,h);i=(g-y)/2,r=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var Jb=(()=>{class t extends Ir{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=c=>+r[c];if(ie(r[n])){let{key:c="value"}=this._parsing;o=u=>+Ai(r[u],c)}let a,l;for(a=n,l=n+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return fn(this.options.rotation-90)}_getCircumference(){return fn(this.options.circumference)}_getRotationExtents(){let n=Pe,i=-Pe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),i=Math.max(i,o+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(WM(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=Az(h,d,c),y=(r.width-a)/f,v=(r.height-a)/p,_=Math.max(Math.min(y,v)/2,0),C=Q_(this.options.radius,_),b=Math.max(C*c,0),D=(C-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=m*C,s.total=this.calculateTotal(),this.outerRadius=C-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Pe)}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(i,s),v=this._getRotation(),_;for(_=0;_<i;++_)v+=this._circumference(_,o);for(_=i;_<i+r;++_){let C=this._circumference(_,o),b=n[_],D={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+C,circumference:C,outerRadius:g,innerRadius:p};y&&(D.options=m||this.resolveDataElementOptions(_,b.active?"active":s)),v+=C,this.updateElement(b,_,D,s)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,s;for(s=0;s<i.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Pe*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=na(i._parsed[n],r.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let i=0,r=this.chart,s,o,a,l,c;if(!n){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),n=a.data,l=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,s=n.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(W(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),Pz=(()=>{class t extends Ir{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:l,count:c}=ob(i,s,a);this._drawStart=l,this._drawCount=c,ab(i)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(s,l,c,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(i,s),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=_s(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none",_=i+r,C=n.length,b=i>0&&this.getParsed(i-1);for(let D=0;D<C;++D){let T=n[D],M=v?T:{};if(D<i||D>=_){M.skip=!0;continue}let k=this.getParsed(D),G=ae(k[p]),Y=M[f]=a.getPixelForValue(k[f],D),re=M[p]=o||G?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[p],D);M.skip=isNaN(Y)||isNaN(re)||G,M.stop=D>0&&Math.abs(k[f]-b[f])>y,m&&(M.parsed=k,M.raw=u.data[D]),h&&(M.options=d||this.resolveDataElementOptions(D,T.active?"active":s)),v||this.updateElement(T,D,M,s),b=k}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,s=n.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),wA=(()=>{class t extends Ir{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=na(i._parsed[n].r,r.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,i,r,s){return mb.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),l=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Ae,p=f,g,m=360/this.countVisibleElements();for(g=0;g<i;++g)p+=this._computeAngle(g,s,m);for(g=i;g<i+r;g++){let y=n[g],v=p,_=p+this._computeAngle(g,s,m),C=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=_,o&&(c.animateScale&&(C=0),c.animateRotate&&(v=_=f));let b={x:d,y:h,innerRadius:0,outerRadius:C,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,y.active?"active":s)};this.updateElement(y,g,b,s)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?fn(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),Nz=(()=>{class t extends Jb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),Rz=(()=>{class t extends Ir{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,s){return mb.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,l,n)}this.updateElements(s,0,s.length,n)}updateElements(n,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let l=i;l<i+r;l++){let c=n[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=o.getPointPositionForValue(l,this.getParsed(l).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,s)}}}return t})(),kz=(()=>{class t extends Ir{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:r[n]||"",value:"("+l+", "+c+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=ob(i,r,s);if(this._drawStart=o,this._drawCount=a,ab(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(i,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,v=_s(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||s==="none",C=i>0&&this.getParsed(i-1);for(let b=i;b<i+r;++b){let D=n[b],T=this.getParsed(b),M=_?D:{},k=ae(T[g]),G=M[p]=a.getPixelForValue(T[p],b),Y=M[g]=o||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[g],b);M.skip=isNaN(G)||isNaN(Y)||k,M.stop=b>0&&Math.abs(T[p]-C[p])>v,y&&(M.parsed=T,M.raw=u.data[b]),f&&(M.options=h||this.resolveDataElementOptions(b,D.active?"active":s)),_||this.updateElement(D,b,M,s),C=T}this.updateSharedOptions(h,s,d)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=n.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return t})(),Oz=Object.freeze({__proto__:null,BarController:Mz,BubbleController:Tz,DoughnutController:Jb,LineController:Pz,PieController:Nz,PolarAreaController:wA,RadarController:Rz,ScatterController:kz});function Cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var kb=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Cs()}parse(){return Cs()}format(){return Cs()}add(){return Cs()}diff(){return Cs()}startOf(){return Cs()}endOf(){return Cs()}},Fz={_date:kb};function Lz(t,e,n,i){let{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?ZM:Zn;if(i){if(r._sharedOptions){let c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){let d=l(s,e,n-u),h=l(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function gc(t,e,n,i,r){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){let{index:c,data:u}=s[a],{lo:d,hi:h}=Lz(s[a],e,o,r);for(let f=d;f<=h;++f){let p=u[f];p.skip||i(p,c,f)}}}function Vz(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ib(t,e,n,i,r){let s=[];return!r&&!t.isPointInArea(e)||gc(t,n,e,function(a,l,c){!r&&!Xn(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function jz(t,e,n,i){let r=[];function s(o,a,l){let{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=tb(o,{x:e.x,y:e.y});ta(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return gc(t,n,e,s),r}function Bz(t,e,n,i,r,s){let o=[],a=Vz(n),l=Number.POSITIVE_INFINITY;function c(u,d,h){let f=u.inRange(e.x,e.y,r);if(i&&!f)return;let p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;let m=a(e,p);m<l?(o=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:h})}return gc(t,n,e,c),o}function Sb(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?jz(t,e,n,r):Bz(t,e,n,i,r,s)}function TT(t,e,n,i,r){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return gc(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var Uz={evaluateInteractionItems:gc,modes:{index(t,e,n,i){let r=Er(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ib(t,r,s,i,o):Sb(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){let r=Er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?Ib(t,r,s,i,o):Sb(t,r,s,!1,i,o);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){let r=Er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Ib(t,r,s,i,o)},nearest(t,e,n,i){let r=Er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Sb(t,r,s,n.intersect,i,o)},x(t,e,n,i){let r=Er(e,t);return TT(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=Er(e,t);return TT(t,r,"y",n.intersect,i)}}},DA=["left","top","right","bottom"];function oc(t,e){return t.filter(n=>n.pos===e)}function AT(t,e){return t.filter(n=>DA.indexOf(n.pos)===-1&&n.box.axis===e)}function ac(t,e){return t.sort((n,i)=>{let r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $z(t){let e=[],n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function Hz(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:s}=n;if(!i||!DA.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function zz(t,e){let n=Hz(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function Wz(t){let e=$z(t),n=ac(e.filter(c=>c.box.fullSize),!0),i=ac(oc(e,"left"),!0),r=ac(oc(e,"right")),s=ac(oc(e,"top"),!0),o=ac(oc(e,"bottom")),a=AT(e,"x"),l=AT(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:oc(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function PT(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function EA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Gz(t,e,n,i){let{pos:r,box:s}=n,o=t.maxPadding;if(!ie(r)){n.size&&(t[r]-=n.size);let d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&EA(o,s.getPadding());let a=Math.max(0,e.outerWidth-PT(o,t,"left","right")),l=Math.max(0,e.outerHeight-PT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function qz(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Yz(t,e){let n=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function uc(t,e,n,i){let r=[],s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Yz(a.horizontal,e));let{same:d,other:h}=Gz(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&uc(r,e,n,i)||u}function xf(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function NT(t,e,n,i){let r=n.padding,{x:s,y:o}=e;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=e.w*u,h=c.size||l.height;Jo(c.start)&&(o=c.start),l.fullSize?xf(l,r.left,o,n.outerWidth-r.right-r.left,h):xf(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{let d=e.h*u,h=c.size||l.width;Jo(c.start)&&(s=c.start),l.fullSize?xf(l,s,r.top,h,n.outerHeight-r.bottom-r.top):xf(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var wt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=ft(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=Wz(t.boxes),l=a.vertical,c=a.horizontal;ye(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);EA(h,ft(i));let f=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),p=zz(l.concat(c),d);uc(a.fullSize,f,d,p),uc(l,f,d,p),uc(c,f,d,p)&&uc(l,f,d,p),qz(f),NT(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,NT(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ye(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Of=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},Ob=class extends Of{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Nf="$chartjs",Kz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RT=t=>t===null||t==="";function Qz(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Nf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",RT(r)){let s=vb(t,"width");s!==void 0&&(t.width=s)}if(RT(i))if(t.style.height==="")t.height=t.width/(e||2);else{let s=vb(t,"height");s!==void 0&&(t.height=s)}return t}var xA=pT?{passive:!0}:!1;function Zz(t,e,n){t&&t.addEventListener(e,n,xA)}function Xz(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xA)}function Jz(t,e){let n=Kz[t.type]||t.type,{x:i,y:r}=Er(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ff(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function eW(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Ff(a.addedNodes,i),o=o&&!Ff(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function tW(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Ff(a.removedNodes,i),o=o&&!Ff(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var hc=new Map,kT=0;function IA(){let t=window.devicePixelRatio;t!==kT&&(kT=t,hc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function nW(t,e){hc.size||window.addEventListener("resize",IA),hc.set(t,e)}function iW(t){hc.delete(t),hc.size||window.removeEventListener("resize",IA)}function rW(t,e,n){let i=t.canvas,r=i&&Df(i);if(!r)return;let s=sb((a,l)=>{let c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),nW(t,s),o}function Mb(t,e,n){n&&n.disconnect(),e==="resize"&&iW(t)}function sW(t,e,n){let i=t.canvas,r=sb(s=>{t.ctx!==null&&n(Jz(s,t))},t);return Zz(i,e,r),r}var Fb=class extends Of{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Qz(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[Nf])return!1;let i=n[Nf].initial;["height","width"].forEach(s=>{let o=i[s];ae(o)?n.removeAttribute(s):n.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Nf],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),o={attach:eW,detach:tW,resize:rW}[n]||sW;r[n]=o(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Mb,detach:Mb,resize:Mb}[n]||Xz)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return fT(e,n,i,r)}isAttached(e){let n=Df(e);return!!(n&&n.isConnected)}};function oW(t){return!wf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ob:Fb}var An=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return _s(this.x)&&_s(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function aW(t,e){let n=t.options.ticks,i=lW(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?uW(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return dW(e,c,s,o/r),c;let u=cW(s,e,r);if(o>0){let d,h,f=o>1?Math.round((l-a)/(o-1)):null;for(If(e,c,u,ae(f)?0:a-f,a),d=0,h=o-1;d<h;d++)If(e,c,u,s[d],s[d+1]);return If(e,c,u,l,ae(f)?e.length:l+f),c}return If(e,c,u),c}function lW(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function cW(t,e,n){let i=hW(t),r=e.length/n;if(!i)return Math.max(r,1);let s=YM(i);for(let o=0,a=s.length-1;o<a;o++){let l=s[o];if(l>r)return l}return Math.max(r,1)}function uW(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function dW(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function If(t,e,n,i,r){let s=W(i,0),o=Math.min(W(r,t.length),t.length),a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function hW(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var fW=t=>t==="left"?"right":t==="right"?"left":t,OT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,FT=(t,e)=>Math.min(e||t,t);function LT(t,e){let n=[],i=t.length/e,r=t.length,s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function pW(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function gW(t,e){ye(t,n=>{let i=n.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function lc(t){return t.drawTicks?t.tickLength:0}function VT(t,e){if(!t.display)return 0;let n=Je(t.font,e),i=ft(t.padding);return(Te(t.text)?t.text.length:1)*n.lineHeight+i.height}function mW(t,e){return Pi(t,{scale:e,type:"scale"})}function yW(t,e,n){return Pi(t,{tick:n,index:e,type:"tick"})}function vW(t,e,n){let i=yf(t);return(n&&e!=="right"||!n&&e==="right")&&(i=fW(i)),i}function _W(t,e,n,i){let{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l,d=0,h,f,p,g=o-r,m=a-s;if(t.isHorizontal()){if(f=ht(i,s,a),ie(n)){let y=Object.keys(n)[0],v=n[y];p=u[y].getPixelForValue(v)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=OT(t,n,e);h=a-s}else{if(ie(n)){let y=Object.keys(n)[0],v=n[y];f=u[y].getPixelForValue(v)-m+e}else n==="center"?f=(c.left+c.right)/2-m+e:f=OT(t,n,e);p=ht(i,o,r),d=n==="left"?-$e:$e}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Ds=class t extends An{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=jt(e,Number.POSITIVE_INFINITY),n=jt(n,Number.NEGATIVE_INFINITY),i=jt(i,Number.POSITIVE_INFINITY),r=jt(r,Number.NEGATIVE_INFINITY),{min:jt(e,i),max:jt(n,r),minDefined:je(e),maxDefined:je(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:jt(n,jt(i,n)),max:jt(i,jt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=aT(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?LT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=xe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=FT(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation,o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=nt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-lc(e.grid)-n.padding-VT(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=gf(Math.min(Math.asin(nt((u.highest.height+6)/a,-1,1)),Math.asin(nt(l/c,-1,1))-Math.asin(nt(h/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=VT(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=lc(s)+l):(e.height=this.maxHeight,e.width=lc(s)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=fn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=i.mirror?0:m*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{let y=i.mirror?0:g*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ae(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=LT(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/FT(n,i)),c=0,u=0,d,h,f,p,g,m,y,v,_,C,b;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,y=s[m]=s[m]||{data:{},gc:[]},v=g.lineHeight,_=C=0,!ae(p)&&!Te(p))_=ec(r,y.data,y.gc,_,p),C=v;else if(Te(p))for(h=0,f=p.length;h<f;++h)b=p[h],!ae(b)&&!Te(b)&&(_=ec(r,y.data,y.gc,_,b),C+=v);o.push(_),a.push(C),c=Math.max(_,c),u=Math.max(C,u)}gW(s,n);let D=o.indexOf(c),T=a.indexOf(u),M=k=>({width:o[k]||0,height:a[k]||0});return{first:M(0),last:M(n-1),widest:M(D),highest:M(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return QM(this._alignToPixels?Cr(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=yW(this.getContext(),e,i))}return this.$context||(this.$context=mW(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=fn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=lc(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(Re){return Cr(i,Re,g)},v,_,C,b,D,T,M,k,G,Y,re,lt;if(o==="top")v=y(this.bottom),T=this.bottom-h,k=v-m,Y=y(e.top)+m,lt=e.bottom;else if(o==="bottom")v=y(this.top),Y=e.top,lt=y(e.bottom)-m,T=v+m,k=this.top+h;else if(o==="left")v=y(this.right),D=this.right-h,M=v-m,G=y(e.left)+m,re=e.right;else if(o==="right")v=y(this.left),G=e.left,re=y(e.right)-m,D=v+m,M=this.left+h;else if(n==="x"){if(o==="center")v=y((e.top+e.bottom)/2+.5);else if(ie(o)){let Re=Object.keys(o)[0],He=o[Re];v=y(this.chart.scales[Re].getPixelForValue(He))}Y=e.top,lt=e.bottom,T=v+m,k=T+h}else if(n==="y"){if(o==="center")v=y((e.left+e.right)/2);else if(ie(o)){let Re=Object.keys(o)[0],He=o[Re];v=y(this.chart.scales[Re].getPixelForValue(He))}D=v-m,M=D-h,G=e.left,re=e.right}let $t=W(r.ticks.maxTicksLimit,d),ve=Math.max(1,Math.ceil(d/$t));for(_=0;_<d;_+=ve){let Re=this.getContext(_),He=s.setContext(Re),pn=a.setContext(Re),pt=He.lineWidth,Es=He.color,mc=pn.dash||[],xs=pn.dashOffset,la=He.tickWidth,Sr=He.tickColor,ca=He.tickBorderDash||[],Mr=He.tickBorderDashOffset;C=pW(this,_,l),C!==void 0&&(b=Cr(i,C,pt),c?D=M=G=re=b:T=k=Y=lt=b,f.push({tx1:D,ty1:T,tx2:M,ty2:k,x1:G,y1:Y,x2:re,y2:lt,width:pt,color:Es,borderDash:mc,borderDashOffset:xs,tickWidth:la,tickColor:Sr,tickBorderDash:ca,tickBorderDashOffset:Mr}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=lc(i.grid),f=h+u,p=d?-u:f,g=-fn(this.labelRotation),m=[],y,v,_,C,b,D,T,M,k,G,Y,re,lt="middle";if(r==="top")D=this.bottom-p,T=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+p,T=this._getXAxisLabelAlignment();else if(r==="left"){let ve=this._getYAxisLabelAlignment(h);T=ve.textAlign,b=ve.x}else if(r==="right"){let ve=this._getYAxisLabelAlignment(h);T=ve.textAlign,b=ve.x}else if(n==="x"){if(r==="center")D=(e.top+e.bottom)/2+f;else if(ie(r)){let ve=Object.keys(r)[0],Re=r[ve];D=this.chart.scales[ve].getPixelForValue(Re)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")b=(e.left+e.right)/2-f;else if(ie(r)){let ve=Object.keys(r)[0],Re=r[ve];b=this.chart.scales[ve].getPixelForValue(Re)}T=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?lt="top":l==="end"&&(lt="bottom"));let $t=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){_=a[y],C=_.label;let ve=s.setContext(this.getContext(y));M=this.getPixelForTick(y)+s.labelOffset,k=this._resolveTickFontOptions(y),G=k.lineHeight,Y=Te(C)?C.length:1;let Re=Y/2,He=ve.color,pn=ve.textStrokeColor,pt=ve.textStrokeWidth,Es=T;o?(b=M,T==="inner"&&(y===v-1?Es=this.options.reverse?"left":"right":y===0?Es=this.options.reverse?"right":"left":Es="center"),r==="top"?c==="near"||g!==0?re=-Y*G+G/2:c==="center"?re=-$t.highest.height/2-Re*G+G:re=-$t.highest.height+G/2:c==="near"||g!==0?re=G/2:c==="center"?re=$t.highest.height/2-Re*G:re=$t.highest.height-Y*G,d&&(re*=-1),g!==0&&!ve.showLabelBackdrop&&(b+=G/2*Math.sin(g))):(D=M,re=(1-Y)*G/2);let mc;if(ve.showLabelBackdrop){let xs=ft(ve.backdropPadding),la=$t.heights[y],Sr=$t.widths[y],ca=re-xs.top,Mr=0-xs.left;switch(lt){case"middle":ca-=la/2;break;case"bottom":ca-=la;break}switch(T){case"center":Mr-=Sr/2;break;case"right":Mr-=Sr;break;case"inner":y===v-1?Mr-=Sr:y>0&&(Mr-=Sr/2);break}mc={left:Mr,top:ca,width:Sr+xs.width,height:la+xs.height,color:ve.backdropColor}}m.push({label:C,font:k,textOffset:re,options:{rotation:g,color:He,strokeColor:pn,strokeWidth:pt,textAlign:Es,textBaseline:lt,translation:[b,D],backdrop:mc}})}return m}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-fn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width,c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){let l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,h;this.isHorizontal()?(c=Cr(e,this.left,o)-o/2,u=Cr(e,this.right,a)+a/2,d=h=l):(d=Cr(e,this.top,o)-o/2,h=Cr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&ic(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,l=o.font,c=o.label,u=o.textOffset;wr(i,c,0,u,l,a)}r&&rc(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let s=Je(i.font),o=ft(i.padding),a=i.align,l=s.lineHeight/2;n==="bottom"||n==="center"||ie(n)?(l+=o.bottom,Te(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=_W(this,l,n,a);wr(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:vW(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=W(e.grid&&e.grid.z,-1),r=W(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return Je(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},oa=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;wW(n)&&(i=this.register(n));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,bW(e,o,i),this.override&&Be.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Be[r]&&(delete Be[r][i],this.override&&delete br[i])}};function bW(t,e,n){let i=Qo(Object.create(null),[n?Be.get(n):{},Be.get(e),t.defaults]);Be.set(e,i),t.defaultRoutes&&CW(e,t.defaultRoutes),t.descriptors&&Be.describe(e,t.descriptors)}function CW(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Be.route(s,r,l,a)})}function wW(t){return"id"in t&&"defaults"in t}var Lb=class{constructor(){this.controllers=new oa(Ir,"datasets",!0),this.elements=new oa(An,"elements"),this.plugins=new oa(Object,"plugins"),this.scales=new oa(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ye(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){let r=pf(e);xe(i["before"+r],[],i),n[e](i),xe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},ni=new Lb,Vb=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],l=[n,r,s.options];if(xe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=W(i.options&&i.options.plugins,{}),s=DW(i);return r===!1&&!n?[]:xW(e,s,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function DW(t){let e={},n=[],i=Object.keys(ni.plugins.items);for(let s=0;s<i.length;s++)n.push(ni.getPlugin(i[s]));let r=t.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function EW(t,e){return!e&&t===!1?null:t===!0?{}:t}function xW(t,{plugins:e,localIds:n},i,r){let s=[],o=t.getContext();for(let a of e){let l=a.id,c=EW(i[l],r);c!==null&&s.push({plugin:a,options:IW(t.config,{plugin:a,local:n[l]},c,o)})}return s}function IW(t,{plugin:e,local:n},i,r){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jb(t,e){let n=Be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function SW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function MW(t,e){return t===e?"_index_":"_value_"}function jT(t){if(t==="x"||t==="y"||t==="r")return t}function TW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Bb(t,...e){if(jT(t))return t;for(let n of e){let i=n.axis||TW(n.position)||t.length>1&&jT(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function BT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AW(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return BT(t,"x",n[0])||BT(t,"y",n[0])}return{}}function PW(t,e){let n=br[t.type]||{scales:{}},i=e.scales||{},r=jb(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!ie(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Bb(o,a,AW(o,t),Be.scales[a.type]),c=MW(l,r),u=n.scales||{};s[o]=Xo(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,l=o.indexAxis||jb(a,e),u=(br[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=SW(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Xo(s[f],[{axis:h},i[f],u[d]])})}),Object.keys(s).forEach(o=>{let a=s[o];Xo(a,[Be.scales[a.type],Be.scale])}),s}function SA(t){let e=t.options||(t.options={});e.plugins=W(e.plugins,{}),e.scales=PW(t,e)}function MA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function NW(t){return t=t||{},t.data=MA(t.data),SA(t),t}var UT=new Map,TA=new Set;function Sf(t,e){let n=UT.get(t);return n||(n=e(),UT.set(t,n),TA.add(n)),n}var cc=(t,e,n)=>{let i=Ai(e,n);i!==void 0&&t.add(i)},Ub=class{constructor(e){this._config=NW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=MA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),SA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Sf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Sf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return Sf(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;let l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>cc(l,e,d))),u.forEach(d=>cc(l,r,d)),u.forEach(d=>cc(l,br[s]||{},d)),u.forEach(d=>cc(l,Be,d)),u.forEach(d=>cc(l,vf,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),TA.has(n)&&o.set(n,c),c}chartOptionScopes(){let{options:e,type:n}=this;return[e,br[n]||{},Be.datasets[n]||{},{type:n},Be,vf]}resolveNamedOptions(e,n,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=$T(this._resolverCache,e,r),l=o;if(kW(o,n)){s.$shared=!1,i=Mi(i)?i():i;let c=this.createResolver(e,i,a);l=vs(o,i,c)}for(let c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){let{resolver:s}=$T(this._resolverCache,e,i);return ie(n)?vs(s,n,void 0,r):s}};function $T(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),s=i.get(r);return s||(s={resolver:Cf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var RW=t=>ie(t)&&Object.getOwnPropertyNames(t).some(e=>Mi(t[e]));function kW(t,e){let{isScriptable:n,isIndexable:i}=fb(t);for(let r of e){let s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Mi(a)||RW(a))||o&&Te(a))return!0}return!1}var OW="4.4.2",FW=["top","bottom","left","right","chartArea"];function HT(t,e){return t==="top"||t==="bottom"||FW.indexOf(t)===-1&&e==="x"}function zT(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function WT(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function LW(t){let e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function AA(t){return wf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Rf={},GT=t=>{let e=AA(t);return Object.values(Rf).filter(n=>n.canvas===e).pop()};function VW(t,e,n){let i=Object.keys(t);for(let r of i){let s=+r;if(s>=e){let o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function jW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Mf(t,e,n){return t.options.clip?t[n]:e[n]}function BW(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:Mf(n,e,"left"),right:Mf(n,e,"right"),top:Mf(i,e,"top"),bottom:Mf(i,e,"bottom")}:e}var Bf=(()=>{class t{static defaults=Be;static instances=Rf;static overrides=br;static registry=ni;static version=OW;static getChart=GT;static register(...n){ni.add(...n),qT()}static unregister(...n){ni.remove(...n),qT()}constructor(n,i){let r=this.config=new Ub(i),s=AA(n),o=GT(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oW(s)),this.platform.updateConfig(r);let l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=zM(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tT(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Rf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ni.listen(this,"complete",WT),Ni.listen(this,"progress",LW),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ae(n)?i&&o?o:s?r/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return ni}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ub(this.canvas,this.ctx),this}stop(){return Ni.stop(this),this}resize(n,i){Ni.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,i,o),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yb(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),xe(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};ye(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let l=i[a],c=Bb(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ye(o,a=>{let l=a.options,c=l.id,u=Bb(c,l),d=W(l.type,a.dtype);(l.position===void 0||HT(l.position,u)!==HT(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{let f=ni.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,n)}),ye(s,(a,l)=>{a||delete r[l]}),ye(r,a=>{wt.configure(this,a,a.options),wt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(zT("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=o.indexAxis||jb(l,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=ni.getController(l),{datasetElementType:u,dataElementType:d}=Be.datasets[l];Object.assign(c,{dataElementType:ni.getElement(d),datasetElementType:u&&ni.getElement(u)}),a.controller=new c(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){ye(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ye(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(zT("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ye(this.scales,n=>{wt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!Z_(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;VW(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!Z_(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],ye(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Mi(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),s={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ni.has(this)?this.attached&&!Ni.running(this)&&Ni.start(this):(this.draw(),WT({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,s=!r.disabled,o=BW(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&ic(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),s&&rc(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return Xn(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,s){let o=Uz.modes[i];return typeof o=="function"?o(this,n,r,s):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);Jo(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(l=>l.datasetIndex===n?s:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),Ni.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),ub(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Rf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),n[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};ye(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),n[c]=u},s=(c,u)=>{n[c]&&(i.removeEventListener(this,c,u),delete n[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){ye(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},ye(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let s=r?"set":"remove",o,a,l,c;for(i==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!tc(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(i,n),l=r?n:o(n,i);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:s=[],options:o}=this,a=i,l=this._getActiveElements(n,s,r,a),c=qM(n),u=jW(n,this._lastEvent,r,c);r&&(this._lastEvent=null,xe(o.onHover,[n,l,this],this),c&&xe(o.onClick,[n,l,this],this));let d=!tc(l,s);return(d||i)&&(this._active=l,this._updateHoverStyles(l,s,i)),this._lastEvent=u,d}_getActiveElements(n,i,r,s){if(n.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function qT(){return ye(Bf.instances,t=>t._plugins.invalidate())}function UW(t,e,n){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+$e,i-$e),t.closePath(),t.clip()}function $W(t){return bf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function HW(t,e,n,i){let r=$W(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{let c=(n-Math.min(s,l))*i/2;return nt(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:nt(r.innerStart,0,o),innerEnd:nt(r.innerEnd,0,o)}}function sa(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Lf(t,e,n,i,r,s){let{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0,f=0,p=r-l;if(i){let ve=u>0?u-i:0,Re=d>0?d-i:0,He=(ve+Re)/2,pn=He!==0?p*He/(He+i):p;f=(p-pn)/2}let g=Math.max(.001,p*d-n/Ae)/d,m=(p-g)/2,y=l+m+f,v=r-m-f,{outerStart:_,outerEnd:C,innerStart:b,innerEnd:D}=HW(e,h,d,v-y),T=d-_,M=d-C,k=y+_/T,G=v-C/M,Y=h+b,re=h+D,lt=y+b/Y,$t=v-D/re;if(t.beginPath(),s){let ve=(k+G)/2;if(t.arc(o,a,d,k,ve),t.arc(o,a,d,ve,G),C>0){let pt=sa(M,G,o,a);t.arc(pt.x,pt.y,C,G,v+$e)}let Re=sa(re,v,o,a);if(t.lineTo(Re.x,Re.y),D>0){let pt=sa(re,$t,o,a);t.arc(pt.x,pt.y,D,v+$e,$t+Math.PI)}let He=(v-D/h+(y+b/h))/2;if(t.arc(o,a,h,v-D/h,He,!0),t.arc(o,a,h,He,y+b/h,!0),b>0){let pt=sa(Y,lt,o,a);t.arc(pt.x,pt.y,b,lt+Math.PI,y-$e)}let pn=sa(T,y,o,a);if(t.lineTo(pn.x,pn.y),_>0){let pt=sa(T,k,o,a);t.arc(pt.x,pt.y,_,y-$e,k)}}else{t.moveTo(o,a);let ve=Math.cos(k)*d+o,Re=Math.sin(k)*d+a;t.lineTo(ve,Re);let He=Math.cos(G)*d+o,pn=Math.sin(G)*d+a;t.lineTo(He,pn)}t.closePath()}function zW(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,l=e.endAngle;if(s){Lf(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Pe||Pe))}return Lf(t,e,n,i,l,r),t.fill(),l}function WW(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){Lf(t,e,n,i,p,r);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%Pe||Pe))}f&&UW(t,e,p),s||(Lf(t,e,n,i,p,r),t.stroke())}var $b=class extends An{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=tb(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,p=W(d,l-a)>=Pe||ta(s,a,l),g=ei(o,c+h,u+h);return p&&g}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Pe?Math.floor(i/Pe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Ae,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,zW(e,this,c,s,o),WW(e,this,c,s,o),e.restore()}};function PA(t,e,n=e){t.lineCap=W(n.borderCapStyle,e.borderCapStyle),t.setLineDash(W(n.borderDash,e.borderDash)),t.lineDashOffset=W(n.borderDashOffset,e.borderDashOffset),t.lineJoin=W(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=W(n.borderWidth,e.borderWidth),t.strokeStyle=W(n.borderColor,e.borderColor)}function GW(t,e,n){t.lineTo(n.x,n.y)}function qW(t){return t.stepped?sT:t.tension||t.cubicInterpolationMode==="monotone"?oT:GW}function NA(t,e,n={}){let i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function YW(t,e,n,i){let{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=NA(r,n,i),u=qW(s),{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,s.stepped),g=p);return l&&(p=r[(a+(h?c:0))%o],u(t,g,p,h,s.stepped)),!!l}function KW(t,e,n,i){let r=e.points,{count:s,start:o,ilen:a}=NA(r,n,i),{move:l=!0,reverse:c}=i||{},u=0,d=0,h,f,p,g,m,y,v=C=>(o+(c?a-C:C))%s,_=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[v(h)],f.skip)continue;let C=f.x,b=f.y,D=C|0;D===p?(b<g?g=b:b>m&&(m=b),u=(d*u+C)/++d):(_(),t.lineTo(C,b),p=D,d=0,g=m=b),y=b}_()}function Hb(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?KW:YW}function QW(t){return t.stepped?gT:t.tension||t.cubicInterpolationMode==="monotone"?mT:_r}function ZW(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),PA(t,e.options),t.stroke(r)}function XW(t,e,n,i){let{segments:r,options:s}=e,o=Hb(e);for(let a of r)PA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var JW=typeof Path2D=="function";function e3(t,e,n,i){JW&&!e.options.segment?ZW(t,e,n,i):XW(t,e,n,i)}var Uf=(()=>{class t extends An{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;hT(this._points,r,n,s,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vT(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,s=n[i],o=this.points,a=wb(this,{property:i,start:s,end:s});if(!a.length)return;let l=[],c=QW(r),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=o[h],g=o[f];if(p===g){l.push(p);continue}let m=Math.abs((s-p[i])/(g[i]-p[i])),y=c(p,g,m,r.stepped);y[i]=n[i],l.push(y)}return l.length===1?l[0]:l}pathSegment(n,i,r){return Hb(this)(n,this,i,r)}path(n,i,r){let s=this.segments,o=Hb(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of s)a&=o(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),e3(n,this,r,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function YT(t,e,n,i){let r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}var t3=(()=>{class t extends An{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return YT(this,n,"x",i)}inYRange(n,i){return YT(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!Xn(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,_f(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function RA(t,e){let{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function xr(t,e,n,i){return t?0:nt(e,n,i)}function n3(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,s=hb(i);return{t:xr(r.top,s.top,0,n),r:xr(r.right,s.right,0,e),b:xr(r.bottom,s.bottom,0,n),l:xr(r.left,s.left,0,e)}}function i3(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Dr(r),o=Math.min(e,n),a=t.borderSkipped,l=i||ie(r);return{topLeft:xr(!l||a.top||a.left,s.topLeft,0,o),topRight:xr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:xr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:xr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function r3(t){let e=RA(t),n=e.right-e.left,i=e.bottom-e.top,r=n3(t,n/2,i/2),s=i3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Tb(t,e,n,i){let r=e===null,s=n===null,a=t&&!(r&&s)&&RA(t,i);return a&&(r||ei(e,a.left,a.right))&&(s||ei(n,a.top,a.bottom))}function s3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function o3(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ab(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var zb=class extends An{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=r3(this),a=s3(o.radius)?ia:o3;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Ab(o,n,s)),e.clip(),a(e,Ab(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Ab(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Tb(this,e,n,i)}inXRange(e,n){return Tb(this,e,null,n)}inYRange(e,n){return Tb(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},a3=Object.freeze({__proto__:null,ArcElement:$b,BarElement:zb,LineElement:Uf,PointElement:t3}),Wb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],KT=Wb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function kA(t){return Wb[t%Wb.length]}function OA(t){return KT[t%KT.length]}function l3(t,e){return t.borderColor=kA(e),t.backgroundColor=OA(e),++e}function c3(t,e){return t.backgroundColor=t.data.map(()=>kA(e++)),e}function u3(t,e){return t.backgroundColor=t.data.map(()=>OA(e++)),e}function d3(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof Jb?e=c3(n,e):r instanceof wA?e=u3(n,e):r&&(e=l3(n,e))}}function QT(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function h3(t){return t&&(t.borderColor||t.backgroundColor)}var f3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(QT(i)||h3(r)||s&&QT(s)))return;let o=d3(t);i.forEach(o)}};function p3(t,e,n,i,r){let s=r.samples||i;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),l=0,c=e+n-1,u=e,d,h,f,p,g;for(o[l++]=t[u],d=0;d<s-2;d++){let m=0,y=0,v,_=Math.floor((d+1)*a)+1+e,C=Math.min(Math.floor((d+2)*a)+1,n)+e,b=C-_;for(v=_;v<C;v++)m+=t[v].x,y+=t[v].y;m/=b,y/=b;let D=Math.floor(d*a)+1+e,T=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:M,y:k}=t[u];for(f=p=-1,v=D;v<T;v++)p=.5*Math.abs((M-m)*(t[v].y-k)-(M-t[v].x)*(y-k)),p>f&&(f=p,h=t[v],g=v);o[l++]=h,u=g}return o[l++]=t[c],o}function g3(t,e,n,i){let r=0,s=0,o,a,l,c,u,d,h,f,p,g,m=[],y=e+n-1,v=t[e].x,C=t[y].x-v;for(o=e;o<e+n;++o){a=t[o],l=(a.x-v)/C*i,c=a.y;let b=l|0;if(b===u)c<p?(p=c,d=o):c>g&&(g=c,h=o),r=(s*r+a.x)/++s;else{let D=o-1;if(!ae(d)&&!ae(h)){let T=Math.min(d,h),M=Math.max(d,h);T!==f&&T!==D&&m.push(le(P({},t[T]),{x:r})),M!==f&&M!==D&&m.push(le(P({},t[M]),{x:r}))}o>0&&D!==f&&m.push(t[D]),m.push(a),u=b,s=0,p=g=c,d=h=f=o}}return m}function FA(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ZT(t){t.data.datasets.forEach(e=>{FA(e)})}function m3(t,e){let n=e.length,i=0,r,{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=nt(Zn(e,s.axis,o).lo,0,n-1)),c?r=nt(Zn(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var y3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){ZT(t);return}let i=t.width;t.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(ra([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=m3(l,c),f=n.threshold||4*i;if(h<=f){FA(r);return}ae(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=p3(c,d,h,i,n);break;case"min-max":p=g3(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){ZT(t)}};function v3(t,e,n){let i=t.segments,r=t.points,s=e.points,o=[];for(let a of i){let{start:l,end:c}=a;c=e0(l,c,r);let u=Gb(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}let d=wb(e,u);for(let h of d){let f=Gb(n,s[h.start],s[h.end],h.loop),p=Cb(a,r,f);for(let g of p)o.push({source:g,target:h,start:{[n]:XT(u,f,"start",Math.max)},end:{[n]:XT(u,f,"end",Math.min)}})}}return o}function Gb(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Vt(r),s=Vt(s)),{property:t,start:r,end:s}}function _3(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=e0(o,a,r);let l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function e0(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function XT(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function LA(t,e){let n=[],i=!1;return Te(t)?(i=!0,n=t):n=_3(t,e),n.length?new Uf({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function JT(t){return t&&t.fill!==!1}function b3(t,e,n){let r=t[e].fill,s=[e],o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!je(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function C3(t,e,n){let i=x3(t);if(ie(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return je(r)&&Math.floor(r)===r?w3(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function w3(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function D3(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ie(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function E3(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ie(t)?i=t.value:i=e.getBaseValue(),i}function x3(t){let e=t.options,n=e.fill,i=W(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function I3(t){let{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=S3(e,n);a.push(LA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){let c=s[l];for(let u=c.start;u<=c.end;u++)M3(r,o[u],a)}return new Uf({points:r,options:{}})}function S3(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function M3(t,e,n){let i=[];for(let r=0;r<n.length;r++){let s=n[r],{first:o,last:a,point:l}=T3(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function T3(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],s=t.segments,o=t.points,a=!1,l=!1;for(let c=0;c<s.length;c++){let u=s[c],d=o[u.start][n],h=o[u.end][n];if(ei(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}var Vf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Pe},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function A3(t){let{chart:e,fill:n,line:i}=t;if(je(n))return P3(e,n);if(n==="stack")return I3(t);if(n==="shape")return!0;let r=N3(t);return r instanceof Vf?r:LA(r,i)}function P3(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function N3(t){return(t.scale||{}).getPointPositionForValue?k3(t):R3(t)}function R3(t){let{scale:e={},fill:n}=t,i=D3(n,e);if(je(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function k3(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=E3(n,e,s),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,s);return new Vf({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Pb(t,e,n){let i=A3(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(ic(t,n),O3(t,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),rc(t))}function O3(t,e){let{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(eA(t,i,o.top),tA(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),eA(t,i,o.bottom)),tA(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function eA(t,e,n){let{segments:i,points:r}=e,s=!0,o=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],d=r[e0(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function tA(t,e){let{line:n,target:i,property:r,color:s,scale:o}=e,a=v3(n,i,r);for(let{source:l,target:c,start:u,end:d}of a){let{style:{backgroundColor:h=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,F3(t,o,f&&Gb(r,u,d)),t.beginPath();let p=!!n.pathSegment(t,l),g;if(f){p?t.closePath():nA(t,i,d,r);let m=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&m,g||nA(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function F3(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function nA(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var L3={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Uf&&(l={visible:t.isDatasetVisible(o),index:o,fill:C3(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=b3(r,o,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Pb(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;JT(s)&&Pb(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!JT(i)||n.drawTime!=="beforeDatasetDraw"||Pb(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},iA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},V3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,jf=class extends An{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=Je(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=iA(i,s),c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:r},c[c.length-1]+=m+a}),d}_fitCols(e,n,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:_}=j3(i,n,s,m,r);y>0&&f+_+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:v,height:_},h=Math.max(h,v),f+=_+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=bs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ht(i,this.left+r,this.right-this.lineWidths[a]);for(let c of n)a!==c.row&&(a=c.row,l=ht(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of n)c.col!==a&&(a=c.col,l=ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;ic(e,this),this._draw(),rc(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Be.color,l=bs(e.rtl,this.left,this.width),c=Je(o.font),{padding:u}=o,d=c.size,h=d/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=iA(o,d),y=function(D,T,M){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();let k=W(M.lineWidth,1);if(r.fillStyle=W(M.fillStyle,a),r.lineCap=W(M.lineCap,"butt"),r.lineDashOffset=W(M.lineDashOffset,0),r.lineJoin=W(M.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=W(M.strokeStyle,a),r.setLineDash(W(M.lineDash,[])),o.usePointStyle){let G={radius:g*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:k},Y=l.xPlus(D,p/2),re=T+h;db(r,G,Y,re,o.pointStyleWidth&&p)}else{let G=T+Math.max((d-g)/2,0),Y=l.leftForLtr(D,p),re=Dr(M.borderRadius);r.beginPath(),Object.values(re).some(lt=>lt!==0)?ia(r,{x:Y,y:G,w:p,h:g,radius:re}):r.rect(Y,G,p,g),r.fill(),k!==0&&r.stroke()}r.restore()},v=function(D,T,M){wr(r,M.text,D,T+m/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},_=this.isHorizontal(),C=this._computeTitleHeight();_?f={x:ht(s,this.left+u,this.right-i[0]),y:this.top+u+C,line:0}:f={x:this.left+u,y:ht(s,this.top+C+u,this.bottom-n[0].height),line:0},_b(this.ctx,e.textDirection);let b=m+u;this.legendItems.forEach((D,T)=>{r.strokeStyle=D.fontColor,r.fillStyle=D.fontColor;let M=r.measureText(D.text).width,k=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),G=p+h+M,Y=f.x,re=f.y;l.setWidth(this.width),_?T>0&&Y+G+u>this.right&&(re=f.y+=b,f.line++,Y=f.x=ht(s,this.left+u,this.right-i[f.line])):T>0&&re+b>this.bottom&&(Y=f.x=Y+n[f.line].width+u,f.line++,re=f.y=ht(s,this.top+C+u,this.bottom-n[f.line].height));let lt=l.x(Y);if(y(lt,re,D),Y=nT(k,Y+p+h,_?Y+G:this.right,e.rtl),v(l.x(Y),re,D),_)f.x+=G+u;else if(typeof D.text!="string"){let $t=c.lineHeight;f.y+=VA(D,$t)+u}else f.y+=b}),bb(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=Je(n.font),r=ft(n.padding);if(!n.display)return;let s=bs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=ht(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+ht(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=ht(a,d,d+h);o.textAlign=s.textAlign(yf(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,wr(o,n.text,f,u,i)}_computeTitleHeight(){let e=this.options.title,n=Je(e.font),i=ft(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ei(e,this.left,this.right)&&ei(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ei(e,r.left,r.left+r.width)&&ei(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!$3(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=V3(r,i);r&&!s&&xe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&xe(n.onHover,[e,i,this],this)}else i&&xe(n.onClick,[e,i,this],this)}};function j3(t,e,n,i,r){let s=B3(i,t,e,n),o=U3(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function B3(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function U3(t,e,n){let i=t;return typeof e.text!="string"&&(i=VA(e,n)),i}function VA(t,e){let n=t.text?t.text.length:0;return e*n}function $3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var H3={id:"legend",_element:jf,start(t,e,n){let i=t.legend=new jf({ctx:t.ctx,options:n,chart:t});wt.configure(t,i,n),wt.addBox(t,i)},stop(t){wt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;wt.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(n?0:void 0),u=ft(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},fc=class extends An{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Te(i.text)?i.text.length:1;this._padding=ft(i.padding);let s=r*Je(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align,l=0,c,u,d;return this.isHorizontal()?(u=ht(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=ht(a,r,n),l=Ae*-.5):(u=s-e,d=ht(a,n,r),l=Ae*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=Je(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);wr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:yf(n.align),textBaseline:"middle",translation:[o,a]})}};function z3(t,e){let n=new fc({ctx:t.ctx,options:e,chart:t});wt.configure(t,n,e),wt.addBox(t,n),t.titleBlock=n}var W3={id:"title",_element:fc,start(t,e,n){z3(t,n)},stop(t){let e=t.titleBlock;wt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;wt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tf=new WeakMap,G3={id:"subtitle",start(t,e,n){let i=new fc({ctx:t.ctx,options:n,chart:t});wt.configure(t,i,n),wt.addBox(t,i),Tf.set(t,i)},stop(t){wt.removeBox(t,Tf.get(t)),Tf.delete(t)},beforeUpdate(t,e,n){let i=Tf.get(t);wt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},dc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let l=t[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=hf(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function ti(t,e){return e&&(Te(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function q3(t,e){let{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function rA(t,e){let n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Je(e.bodyFont),c=Je(e.titleFont),u=Je(e.footerFont),d=s.length,h=r.length,f=i.length,p=ft(e.padding),g=p.height,m=0,y=i.reduce((C,b)=>C+b.before.length+b.lines.length+b.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*C+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0,_=function(C){m=Math.max(m,n.measureText(C).width+v)};return n.save(),n.font=c.string,ye(t.title,_),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,ye(i,C=>{ye(C.before,_),ye(C.lines,_),ye(C.after,_)}),v=0,n.font=u.string,ye(t.footer,_),n.restore(),m+=p.width,{width:m,height:g}}function Y3(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function K3(t,e,n,i){let{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function Q3(t,e,n,i){let{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),K3(c,t,e,n)&&(c="center"),c}function sA(t,e,n){let i=n.yAlign||e.yAlign||Y3(t,n);return{xAlign:n.xAlign||e.xAlign||Q3(t,e,n,i),yAlign:i}}function Z3(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function X3(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function oA(t,e,n,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Dr(o),p=Z3(e,a),g=X3(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:nt(p,0,i.width-e.width),y:nt(g,0,i.height-e.height)}}function Af(t,e,n){let i=ft(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function aA(t){return ti([],Ri(t))}function J3(t,e,n){return Pi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function lA(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var jA={beforeTitle:Jn,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return ae(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function Bt(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?jA[e].call(n,i):r}var cA=(()=>{class t extends An{static positioners=dc;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new kf(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=J3(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,s=Bt(r,"beforeTitle",this,n),o=Bt(r,"title",this,n),a=Bt(r,"afterTitle",this,n),l=[];return l=ti(l,Ri(s)),l=ti(l,Ri(o)),l=ti(l,Ri(a)),l}getBeforeBody(n,i){return aA(Bt(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,s=[];return ye(n,o=>{let a={before:[],lines:[],after:[]},l=lA(r,o);ti(a.before,Ri(Bt(l,"beforeLabel",this,o))),ti(a.lines,Bt(l,"label",this,o)),ti(a.after,Ri(Bt(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,i){return aA(Bt(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,s=Bt(r,"beforeFooter",this,n),o=Bt(r,"footer",this,n),a=Bt(r,"afterFooter",this,n),l=[];return l=ti(l,Ri(s)),l=ti(l,Ri(o)),l=ti(l,Ri(a)),l}_createItems(n){let i=this._active,r=this.chart.data,s=[],o=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push(q3(this.chart,i[c]));return n.filter&&(l=l.filter((d,h,f)=>n.filter(d,h,f,r))),n.itemSort&&(l=l.sort((d,h)=>n.itemSort(d,h,r))),ye(l,d=>{let h=lA(n.callbacks,d);s.push(Bt(h,"labelColor",this,d)),o.push(Bt(h,"labelPointStyle",this,d)),a.push(Bt(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let l=dc[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=rA(this,r),u=Object.assign({},l,c),d=sA(this.chart,r,u),h=oA(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,s){let o=this.getCaretPosition(n,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(n,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Dr(l),{x:f,y:p}=n,{width:g,height:m}=i,y,v,_,C,b,D;return o==="center"?(b=p+m/2,s==="left"?(y=f,v=y-a,C=b+a,D=b-a):(y=f+g,v=y+a,C=b-a,D=b+a),_=y):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,o==="top"?(C=p,b=C-a,y=v-a,_=v+a):(C=p+m,b=C+a,y=v+a,_=v-a),D=C),{x1:y,x2:v,x3:_,y1:C,y2:b,y3:D}}drawTitle(n,i,r){let s=this.title,o=s.length,a,l,c;if(o){let u=bs(r.rtl,this.x,this.width);for(n.x=Af(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=Je(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,c+1===o&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,s,o){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=o,d=Je(o.bodyFont),h=Af(this,"left",o),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=i.y+p;if(o.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=g+c/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,_f(n,m,y,v),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,_f(n,m,y,v)}else{n.lineWidth=ie(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let m=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=Dr(a.borderRadius);Object.values(v).some(_=>_!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,ia(n,{x:m,y:g,w:u,h:c,radius:v}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),ia(n,{x:y,y:g+1,w:u-2,h:c-2,radius:v}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(m,g,u,c),n.strokeRect(m,g,u,c),n.fillStyle=a.backgroundColor,n.fillRect(y,g+1,u-2,c-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=Je(r.bodyFont),f=h.lineHeight,p=0,g=bs(r.rtl,this.x,this.width),m=function(k){i.fillText(k,g.x(n.x+p),n.y+f/2),n.y+=f+o},y=g.textAlign(a),v,_,C,b,D,T,M;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,n.x=Af(this,y,r),i.fillStyle=r.bodyColor,ye(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,b=0,T=s.length;b<T;++b){for(v=s[b],_=this.labelTextColors[b],i.fillStyle=_,ye(v.before,m),C=v.lines,l&&C.length&&(this._drawColorBox(i,n,b,g,r),f=Math.max(h.lineHeight,c)),D=0,M=C.length;D<M;++D)m(C[D]),f=h.lineHeight;ye(v.after,m)}p=0,f=h.lineHeight,ye(this.afterBody,m),n.y-=o}drawFooter(n,i,r){let s=this.footer,o=s.length,a,l;if(o){let c=bs(r.rtl,this.x,this.width);for(n.x=Af(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=Je(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],c.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,s){let{xAlign:o,yAlign:a}=this,{x:l,y:c}=n,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Dr(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(n,i,r,s),i.lineTo(l+u-f,c),i.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&o==="right"&&this.drawCaret(n,i,r,s),i.lineTo(l+u,c+d-g),i.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(n,i,r,s),i.lineTo(l+p,c+d),i.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&o==="left"&&this.drawCaret(n,i,r,s),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=dc[n.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=rA(this,n),c=Object.assign({},a,this._size),u=sA(i,n,c),d=oA(n,c,u,i);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=ft(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,s,i),_b(n,i.textDirection),o.y+=a.top,this.drawTitle(o,n,i),this.drawBody(o,n,i),this.drawFooter(o,n,i),bb(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,s=n.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!tc(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,i,r),l=this._positionChanged(a,n),c=i||!tc(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),c}_getActiveElements(n,i,r,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:s,options:o}=this,a=dc[o.position].call(this,n,i);return a!==!1&&(r!==a.x||s!==a.y)}}return t})(),e5={id:"tooltip",_element:cA,positioners:dc,afterInit(t,e,n){n&&(t.tooltip=new cA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",le(P({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},t5=Object.freeze({__proto__:null,Colors:f3,Decimation:y3,Filler:L3,Legend:H3,SubTitle:G3,Title:W3,Tooltip:e5}),n5=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function i5(t,e,n,i){let r=t.indexOf(e);if(r===-1)return n5(t,e,n,i);let s=t.lastIndexOf(e);return r!==s?n:r}var r5=(t,e)=>t===null?null:nt(Math.round(t),0,e);function uA(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var s5=(()=>{class t extends Ds{static id="category";static defaults={ticks:{callback:uA}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(ae(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:i5(r,n,W(i,n),this._addedLabels),r5(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=n===0&&i===o.length-1?o:o.slice(n,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)s.push({value:a});return s}getLabelForValue(n){return uA.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function o5(t,e){let n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:g,max:m}=e,y=!ae(o),v=!ae(a),_=!ae(c),C=(m-g)/(d+1),b=X_((m-g)/p/f)*f,D,T,M,k;if(b<1e-14&&!y&&!v)return[{value:g},{value:m}];k=Math.ceil(m/b)-Math.floor(g/b),k>p&&(b=X_(k*b/p/f)*f),ae(l)||(D=Math.pow(10,l),b=Math.ceil(b*D)/D),r==="ticks"?(T=Math.floor(g/b)*b,M=Math.ceil(m/b)*b):(T=g,M=m),y&&v&&s&&KM((a-o)/s,b/1e3)?(k=Math.round(Math.min((a-o)/b,u)),b=(a-o)/k,T=o,M=a):_?(T=y?o:T,M=v?a:M,k=c-1,b=(M-T)/k):(k=(M-T)/b,ea(k,Math.round(k),b/1e3)?k=Math.round(k):k=Math.ceil(k));let G=Math.max(eb(b),eb(T));D=Math.pow(10,ae(l)?G:l),T=Math.round(T*D)/D,M=Math.round(M*D)/D;let Y=0;for(y&&(h&&T!==o?(n.push({value:o}),T<o&&Y++,ea(Math.round((T+Y*b)*D)/D,o,dA(o,C,t))&&Y++):T<o&&Y++);Y<k;++Y){let re=Math.round((T+Y*b)*D)/D;if(v&&re>a)break;n.push({value:re})}return v&&h&&M!==a?n.length&&ea(n[n.length-1].value,a,dA(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!v||M===a)&&n.push({value:M}),n}function dA(t,e,{horizontal:n,minRotation:i}){let r=fn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var aa=class extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){let l=Tn(r),c=Tn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=o5(r,s);return e.bounds==="ticks"&&J_(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return na(e,this.chart.options.locale,this.options.ticks.format)}},qb=class extends aa{static id="linear";static defaults={ticks:{callback:nc.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?e:0,this.max=je(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=fn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},pc=t=>Math.floor(Ti(t)),ws=(t,e)=>Math.pow(10,pc(t)+e);function hA(t){return t/Math.pow(10,pc(t))===1}function fA(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function a5(t,e){let n=e-t,i=pc(n);for(;fA(t,e,i)>10;)i++;for(;fA(t,e,i)<10;)i--;return Math.min(i,pc(t))}function l5(t,{min:e,max:n}){e=jt(t.min,e);let i=[],r=pc(e),s=a5(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,s)),h=jt(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)i.push({value:h,major:hA(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;let f=jt(t.max,h);return i.push({value:f,major:hA(f),significand:d}),i}var Yb=class extends Ds{static id="logarithmic";static defaults={ticks:{callback:nc.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=aa.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return je(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?Math.max(0,e):null,this.max=je(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!je(this._userMin)&&(this.min=e===ws(this.min,0)?ws(this.min,-1):ws(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(ws(i,-1)),o(ws(r,1)))),i<=0&&s(ws(r,-1)),r<=0&&o(ws(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=l5(n,this);return e.bounds==="ticks"&&J_(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":na(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ti(e),this._valueRange=Ti(this.max)-Ti(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ti(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Kb(t){let e=t.ticks;if(e.display&&t.display){let n=ft(e.backdropPadding);return W(e.font&&e.font.size,Be.font.size)+n.height}return 0}function c5(t,e,n){return n=Te(n)?n:[n],{w:rT(t,e.string,n),h:n.length*e.lineHeight}}function pA(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function u5(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ae/s:0;for(let l=0;l<s;l++){let c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;let u=t.getPointPosition(l,t.drawingArea+r[l],a),d=Je(c.font),h=c5(t.ctx,d,t._pointLabels[l]);i[l]=h;let f=Vt(t.getIndexAngle(l)+a),p=Math.round(gf(f)),g=pA(p,u.x,h.w,0,180),m=pA(p,u.y,h.h,90,270);d5(n,e,f,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=p5(t,i,r)}function d5(t,e,n,i,r){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function h5(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(gf(Vt(l.angle+$e))),u=y5(l.y,a.h,c),d=g5(c),h=m5(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function f5(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:s}=t;return!(Xn({x:n,y:i},e)||Xn({x:n,y:s},e)||Xn({x:r,y:i},e)||Xn({x:r,y:s},e))}function p5(t,e,n){let i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Kb(s)/2,additionalAngle:o?Ae/r:0},c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];let d=h5(t,u,l);i.push(d),a==="auto"&&(d.visible=f5(d,c),d.visible&&(c=d))}return i}function g5(t){return t===0||t===180?"center":t<180?"left":"right"}function m5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function y5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function v5(t,e,n){let{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ae(a)){let l=Dr(e.borderRadius),c=ft(e.backdropPadding);t.fillStyle=a;let u=i-c.left,d=r-c.top,h=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),ia(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function _5(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let s=t._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(t.getPointLabelContext(r));v5(n,o,s);let a=Je(o.font),{x:l,y:c,textAlign:u}=s;wr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function BA(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Pe);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function b5(t,e,n,i,r){let s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),BA(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function C5(t,e,n){return Pi(t,{label:n,index:e,type:"pointLabel"})}var Qb=class extends aa{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=ft(Kb(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=je(e)&&!isNaN(e)?e:0,this.max=je(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Kb(this.options))}generateTickLabels(e){aa.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=xe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?u5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Pe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Vt(e*n+fn(i))}getDistanceFromCenterForValue(e){if(ae(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ae(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return C5(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-$e+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),BA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length,a,l,c;if(n.pointLabels.display&&_5(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=r.setContext(h),p=s.setContext(h);b5(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;let c=i.setContext(this.getContext(l)),u=Je(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let d=ft(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}wr(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},$f={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ut=Object.keys($f);function gA(t,e){return t-e}function mA(t,e){if(ae(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),je(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(_s(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function yA(t,e,n,i){let r=Ut.length;for(let s=Ut.indexOf(t);s<r-1;++s){let o=$f[Ut[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ut[s]}return Ut[r-1]}function w5(t,e,n,i,r){for(let s=Ut.length-1;s>=Ut.indexOf(n);s--){let o=Ut[s];if($f[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ut[n?Ut.indexOf(n):0]}function D5(t){for(let e=Ut.indexOf(t)+1,n=Ut.length;e<n;++e)if($f[Ut[e]].common)return Ut[e]}function vA(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=mf(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function E5(t,e,n,i){let r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function _A(t,e,n){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:E5(t,i,r,n)}var Zb=(()=>{class t extends Ds{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),s=this._adapter=new Fz._date(n.adapters.date);s.init(i),Xo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:mA(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=je(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=je(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,l=XM(s,o,a);return this._unit=i.unit||(r.autoSkip?yA(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):w5(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:D5(this._unit),this.initOffsets(s),n.reverse&&l.reverse(),_A(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?i=1-s:i=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=nt(i,0,a),r=nt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||yA(o.minUnit,i,r,this._getLabelCapacity(i)),l=W(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=_s(c)||c===!0,d={},h=i,f,p;if(u&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,u?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+n.add(f,l,a),p++)vA(d,f,g);return(f===r||s.bounds==="ticks"||p===1)&&vA(d,f,g),Object.keys(d).sort(gA).map(m=>+m)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return xe(a,[n,i,r],this);let l=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[i],p=u&&h&&f&&f.major;return this._adapter.format(n,s||(p?h:d))}generateTickLabels(n){let i,r,s;for(i=0,r=n.length;i<r;++i)s=n[i],s.label=this._tickFormatFunction(s.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,s=fn(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(n,0,_A(this,[n],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)n=n.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)n.push(mA(this,s[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return ib(n.sort(gA))}}return t})();function Pf(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Zn(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Zn(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);let c=o-s;return c?a+(l-a)*(e-s)/c:a}var Xb=class extends Zb{static id="timeseries";static defaults=Zb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Pf(n,this.min),this._tableRange=Pf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],s=[],o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Pf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Pf(this._table,i*this._tableRange+this._minPos,!0)}},x5=Object.freeze({__proto__:null,CategoryScale:s5,LinearScale:qb,LogarithmicScale:Yb,RadialLinearScale:Qb,TimeScale:Zb,TimeSeriesScale:Xb}),UA=[Oz,a3,t5,x5];var Hf=(()=>{let e=class e{constructor(){this.pesos=[],this.datas=[]}ngOnInit(){Bf.register(...UA);let i=document.getElementById("pesoChart"),r=new Bf(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{scales:{y:{title:{display:!0,text:"Peso"}},x:{title:{display:!0,text:"Data"}}}}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-controle-peso"]],inputs:{pesos:"pesos",datas:"datas"},decls:2,vars:0,consts:[[1,"controle-peso"],["id","pesoChart"]],template:function(r,s){r&1&&(E(0,"div",0),_e(1,"canvas",1),w())}});let t=e;return t})();function S5(t,e){if(t&1){let n=Qu();E(0,"div")(1,"p")(2,"strong"),I(3,"Brinco:"),w(),I(4),w(),E(5,"p")(6,"strong"),I(7,"Brinco do Pai:"),w(),I(8),w(),E(9,"p")(10,"strong"),I(11,"Brinco da M\xE3e:"),w(),I(12),w(),E(13,"p")(14,"strong"),I(15,"Data de Nascimento:"),w(),I(16),sm(17,"date"),w(),E(18,"p")(19,"strong"),I(20,"Data de Sa\xEDda:"),w(),I(21),sm(22,"date"),w(),E(23,"p")(24,"strong"),I(25,"Idade:"),w(),I(26),w(),E(27,"p")(28,"strong"),I(29,"Status:"),w(),I(30),w(),E(31,"p")(32,"strong"),I(33,"Sexo:"),w(),I(34),w(),E(35,"div",23)(36,"button",20),ge("click",function(){let s=so(n).$implicit,o=Bn();return oo(o.editarSuino(s))}),I(37,"Editar"),w(),E(38,"button",20),ge("click",function(){let s=so(n).$implicit,o=Bn();return oo(o.deletarSuino(s.brinco.toString()))}),I(39,"Deletar"),w()()()}if(t&2){let n=e.$implicit,i=Bn();F(4),Mt(" ",n.brinco,""),F(4),Mt(" ",n.brincoPai,""),F(4),Mt(" ",n.brincoMae,""),F(4),Mt(" ",om(17,8,n.dataNascimento),""),F(5),Mt(" ",om(22,10,n.dataSaida),""),F(5),Mt(" ",i.calcularIdade(n.dataNascimento),""),F(4),Mt(" ",n.status,""),F(4),Mt(" ",n.sexo,"")}}var zf=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suinos=[],this.suinosFiltrados=[],this.filtro={}}ngOnInit(){this.carregarSuinos()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i,this.aplicarFiltro()})}calcularIdade(i){let r=new Date,s=new Date(i);return((r.getTime()-s.getTime())/(1e3*60*60*24*30)).toFixed(0)+" meses"}editarSuino(i){console.log("Editar su\xEDno com ID:",i.brinco)}deletarSuino(i){this.suinoService.deleteSuino(i).then(()=>{this.carregarSuinos(),console.log("Su\xEDno deletado com sucesso")}).catch(r=>console.error("Erro ao deletar su\xEDno:",r))}aplicarFiltro(){this.suinosFiltrados=this.suinos.filter(i=>{let r=!0;return this.filtro.brincoPai&&i.brincoPai!==this.filtro.brincoPai&&(r=!1),this.filtro.brincoMae&&i.brincoMae!==this.filtro.brincoMae&&(r=!1),this.filtro.dataNascimento&&i.dataNascimento!==this.filtro.dataNascimento&&(r=!1),this.filtro.dataSaida&&i.dataSaida!==this.filtro.dataSaida&&(r=!1),this.filtro.sexo&&i.sexo!==this.filtro.sexo&&(r=!1),this.filtro.status&&i.status!==this.filtro.status&&(r=!1),r})}limparFiltro(){this.filtro={},this.aplicarFiltro()}};e.\u0275fac=function(r){return new(r||e)(L(mr))},e.\u0275cmp=rt({type:e,selectors:[["app-suino-listagem"]],decls:53,vars:7,consts:[[1,"suino-listagem"],[1,"filtros"],["for","filtroBrincoPai"],["type","text","id","filtroBrincoPai",3,"ngModel","ngModelChange"],["for","filtroBrincoMae"],["type","text","id","filtroBrincoMae",3,"ngModel","ngModelChange"],["for","filtroDataNascimento"],["type","date","id","filtroDataNascimento",3,"ngModel","ngModelChange"],["for","filtroDataSaida"],["type","date","id","filtroDataSaida",3,"ngModel","ngModelChange"],["for","filtroSexo"],["id","filtroSexo",3,"ngModel","ngModelChange"],["value",""],["value","M"],["value","F"],["for","filtroStatus"],["id","filtroStatus",3,"ngModel","ngModelChange"],["value","Ativo"],["value","Vendido"],["value","Morto"],[3,"click"],[1,"lista-suinos"],[4,"ngFor","ngForOf"],[1,"botoes-acao"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h2"),I(2,"Listagem de Su\xEDnos"),w(),E(3,"div",1)(4,"h3"),I(5,"Filtros"),w(),E(6,"div")(7,"label",2),I(8,"Brinco do Pai:"),w(),E(9,"input",3),Qi("ngModelChange",function(a){return Yr(s.filtro.brincoPai,a)||(s.filtro.brincoPai=a),a}),w()(),E(10,"div")(11,"label",4),I(12,"Brinco da M\xE3e:"),w(),E(13,"input",5),Qi("ngModelChange",function(a){return Yr(s.filtro.brincoMae,a)||(s.filtro.brincoMae=a),a}),w()(),E(14,"div")(15,"label",6),I(16,"Data de Nascimento:"),w(),E(17,"input",7),Qi("ngModelChange",function(a){return Yr(s.filtro.dataNascimento,a)||(s.filtro.dataNascimento=a),a}),w()(),E(18,"div")(19,"label",8),I(20,"Data de Sa\xEDda:"),w(),E(21,"input",9),Qi("ngModelChange",function(a){return Yr(s.filtro.dataSaida,a)||(s.filtro.dataSaida=a),a}),w()(),E(22,"div")(23,"label",10),I(24,"Sexo:"),w(),E(25,"select",11),Qi("ngModelChange",function(a){return Yr(s.filtro.sexo,a)||(s.filtro.sexo=a),a}),E(26,"option",12),I(27,"Todos"),w(),E(28,"option",13),I(29,"Macho"),w(),E(30,"option",14),I(31,"F\xEAmea"),w()()(),E(32,"div")(33,"label",15),I(34,"Status:"),w(),E(35,"select",16),Qi("ngModelChange",function(a){return Yr(s.filtro.status,a)||(s.filtro.status=a),a}),E(36,"option",12),I(37,"Todos"),w(),E(38,"option",17),I(39,"Ativo"),w(),E(40,"option",18),I(41,"Vendido"),w(),E(42,"option",19),I(43,"Morto"),w()()(),E(44,"div")(45,"button",20),ge("click",function(){return s.aplicarFiltro()}),I(46,"Aplicar Filtro"),w(),E(47,"button",20),ge("click",function(){return s.limparFiltro()}),I(48,"Limpar Filtro"),w()()(),E(49,"div",21)(50,"h3"),I(51,"Su\xEDnos"),w(),Ne(52,S5,40,12,"div",22),w()()),r&2&&(F(9),Ki("ngModel",s.filtro.brincoPai),F(4),Ki("ngModel",s.filtro.brincoMae),F(4),Ki("ngModel",s.filtro.dataNascimento),F(4),Ki("ngModel",s.filtro.dataSaida),F(4),Ki("ngModel",s.filtro.sexo),F(10),Ki("ngModel",s.filtro.status),F(17),Q("ngForOf",s.suinosFiltrados))},dependencies:[zD,nh,ih,ln,Mo,Wn,Ay,WD],styles:[".suino-listagem[_ngcontent-%COMP%]{margin:20px auto;width:80%}.filtros[_ngcontent-%COMP%]{margin-bottom:20px}.filtros[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px}.filtros[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.filtros[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:5px;border:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px}.lista-suinos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;padding:10px;background-color:#f0f0f0;border-bottom:1px solid #ccc;border-radius:5px 5px 0 0}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.lista-suinos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px;border:none;border-radius:3px;cursor:pointer}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let t=e;return t})();function T5(t,e){t&1&&(E(0,"small"),I(1," A data da pesagem \xE9 obrigat\xF3ria. "),w())}function A5(t,e){t&1&&(E(0,"small"),I(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),w())}var Wf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.pesoId="",this.peso={},this.edicaoPesoForm=this.formBuilder.group({dataPesagem:["",ke.required],peso:["",[ke.required,ke.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){this.carregarPeso()}carregarPeso(){this.suinoService.getPeso(this.pesoId).subscribe(i=>{this.peso=i[0],this.edicaoPesoForm.patchValue({dataPesagem:this.peso.dataPesagem,peso:this.peso.peso})})}salvarEdicao(){if(this.edicaoPesoForm.valid){let{dataPesagem:i,peso:r}=this.edicaoPesoForm.value;this.suinoService.atualizarPeso(this.pesoId,"ID_DO_HISTORICO",i,r).then(()=>{console.log("Peso atualizado com sucesso.")}).catch(s=>{console.error("Erro ao atualizar peso:",s)})}else this.edicaoPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(L(sr),L(mr))},e.\u0275cmp=rt({type:e,selectors:[["app-edicao-peso"]],inputs:{pesoId:"pesoId"},decls:16,vars:4,consts:[[3,"formGroup","ngSubmit"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],[4,"ngIf"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(E(0,"div")(1,"h2"),I(2,"Edi\xE7\xE3o de Peso"),w(),E(3,"form",0),ge("ngSubmit",function(){return s.salvarEdicao()}),E(4,"div")(5,"label",1),I(6,"Data da Pesagem:"),w(),_e(7,"input",2),Ne(8,T5,2,0,"small",3),w(),E(9,"div")(10,"label",4),I(11,"Peso (em Kg):"),w(),_e(12,"input",5),Ne(13,A5,2,0,"small",3),w(),E(14,"button",6),I(15,"Salvar Edi\xE7\xE3o"),w()()()),r&2){let o,a;F(3),Q("formGroup",s.edicaoPesoForm),F(5),Q("ngIf",((o=s.edicaoPesoForm.get("dataPesagem"))==null?null:o.invalid)&&((o=s.edicaoPesoForm.get("dataPesagem"))==null?null:o.touched)),F(5),Q("ngIf",((a=s.edicaoPesoForm.get("peso"))==null?null:a.invalid)&&((a=s.edicaoPesoForm.get("peso"))==null?null:a.touched)),F(),Q("disabled",!s.edicaoPesoForm.valid)}},dependencies:[$n,rr,ln,Wn,ir,wi,Di],styles:["div[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;border-radius:5px}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}small[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var Gf=(()=>{let e=class e{constructor(i,r){this.afAuth=i,this.router=r,this.user$=i.authState}login(i,r){this.afAuth.signInWithEmailAndPassword(i,r).then(()=>{console.log("Login bem-sucedido!"),this.router.navigate(["/dashboard"])}).catch(s=>{console.error("Erro no login:",s),alert("Email ou senha incorretos. Por favor, tente novamente.")})}signUp(i,r){this.afAuth.createUserWithEmailAndPassword(i,r).then(()=>{console.log("Cadastro bem-sucedido!"),this.router.navigate(["/deshbord"])}).catch(s=>{console.error("Erro no cadastro:",s)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logout bem-sucedido!"),this.router.navigate(["/login"])}).catch(i=>{console.error("Erro no logout:",i)})}};e.\u0275fac=function(r){return new(r||e)(x(ml),x(Ci))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N5(t,e){t&1&&(E(0,"small"),I(1," O n\xFAmero de brinco \xE9 obrigat\xF3rio. "),w())}function R5(t,e){t&1&&(E(0,"small"),I(1," A data da pesagem \xE9 obrigat\xF3ria. "),w())}function k5(t,e){t&1&&(E(0,"small"),I(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),w())}var HA=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.cadastroPesoForm=this.formBuilder.group({numeroBrinco:["",ke.required],dataPesagem:["",ke.required],peso:["",[ke.required,ke.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){}cadastrarPeso(){if(this.cadastroPesoForm.valid){let{numeroBrinco:i,dataPesagem:r,peso:s}=this.cadastroPesoForm.value;ce(this.suinoService.cadastrarPeso(i,r,s)).subscribe(()=>{console.log("Peso cadastrado com sucesso."),this.cadastroPesoForm.reset()},o=>{console.error("Erro ao cadastrar peso:",o)})}else this.cadastroPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(L(sr),L(mr))},e.\u0275cmp=rt({type:e,selectors:[["app-cadastro-peso"]],decls:21,vars:5,consts:[[3,"formGroup","ngSubmit"],["for","numeroBrinco"],["type","number","id","numeroBrinco","formControlName","numeroBrinco"],[4,"ngIf"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(E(0,"div")(1,"h2"),I(2,"Cadastro de Peso"),w(),E(3,"form",0),ge("ngSubmit",function(){return s.cadastrarPeso()}),E(4,"div")(5,"label",1),I(6,"N\xFAmero de Brinco:"),w(),_e(7,"input",2),Ne(8,N5,2,0,"small",3),w(),E(9,"div")(10,"label",4),I(11,"Data da Pesagem:"),w(),_e(12,"input",5),Ne(13,R5,2,0,"small",3),w(),E(14,"div")(15,"label",6),I(16,"Peso (em Kg):"),w(),_e(17,"input",7),Ne(18,k5,2,0,"small",3),w(),E(19,"button",8),I(20,"Cadastrar Peso"),w()()()),r&2){let o,a,l;F(3),Q("formGroup",s.cadastroPesoForm),F(5),Q("ngIf",((o=s.cadastroPesoForm.get("numeroBrinco"))==null?null:o.invalid)&&((o=s.cadastroPesoForm.get("numeroBrinco"))==null?null:o.touched)),F(5),Q("ngIf",((a=s.cadastroPesoForm.get("dataPesagem"))==null?null:a.invalid)&&((a=s.cadastroPesoForm.get("dataPesagem"))==null?null:a.touched)),F(5),Q("ngIf",((l=s.cadastroPesoForm.get("peso"))==null?null:l.invalid)&&((l=s.cadastroPesoForm.get("peso"))==null?null:l.touched)),F(),Q("disabled",!s.cadastroPesoForm.valid)}},dependencies:[$n,rr,ln,hl,Wn,ir,wi,Di],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}"]});let t=e;return t})();function F5(t,e){t&1&&(Gr(0),_e(1,"app-suino-cadastro"),qr())}function L5(t,e){t&1&&(Gr(0),_e(1,"app-suino-listagem"),qr())}function V5(t,e){t&1&&(Gr(0),_e(1,"app-controle-peso"),qr())}function j5(t,e){t&1&&(Gr(0),_e(1,"app-edicao-peso"),qr())}function B5(t,e){t&1&&(Gr(0),_e(1,"app-cadastro-peso"),qr())}var zA=(()=>{let e=class e{constructor(i){this.authService=i,this.currentComponent="",this.currentYear=new Date().getFullYear(),this.sidebarHidden=!1}showCadastro(){this.currentComponent="cadastro"}showListagem(){this.currentComponent="listagem"}showControlePeso(){this.currentComponent="controlePeso"}showEdicaoPeso(){this.currentComponent="edicaoPeso"}showCadastroPeso(){this.currentComponent="cadastroPeso"}toggleSidebar(){this.sidebarHidden=!this.sidebarHidden}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(L(Gf))},e.\u0275cmp=rt({type:e,selectors:[["app-dashboard"]],decls:34,vars:18,consts:[[1,"dashboard"],[1,"header"],[1,"toggle-button",3,"click"],[1,"logout-button",3,"click"],[1,"content"],[1,"sidebar"],[1,"button-container"],[3,"click"],[1,"main-content"],[4,"ngIf"],[1,"footer"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"div",1)(2,"h2"),I(3,"Su\xEDnoFarm"),w(),E(4,"button",2),ge("click",function(){return s.toggleSidebar()}),I(5,"\u2630"),w(),E(6,"button",3),ge("click",function(){return s.logout()}),I(7,"Logout"),w()(),E(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),ge("click",function(){return s.showCadastro()}),I(12,"Cadastro de Su\xEDno"),w()(),E(13,"div",6)(14,"button",7),ge("click",function(){return s.showListagem()}),I(15,"Listagem de Su\xEDnos"),w()(),E(16,"div",6)(17,"button",7),ge("click",function(){return s.showControlePeso()}),I(18,"Controle de Peso"),w()(),E(19,"div",6)(20,"button",7),ge("click",function(){return s.showEdicaoPeso()}),I(21,"Edi\xE7\xE3o de Peso"),w()(),E(22,"div",6)(23,"button",7),ge("click",function(){return s.showCadastroPeso()}),I(24,"Cadastro de Peso"),w()()(),E(25,"div",8),Ne(26,F5,2,0,"ng-container",9)(27,L5,2,0,"ng-container",9)(28,V5,2,0,"ng-container",9)(29,j5,2,0,"ng-container",9)(30,B5,2,0,"ng-container",9),w()(),E(31,"div",10)(32,"p"),I(33),w()()()),r&2&&(F(9),En("hide",s.sidebarHidden),F(2),En("active",s.currentComponent==="cadastro"),F(3),En("active",s.currentComponent==="listagem"),F(3),En("active",s.currentComponent==="controlePeso"),F(3),En("active",s.currentComponent==="edicaoPeso"),F(3),En("active",s.currentComponent==="cadastroPeso"),F(3),Q("ngIf",s.currentComponent==="cadastro"),F(),Q("ngIf",s.currentComponent==="listagem"),F(),Q("ngIf",s.currentComponent==="controlePeso"),F(),Q("ngIf",s.currentComponent==="edicaoPeso"),F(),Q("ngIf",s.currentComponent==="cadastroPeso"),F(3),Mt("\xA9 ",s.currentYear," Su\xEDnoFarm. Todos os direitos reservados."))},dependencies:[$n,HA,Hf,Wf,nf,zf],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.content[_ngcontent-%COMP%]{display:flex;flex:1}.sidebar[_ngcontent-%COMP%]{width:200px;background-color:#f0f0f0;padding:10px;transition:width .3s ease}.main-content[_ngcontent-%COMP%]{flex:1;padding:10px}.footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#45a049}.hide[_ngcontent-%COMP%]{display:none}.toggle-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:20px;cursor:pointer}"]});let t=e;return t})();function WA(){return t=>{let e=t.value||"";return/[A-Z]/.test(e)?null:{uppercase:!0}}}function U5(t,e){t&1&&(E(0,"small"),I(1,"O e-mail \xE9 obrigat\xF3rio."),w())}function $5(t,e){t&1&&(E(0,"small"),I(1,"O e-mail n\xE3o \xE9 v\xE1lido."),w())}function H5(t,e){if(t&1&&(E(0,"div"),Ne(1,U5,2,0,"small",4)(2,$5,2,0,"small",4),w()),t&2){let n=Bn(2),i,r;F(),Q("ngIf",(i=n.authForm.get("email"))==null||i.errors==null?null:i.errors.required),F(),Q("ngIf",(r=n.authForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function z5(t,e){t&1&&(E(0,"small"),I(1,"A senha \xE9 obrigat\xF3ria."),w())}function W5(t,e){t&1&&(E(0,"small"),I(1,"A senha deve ter pelo menos 6 caracteres."),w())}function G5(t,e){t&1&&(E(0,"small"),I(1,"A senha deve conter pelo menos uma letra mai\xFAscula."),w())}function q5(t,e){if(t&1&&(E(0,"div"),Ne(1,z5,2,0,"small",4)(2,W5,2,0,"small",4)(3,G5,2,0,"small",4),w()),t&2){let n=Bn(2),i,r,s;F(),Q("ngIf",(i=n.authForm.get("password"))==null||i.errors==null?null:i.errors.required),F(),Q("ngIf",(r=n.authForm.get("password"))==null||r.errors==null?null:r.errors.minlength),F(),Q("ngIf",(s=n.authForm.get("password"))==null||s.errors==null?null:s.errors.uppercase)}}function Y5(t,e){if(t&1){let n=Qu();E(0,"form",1),ge("ngSubmit",function(){so(n);let r=Bn();return oo(r.submitForm())}),_e(1,"input",2)(2,"input",3),Ne(3,H5,3,2,"div",4)(4,q5,4,3,"div",4),E(5,"button",5),I(6),w(),E(7,"button",6),ge("click",function(){so(n);let r=Bn();return oo(r.toggleMode())}),I(8),w()()}if(t&2){let n=Bn(),i,r;Q("formGroup",n.authForm),F(3),Q("ngIf",(i=n.authForm.get("email"))==null?null:i.errors),F(),Q("ngIf",(r=n.authForm.get("password"))==null?null:r.errors),F(2),rm(n.isLoginMode?"Login":"Cadastrar"),F(2),Mt(" ",n.isLoginMode?"N\xE3o tem uma conta? Clique aqui para se cadastrar.":"J\xE1 tem uma conta? Clique aqui para fazer login."," ")}}var GA=(()=>{let e=class e{constructor(i,r){this.authService=i,this.fb=r,this.email="",this.password="",this.isLoginMode=!0,this.authForm=this.fb.group({email:["",[ke.required,ke.email]],password:["",[ke.required,ke.minLength(6),WA()]]})}submitForm(){let i=this.authForm.value.email,r=this.authForm.value.password;this.isLoginMode?this.authService.login(i,r):this.authService.signUp(i,r)}toggleMode(){this.isLoginMode=!this.isLoginMode,this.authForm.reset()}};e.\u0275fac=function(r){return new(r||e)(L(Gf),L(sr))},e.\u0275cmp=rt({type:e,selectors:[["app-auth"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","E-mail","required",""],["type","password","formControlName","password","placeholder","Senha","required",""],[4,"ngIf"],["type","submit"],["type","button",3,"click"]],template:function(r,s){r&1&&Ne(0,Y5,9,5,"form",0),r&2&&Q("ngIf",s.authForm)},dependencies:[$n,rr,ln,Wn,ir,Py,wi,Di],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}input[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border:1px solid #ccc;border-radius:5px;font-size:1rem;width:300px}button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none}nav[_ngcontent-%COMP%]{background-color:#333;padding:10px 20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-right:20px;transition:color .3s ease}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff8c00}"]});let t=e;return t})();var K5=[{path:"login",component:GA},{path:"dashboard",component:zA},{path:"cadastro",component:nf},{path:"controle-peso",component:Hf},{path:"edicao/:id",component:Wf},{path:"listagem",component:zf},{path:"**",redirectTo:"/login",pathMatch:"full"}],qA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Le({imports:[Cy.forRoot(K5),Cy]});let t=e;return t})();var YA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&_e(0,"router-outlet")},dependencies:[py]});let t=e;return t})();var KA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e,bootstrap:[YA]}),e.\u0275inj=Le({imports:[fE,qA,rE,Vx,jx,tI.initializeApp({apiKey:"AIzaSyAEenTbuLW6QkWSCPd-gMNr93VQPP9AwVk",authDomain:"suinofarm-manager.firebaseapp.com",databaseURL:"https://suinofarm-manager-default-rtdb.firebaseio.com",projectId:"suinofarm-manager",storageBucket:"suinofarm-manager.appspot.com",messagingSenderId:"960113480429",appId:"1:960113480429:web:4fc9a410a1ca5c9d2cf2e4"}),IM,nI]});let t=e;return t})();hE().bootstrapModule(KA).catch(t=>console.error(t));
